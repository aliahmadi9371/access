ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"Bootloader.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	Bootloader_Checksum
  20              		.section	.bootloader,"a",%progbits
  21              		.type	Bootloader_Checksum, %object
  22              		.size	Bootloader_Checksum, 1
  23              	Bootloader_Checksum:
  24 0000 00       		.space	1
  25              		.global	Bootloader_SizeBytes
  26 0001 000000   		.align	2
  27              		.type	Bootloader_SizeBytes, %object
  28              		.size	Bootloader_SizeBytes, 4
  29              	Bootloader_SizeBytes:
  30 0004 FFFFFFFF 		.word	-1
  31              		.global	Bootloader_ChecksumAccess
  32              		.data
  33              		.align	2
  34              		.type	Bootloader_ChecksumAccess, %object
  35              		.size	Bootloader_ChecksumAccess, 4
  36              	Bootloader_ChecksumAccess:
  37 0000 00000000 		.word	Bootloader_Checksum
  38              		.global	Bootloader_SizeBytesAccess
  39              		.align	2
  40              		.type	Bootloader_SizeBytesAccess, %object
  41              		.size	Bootloader_SizeBytesAccess, 4
  42              	Bootloader_SizeBytesAccess:
  43 0004 00000000 		.word	Bootloader_SizeBytes
  44              		.bss
  45              		.align	2
  46              	Bootloader_callback:
  47 0000 00000000 		.space	4
  48              		.section	.text.Bootloader_CalcPacketChecksum,"ax",%progbits
  49              		.align	2
  50              		.code	16
  51              		.thumb_func
  52              		.type	Bootloader_CalcPacketChecksum, %function
  53              	Bootloader_CalcPacketChecksum:
  54              	.LFB32:
  55              		.file 1 "Generated_Source\\PSoC4\\Bootloader.c"
   1:Generated_Source\PSoC4/Bootloader.c **** /****************************************************************************//**
   2:Generated_Source\PSoC4/Bootloader.c **** * \file Bootloader.c
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 2


   3:Generated_Source\PSoC4/Bootloader.c **** * \version 1.60
   4:Generated_Source\PSoC4/Bootloader.c **** *
   5:Generated_Source\PSoC4/Bootloader.c **** * \brief
   6:Generated_Source\PSoC4/Bootloader.c **** *   Provides an API for the Bootloader component. The API includes functions
   7:Generated_Source\PSoC4/Bootloader.c **** *   for starting bootloading operations, validating the application and
   8:Generated_Source\PSoC4/Bootloader.c **** *   jumping to the application.
   9:Generated_Source\PSoC4/Bootloader.c **** *
  10:Generated_Source\PSoC4/Bootloader.c **** ********************************************************************************
  11:Generated_Source\PSoC4/Bootloader.c **** * \copyright
  12:Generated_Source\PSoC4/Bootloader.c **** * Copyright 2008-2018, Cypress Semiconductor Corporation.  All rights reserved.
  13:Generated_Source\PSoC4/Bootloader.c **** * You may use this file only in accordance with the license, terms, conditions,
  14:Generated_Source\PSoC4/Bootloader.c **** * disclaimers, and limitations in the end user license agreement accompanying
  15:Generated_Source\PSoC4/Bootloader.c **** * the software package with which this file was provided.
  16:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
  17:Generated_Source\PSoC4/Bootloader.c **** 
  18:Generated_Source\PSoC4/Bootloader.c **** #include "Bootloader_PVT.h"
  19:Generated_Source\PSoC4/Bootloader.c **** 
  20:Generated_Source\PSoC4/Bootloader.c **** #include "cyapicallbacks.h"
  21:Generated_Source\PSoC4/Bootloader.c **** 
  22:Generated_Source\PSoC4/Bootloader.c **** #include "project.h"
  23:Generated_Source\PSoC4/Bootloader.c **** #include <string.h>
  24:Generated_Source\PSoC4/Bootloader.c **** 
  25:Generated_Source\PSoC4/Bootloader.c **** #if (CY_BOOT_VERSION < CY_BOOT_5_0)
  26:Generated_Source\PSoC4/Bootloader.c **** #error Component Bootloader_v1_60 requires cy_boot v5.00 or later
  27:Generated_Source\PSoC4/Bootloader.c **** #endif /* (CY_BOOT_VERSION >= CY_BOOT_5_0) */
  28:Generated_Source\PSoC4/Bootloader.c **** 
  29:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
  30:Generated_Source\PSoC4/Bootloader.c **** * The Checksum and SizeBytes are forcefully set in code. We then post process
  31:Generated_Source\PSoC4/Bootloader.c **** * the hex file from the linker and inject their values. When the hex file
  32:Generated_Source\PSoC4/Bootloader.c **** * is loaded into the device, these two variables should have valid values.
  33:Generated_Source\PSoC4/Bootloader.c **** * Because the compiler can do optimization to remove the constant
  34:Generated_Source\PSoC4/Bootloader.c **** * accesses, these should not be accessed directly. Instead, the variables
  35:Generated_Source\PSoC4/Bootloader.c **** * CyBtldr_ChecksumAccess & CyBtldr_SizeBytesAccess should be used to get the
  36:Generated_Source\PSoC4/Bootloader.c **** * proper values at the runtime.
  37:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
  38:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
  39:Generated_Source\PSoC4/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__)
  40:Generated_Source\PSoC4/Bootloader.c ****     __attribute__((section (".bootloader"), used))
  41:Generated_Source\PSoC4/Bootloader.c **** #elif defined (__ICCARM__)
  42:Generated_Source\PSoC4/Bootloader.c ****     #pragma location=".bootloader"
  43:Generated_Source\PSoC4/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) */
  44:Generated_Source\PSoC4/Bootloader.c **** 
  45:Generated_Source\PSoC4/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__) || defined (__C51__)
  46:Generated_Source\PSoC4/Bootloader.c ****            const uint8  CYCODE Bootloader_Checksum = 0u;
  47:Generated_Source\PSoC4/Bootloader.c **** #elif defined (__ICCARM__)
  48:Generated_Source\PSoC4/Bootloader.c ****     __root const uint8  CYCODE Bootloader_Checksum = 0u;
  49:Generated_Source\PSoC4/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) || defined (__C51__) */
  50:Generated_Source\PSoC4/Bootloader.c **** const uint8  CYCODE *Bootloader_ChecksumAccess  = (const uint8  CYCODE *)(&Bootloader_Checksum);
  51:Generated_Source\PSoC4/Bootloader.c **** 
  52:Generated_Source\PSoC4/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__)
  53:Generated_Source\PSoC4/Bootloader.c ****     __attribute__((section (".bootloader"), used))
  54:Generated_Source\PSoC4/Bootloader.c ****     const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
  55:Generated_Source\PSoC4/Bootloader.c **** #elif defined (__ICCARM__)
  56:Generated_Source\PSoC4/Bootloader.c ****     #pragma location=".bootloader"
  57:Generated_Source\PSoC4/Bootloader.c ****     __root const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
  58:Generated_Source\PSoC4/Bootloader.c **** #elif defined (__C51__)
  59:Generated_Source\PSoC4/Bootloader.c ****     const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 3


  60:Generated_Source\PSoC4/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) */
  61:Generated_Source\PSoC4/Bootloader.c **** 
  62:Generated_Source\PSoC4/Bootloader.c **** const uint32 CYCODE *Bootloader_SizeBytesAccess = (const uint32 CYCODE *)(&Bootloader_SizeBytes);
  63:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
  64:Generated_Source\PSoC4/Bootloader.c **** 
  65:Generated_Source\PSoC4/Bootloader.c **** /**
  66:Generated_Source\PSoC4/Bootloader.c ****  \defgroup variables_group Variables
  67:Generated_Source\PSoC4/Bootloader.c ****  @{
  68:Generated_Source\PSoC4/Bootloader.c **** */
  69:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
  70:Generated_Source\PSoC4/Bootloader.c **** /**
  71:Generated_Source\PSoC4/Bootloader.c ****  *  This variable is intended to indicate that in-application 
  72:Generated_Source\PSoC4/Bootloader.c ****  *  bootloading initialization is done. The initialization itself is performed in the
  73:Generated_Source\PSoC4/Bootloader.c ****  *  Bootloader_Initialize() function. Once the initialization is done,
  74:Generated_Source\PSoC4/Bootloader.c ****  *  the variable is set and this prevents the functionality from reinitialization.
  75:Generated_Source\PSoC4/Bootloader.c ****  */
  76:Generated_Source\PSoC4/Bootloader.c **** uint8 Bootloader_initVar = Bootloader_BOOTLOADING_NOT_INITIALIZED;
  77:Generated_Source\PSoC4/Bootloader.c **** 
  78:Generated_Source\PSoC4/Bootloader.c **** /**
  79:Generated_Source\PSoC4/Bootloader.c ****  *  This variable is intended to keep the current application number. It applies
  80:Generated_Source\PSoC4/Bootloader.c ****  *  only to in-application bootloading.
  81:Generated_Source\PSoC4/Bootloader.c ****  */
  82:Generated_Source\PSoC4/Bootloader.c **** uint8 Bootloader_runningApp = Bootloader_RUNNING_APPLICATION_UNKNOWN;
  83:Generated_Source\PSoC4/Bootloader.c **** 
  84:Generated_Source\PSoC4/Bootloader.c **** /**
  85:Generated_Source\PSoC4/Bootloader.c ****  *  This variable is intended to indicate that 'Enter bootloader' command has
  86:Generated_Source\PSoC4/Bootloader.c ****  *  been received. It applies only to in-application bootloading.
  87:Generated_Source\PSoC4/Bootloader.c ****  */
  88:Generated_Source\PSoC4/Bootloader.c **** uint8 Bootloader_isBootloading = Bootloader_BOOTLOADING_COMPLETED;
  89:Generated_Source\PSoC4/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/
  90:Generated_Source\PSoC4/Bootloader.c **** 
  91:Generated_Source\PSoC4/Bootloader.c **** #if ((0u != Bootloader_DUAL_APP_BOOTLOADER)  || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOT
  92:Generated_Source\PSoC4/Bootloader.c **** /**
  93:Generated_Source\PSoC4/Bootloader.c ****  *  This variable is intended to keep the active application number. It applies
  94:Generated_Source\PSoC4/Bootloader.c ****  *  to Classic Dual-app Bootloader and in-application bootloading.
  95:Generated_Source\PSoC4/Bootloader.c ****  */
  96:Generated_Source\PSoC4/Bootloader.c **** volatile uint8 Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_NONE;
  97:Generated_Source\PSoC4/Bootloader.c **** #else /*SINGLE-APP BOOTLOADER*/
  98:Generated_Source\PSoC4/Bootloader.c ****     #define Bootloader_activeApp      (Bootloader_MD_BTLDB_ACTIVE_0)
  99:Generated_Source\PSoC4/Bootloader.c **** #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
 100:Generated_Source\PSoC4/Bootloader.c **** 
 101:Generated_Source\PSoC4/Bootloader.c **** 
 102:Generated_Source\PSoC4/Bootloader.c **** #if (0u != Bootloader_SECURITY_KEY_AVAIL) 
 103:Generated_Source\PSoC4/Bootloader.c **** /**
 104:Generated_Source\PSoC4/Bootloader.c ****  *  This variable holds the security key for additional safety during communication.
 105:Generated_Source\PSoC4/Bootloader.c ****  */
 106:Generated_Source\PSoC4/Bootloader.c **** static const uint8 CYCODE Bootloader_securityKey[Bootloader_SECURITY_KEY_LENGTH] = {0x11u, 0x22u, 0
 107:Generated_Source\PSoC4/Bootloader.c **** #endif /*(0u != Bootloader_SECURITY_KEY_AVAIL)*/
 108:Generated_Source\PSoC4/Bootloader.c **** 
 109:Generated_Source\PSoC4/Bootloader.c **** #if ((CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) && (!CY_PSOC3))
 110:Generated_Source\PSoC4/Bootloader.c **** /**
 111:Generated_Source\PSoC4/Bootloader.c ****  *  This variable holds the pointer on the user's callback-function that implements the custom 
 112:Generated_Source\PSoC4/Bootloader.c ****  *  bootloader command processing.
 113:Generated_Source\PSoC4/Bootloader.c ****  */
 114:Generated_Source\PSoC4/Bootloader.c **** static Bootloader_callback_type Bootloader_callback = NULL;
 115:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) && (!CY_PSOC3)*/
 116:Generated_Source\PSoC4/Bootloader.c **** /** @}*/
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 4


 117:Generated_Source\PSoC4/Bootloader.c ****  
 118:Generated_Source\PSoC4/Bootloader.c **** /***************************************
 119:Generated_Source\PSoC4/Bootloader.c **** *     Function Prototypes
 120:Generated_Source\PSoC4/Bootloader.c **** ***************************************/
 121:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 122:Generated_Source\PSoC4/Bootloader.c ****     static void  Bootloader_LaunchApplication(void) CYSMALL \
 123:Generated_Source\PSoC4/Bootloader.c ****                     ; 
 124:Generated_Source\PSoC4/Bootloader.c **** #if(!CY_PSOC3)
 125:Generated_Source\PSoC4/Bootloader.c ****     /* Implementation for PSoC 3 resides in Bootloader_psoc3.a51 file.  */
 126:Generated_Source\PSoC4/Bootloader.c ****     static void     Bootloader_LaunchBootloadable(uint32 appAddr);
 127:Generated_Source\PSoC4/Bootloader.c **** #endif  /* (!CY_PSOC3) */
 128:Generated_Source\PSoC4/Bootloader.c **** #endif /* CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER */ 
 129:Generated_Source\PSoC4/Bootloader.c **** 
 130:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
 131:Generated_Source\PSoC4/Bootloader.c ****     static cystatus Bootloader_WritePacket(uint8 status, uint8 buffer[], uint16 size) CYSMALL \
 132:Generated_Source\PSoC4/Bootloader.c ****                                     ;
 133:Generated_Source\PSoC4/Bootloader.c **** 
 134:Generated_Source\PSoC4/Bootloader.c ****     static uint16   Bootloader_CalcPacketChecksum(const uint8 buffer[], uint16 size) CYSMALL \
 135:Generated_Source\PSoC4/Bootloader.c ****                                     ;
 136:Generated_Source\PSoC4/Bootloader.c ****                                     
 137:Generated_Source\PSoC4/Bootloader.c ****     #if (0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
 138:Generated_Source\PSoC4/Bootloader.c ****     static uint8 Bootloader_VerifyRow(uint32 flashStart, const uint8 ramStart[], uint16 size) \
 139:Generated_Source\PSoC4/Bootloader.c ****                 CYSMALL ;                                
 140:Generated_Source\PSoC4/Bootloader.c ****     #endif /*(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)*/            
 141:Generated_Source\PSoC4/Bootloader.c **** 
 142:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)                                    
 143:Generated_Source\PSoC4/Bootloader.c ****     static void Bootloader_HostLink(uint8 timeOut) CYLARGE ;
 144:Generated_Source\PSoC4/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */                            
 145:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)*/
 146:Generated_Source\PSoC4/Bootloader.c ****                                     
 147:Generated_Source\PSoC4/Bootloader.c **** #if (((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)) \
 148:Generated_Source\PSoC4/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
 149:Generated_Source\PSoC4/Bootloader.c ****     static uint8 Bootloader_CheckImage(uint8 appNumber, uint8 arrayNumber, uint16 row, uint16 rowNu
 150:Generated_Source\PSoC4/Bootloader.c ****                                     ;                                    
 151:Generated_Source\PSoC4/Bootloader.c **** #endif /*(((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER))
 152:Generated_Source\PSoC4/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
 153:Generated_Source\PSoC4/Bootloader.c **** 
 154:Generated_Source\PSoC4/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || (0u != Bootloader_DUAL_APP_BOOTL
 155:Generated_Source\PSoC4/Bootloader.c ****     static void Bootloader_SetActiveAppInMetadata(uint8 activeApp) CYSMALL \
 156:Generated_Source\PSoC4/Bootloader.c ****                 ;
 157:Generated_Source\PSoC4/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || (0u != Bootloader_DUAL_APP_
 158:Generated_Source\PSoC4/Bootloader.c **** 
 159:Generated_Source\PSoC4/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 160:Generated_Source\PSoC4/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 161:Generated_Source\PSoC4/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))
 162:Generated_Source\PSoC4/Bootloader.c ****     static uint8 Bootloader_GetActiveAppFromMetadata(void) CYSMALL \
 163:Generated_Source\PSoC4/Bootloader.c ****                 ;                     
 164:Generated_Source\PSoC4/Bootloader.c **** #endif /*((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 165:Generated_Source\PSoC4/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 166:Generated_Source\PSoC4/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) */
 167:Generated_Source\PSoC4/Bootloader.c ****           
 168:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)
 169:Generated_Source\PSoC4/Bootloader.c **** #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)) 
 170:Generated_Source\PSoC4/Bootloader.c ****     static cystatus Bootloader_CopyRow(uint16 srcRowNum, uint16 dstRowNum) \
 171:Generated_Source\PSoC4/Bootloader.c ****                  CYSMALL ;
 172:Generated_Source\PSoC4/Bootloader.c ****     static void Bootloader_Copier(void) CYSMALL ;
 173:Generated_Source\PSoC4/Bootloader.c **** #endif /*(0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 5


 174:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 175:Generated_Source\PSoC4/Bootloader.c ****                        
 176:Generated_Source\PSoC4/Bootloader.c **** 
 177:Generated_Source\PSoC4/Bootloader.c **** /**
 178:Generated_Source\PSoC4/Bootloader.c ****  \defgroup functions_group Functions
 179:Generated_Source\PSoC4/Bootloader.c ****  @{
 180:Generated_Source\PSoC4/Bootloader.c **** */
 181:Generated_Source\PSoC4/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 182:Generated_Source\PSoC4/Bootloader.c ****                                   (0u != Bootloader_DUAL_APP_BOOTLOADER))                          
 183:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 184:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_SetActiveAppInMetadata
 185:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 186:Generated_Source\PSoC4/Bootloader.c **** * \internal
 187:Generated_Source\PSoC4/Bootloader.c **** *
 188:Generated_Source\PSoC4/Bootloader.c **** * \brief
 189:Generated_Source\PSoC4/Bootloader.c **** *    This function sets the active application in metadata.
 190:Generated_Source\PSoC4/Bootloader.c **** *    The other application is set inactive. 
 191:Generated_Source\PSoC4/Bootloader.c **** *
 192:Generated_Source\PSoC4/Bootloader.c **** * \param activeApp
 193:Generated_Source\PSoC4/Bootloader.c **** *   The active application number (0 or 1). If the active application number is
 194:Generated_Source\PSoC4/Bootloader.c **** *   greater than 1, then nothing is done.  
 195:Generated_Source\PSoC4/Bootloader.c **** *
 196:Generated_Source\PSoC4/Bootloader.c **** * \endinternal
 197:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 198:Generated_Source\PSoC4/Bootloader.c **** static void Bootloader_SetActiveAppInMetadata(uint8 activeApp) CYSMALL \
 199:Generated_Source\PSoC4/Bootloader.c ****                      
 200:Generated_Source\PSoC4/Bootloader.c **** {
 201:Generated_Source\PSoC4/Bootloader.c ****     if (Bootloader_MD_BTLDB_ACTIVE_NONE > activeApp)
 202:Generated_Source\PSoC4/Bootloader.c ****     {
 203:Generated_Source\PSoC4/Bootloader.c ****         uint8 CYDATA idx;    
 204:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC4)      
 205:Generated_Source\PSoC4/Bootloader.c ****         if (CYRET_SUCCESS != CySetTemp())
 206:Generated_Source\PSoC4/Bootloader.c ****         {
 207:Generated_Source\PSoC4/Bootloader.c ****             CyHalt(0x00u);
 208:Generated_Source\PSoC4/Bootloader.c ****         }
 209:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (!CY_PSOC4) */    
 210:Generated_Source\PSoC4/Bootloader.c ****         for(idx = 0u; idx < Bootloader_MAX_NUM_OF_BTLDB; idx++)
 211:Generated_Source\PSoC4/Bootloader.c ****         {
 212:Generated_Source\PSoC4/Bootloader.c ****             (void)Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_ACTIVE_OFFSET(idx),
 213:Generated_Source\PSoC4/Bootloader.c ****                                                 (uint8)(idx == activeApp));
 214:Generated_Source\PSoC4/Bootloader.c ****         }
 215:Generated_Source\PSoC4/Bootloader.c ****     }    
 216:Generated_Source\PSoC4/Bootloader.c **** }
 217:Generated_Source\PSoC4/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || 
 218:Generated_Source\PSoC4/Bootloader.c ****                            (0u != Bootloader_DUAL_APP_BOOTLOADER) */ 
 219:Generated_Source\PSoC4/Bootloader.c **** 
 220:Generated_Source\PSoC4/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 221:Generated_Source\PSoC4/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 222:Generated_Source\PSoC4/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))                   
 223:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 224:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_GetActiveAppFromMetadata
 225:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 226:Generated_Source\PSoC4/Bootloader.c **** * \internal
 227:Generated_Source\PSoC4/Bootloader.c **** *
 228:Generated_Source\PSoC4/Bootloader.c **** * \brief
 229:Generated_Source\PSoC4/Bootloader.c **** *    This function performs reading of both metadata sections to
 230:Generated_Source\PSoC4/Bootloader.c **** *    identify an active application. If none application is set active, 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 6


 231:Generated_Source\PSoC4/Bootloader.c **** *    then Bootloader_MD_BTLDB_ACTIVE_NONE (0x02) is returned.
 232:Generated_Source\PSoC4/Bootloader.c **** *
 233:Generated_Source\PSoC4/Bootloader.c **** * \return
 234:Generated_Source\PSoC4/Bootloader.c **** *   The number of active applications. In the case of error:
 235:Generated_Source\PSoC4/Bootloader.c **** *   -  Bootloader_MD_BTLDB_ACTIVE_NONE (0x02) - neither application is initialized;
 236:Generated_Source\PSoC4/Bootloader.c **** *   -  Bootloader_BOTH_ACTIVE (0x03) - both applications are set active;
 237:Generated_Source\PSoC4/Bootloader.c **** *
 238:Generated_Source\PSoC4/Bootloader.c **** * \endinternal 
 239:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 240:Generated_Source\PSoC4/Bootloader.c **** static  uint8 Bootloader_GetActiveAppFromMetadata(void) CYSMALL \
 241:Generated_Source\PSoC4/Bootloader.c ****        
 242:Generated_Source\PSoC4/Bootloader.c **** {
 243:Generated_Source\PSoC4/Bootloader.c ****     uint8 CYDATA result;
 244:Generated_Source\PSoC4/Bootloader.c ****     uint8 CYDATA app0 = (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 
 245:Generated_Source\PSoC4/Bootloader.c ****                                                      Bootloader_MD_BTLDB_ACTIVE_0);
 246:Generated_Source\PSoC4/Bootloader.c ****     uint8 CYDATA app1 = (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 
 247:Generated_Source\PSoC4/Bootloader.c ****                                                      Bootloader_MD_BTLDB_ACTIVE_1);        
 248:Generated_Source\PSoC4/Bootloader.c **** 
 249:Generated_Source\PSoC4/Bootloader.c ****     if (0u != app0)                                                     
 250:Generated_Source\PSoC4/Bootloader.c ****     {
 251:Generated_Source\PSoC4/Bootloader.c ****         if (0u == app1)
 252:Generated_Source\PSoC4/Bootloader.c ****         {
 253:Generated_Source\PSoC4/Bootloader.c ****             /* app0 is active */
 254:Generated_Source\PSoC4/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_0;
 255:Generated_Source\PSoC4/Bootloader.c ****         }
 256:Generated_Source\PSoC4/Bootloader.c ****         else 
 257:Generated_Source\PSoC4/Bootloader.c ****         {
 258:Generated_Source\PSoC4/Bootloader.c ****             /* Both are active */
 259:Generated_Source\PSoC4/Bootloader.c ****             result = Bootloader_BOTH_ACTIVE;
 260:Generated_Source\PSoC4/Bootloader.c ****         }
 261:Generated_Source\PSoC4/Bootloader.c ****     }
 262:Generated_Source\PSoC4/Bootloader.c ****     else /* (0u == app0) */
 263:Generated_Source\PSoC4/Bootloader.c ****     {
 264:Generated_Source\PSoC4/Bootloader.c ****         if (0u != app1)
 265:Generated_Source\PSoC4/Bootloader.c ****         {
 266:Generated_Source\PSoC4/Bootloader.c ****             /* app1 is active */
 267:Generated_Source\PSoC4/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_1;
 268:Generated_Source\PSoC4/Bootloader.c ****         }
 269:Generated_Source\PSoC4/Bootloader.c ****         else
 270:Generated_Source\PSoC4/Bootloader.c ****         {
 271:Generated_Source\PSoC4/Bootloader.c ****             /* Neither app is active. */
 272:Generated_Source\PSoC4/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_NONE;
 273:Generated_Source\PSoC4/Bootloader.c ****         }          
 274:Generated_Source\PSoC4/Bootloader.c ****     }
 275:Generated_Source\PSoC4/Bootloader.c **** 
 276:Generated_Source\PSoC4/Bootloader.c ****     return (result);
 277:Generated_Source\PSoC4/Bootloader.c **** }
 278:Generated_Source\PSoC4/Bootloader.c **** #endif /*((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 279:Generated_Source\PSoC4/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 280:Generated_Source\PSoC4/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) */
 281:Generated_Source\PSoC4/Bootloader.c ****         
 282:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 283:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 284:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_Initialize
 285:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 286:Generated_Source\PSoC4/Bootloader.c **** * 
 287:Generated_Source\PSoC4/Bootloader.c **** * \brief 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 7


 288:Generated_Source\PSoC4/Bootloader.c **** *   Used for in-app bootloading. This function updates the global variable 
 289:Generated_Source\PSoC4/Bootloader.c **** *   Bootloader_runningApp with a running application number.
 290:Generated_Source\PSoC4/Bootloader.c **** *
 291:Generated_Source\PSoC4/Bootloader.c **** *   If the running application number is valid (0 or 1), this function also 
 292:Generated_Source\PSoC4/Bootloader.c **** *   sets the global variable Bootloader_initVar that is used to determine 
 293:Generated_Source\PSoC4/Bootloader.c **** *   if the component can process bootloader commands or not.
 294:Generated_Source\PSoC4/Bootloader.c **** *   This function should be called once in the application project after a startup.
 295:Generated_Source\PSoC4/Bootloader.c **** *
 296:Generated_Source\PSoC4/Bootloader.c **** * \return
 297:Generated_Source\PSoC4/Bootloader.c **** *   Global variables: 
 298:Generated_Source\PSoC4/Bootloader.c **** *     - Bootloader_runningApp
 299:Generated_Source\PSoC4/Bootloader.c **** *     - Bootloader_activeApp
 300:Generated_Source\PSoC4/Bootloader.c **** *     - Bootloader_initVar
 301:Generated_Source\PSoC4/Bootloader.c **** *
 302:Generated_Source\PSoC4/Bootloader.c **** * \details 
 303:Generated_Source\PSoC4/Bootloader.c **** *   This API should be called first to be able to capture the active application 
 304:Generated_Source\PSoC4/Bootloader.c **** *   number that is actually the running application number.
 305:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 306:Generated_Source\PSoC4/Bootloader.c **** void Bootloader_Initialize(void) CYSMALL \
 307:Generated_Source\PSoC4/Bootloader.c ****                                
 308:Generated_Source\PSoC4/Bootloader.c **** {
 309:Generated_Source\PSoC4/Bootloader.c ****     if (Bootloader_BOOTLOADING_NOT_INITIALIZED ==Bootloader_initVar)
 310:Generated_Source\PSoC4/Bootloader.c ****     {
 311:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_activeApp = Bootloader_GetActiveAppFromMetadata();
 312:Generated_Source\PSoC4/Bootloader.c ****         
 313:Generated_Source\PSoC4/Bootloader.c ****         /* Updating with number of active application */    
 314:Generated_Source\PSoC4/Bootloader.c ****         if ((Bootloader_MD_BTLDB_ACTIVE_NONE != Bootloader_activeApp) &&
 315:Generated_Source\PSoC4/Bootloader.c ****             (Bootloader_BOTH_ACTIVE != Bootloader_activeApp))
 316:Generated_Source\PSoC4/Bootloader.c ****         {
 317:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_runningApp = Bootloader_activeApp;
 318:Generated_Source\PSoC4/Bootloader.c ****             
 319:Generated_Source\PSoC4/Bootloader.c ****             /* Bootloader commands are to be processed */
 320:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_initVar = Bootloader_BOOTLADING_INITIALIZED;
 321:Generated_Source\PSoC4/Bootloader.c ****         }
 322:Generated_Source\PSoC4/Bootloader.c ****         else 
 323:Generated_Source\PSoC4/Bootloader.c ****         {
 324:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_runningApp = Bootloader_RUNNING_APPLICATION_UNKNOWN;
 325:Generated_Source\PSoC4/Bootloader.c ****         }
 326:Generated_Source\PSoC4/Bootloader.c ****     }
 327:Generated_Source\PSoC4/Bootloader.c **** }
 328:Generated_Source\PSoC4/Bootloader.c **** 
 329:Generated_Source\PSoC4/Bootloader.c **** /*****************************************************************************
 330:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_GetRunningAppStatus
 331:Generated_Source\PSoC4/Bootloader.c **** **************************************************************************//**
 332:Generated_Source\PSoC4/Bootloader.c **** *
 333:Generated_Source\PSoC4/Bootloader.c **** * \brief 
 334:Generated_Source\PSoC4/Bootloader.c **** *   Used for dual-app or in-app bootloader. Returns the value of the global 
 335:Generated_Source\PSoC4/Bootloader.c **** *   variable Bootloader_runningApp. This function should be called only after the 
 336:Generated_Source\PSoC4/Bootloader.c **** *   Bootloader_Initialize() has been called once.
 337:Generated_Source\PSoC4/Bootloader.c **** *
 338:Generated_Source\PSoC4/Bootloader.c **** * \return 
 339:Generated_Source\PSoC4/Bootloader.c **** *   The application number that is currently being executed. Values are 0 or 1; 
 340:Generated_Source\PSoC4/Bootloader.c **** *     other values indicate "not defined".
 341:Generated_Source\PSoC4/Bootloader.c **** *
 342:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 343:Generated_Source\PSoC4/Bootloader.c **** uint8 Bootloader_GetRunningAppStatus(void) CYSMALL \
 344:Generated_Source\PSoC4/Bootloader.c ****             
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 8


 345:Generated_Source\PSoC4/Bootloader.c **** {  
 346:Generated_Source\PSoC4/Bootloader.c ****     return (Bootloader_runningApp);
 347:Generated_Source\PSoC4/Bootloader.c **** }
 348:Generated_Source\PSoC4/Bootloader.c **** 
 349:Generated_Source\PSoC4/Bootloader.c **** 
 350:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 351:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_GetActiveAppStatus
 352:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 353:Generated_Source\PSoC4/Bootloader.c **** *
 354:Generated_Source\PSoC4/Bootloader.c **** * \brief 
 355:Generated_Source\PSoC4/Bootloader.c **** *   Used for dual-app or in-app bootloader. Returns the value of the global 
 356:Generated_Source\PSoC4/Bootloader.c **** *   variable Bootloader_activeApp. This function should be called only after the 
 357:Generated_Source\PSoC4/Bootloader.c **** *   Bootloader_Initialize() has been called once.
 358:Generated_Source\PSoC4/Bootloader.c **** *
 359:Generated_Source\PSoC4/Bootloader.c **** * \return 
 360:Generated_Source\PSoC4/Bootloader.c **** *   The desired application to be executed. Values are 0 or 1; other values 
 361:Generated_Source\PSoC4/Bootloader.c **** *     indicate "not defined".
 362:Generated_Source\PSoC4/Bootloader.c **** *
 363:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 364:Generated_Source\PSoC4/Bootloader.c **** uint8 Bootloader_GetActiveAppStatus(void) CYSMALL \
 365:Generated_Source\PSoC4/Bootloader.c ****       
 366:Generated_Source\PSoC4/Bootloader.c **** {  
 367:Generated_Source\PSoC4/Bootloader.c ****     /* Read active application number from metadata */
 368:Generated_Source\PSoC4/Bootloader.c ****     Bootloader_activeApp = Bootloader_GetActiveAppFromMetadata();
 369:Generated_Source\PSoC4/Bootloader.c ****     
 370:Generated_Source\PSoC4/Bootloader.c ****     return (Bootloader_activeApp);
 371:Generated_Source\PSoC4/Bootloader.c **** }
 372:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
 373:Generated_Source\PSoC4/Bootloader.c **** 
 374:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
 375:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 376:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_CalcPacketChecksum
 377:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 378:Generated_Source\PSoC4/Bootloader.c **** *  \internal
 379:Generated_Source\PSoC4/Bootloader.c **** *
 380:Generated_Source\PSoC4/Bootloader.c **** *  \brief
 381:Generated_Source\PSoC4/Bootloader.c **** *     This computes a 16-bit checksum for the provided number of bytes contained
 382:Generated_Source\PSoC4/Bootloader.c **** *     in the provided buffer.
 383:Generated_Source\PSoC4/Bootloader.c **** *
 384:Generated_Source\PSoC4/Bootloader.c **** *  \param buffer
 385:Generated_Source\PSoC4/Bootloader.c **** *     The buffer containing the data to compute the checksum.
 386:Generated_Source\PSoC4/Bootloader.c **** *  \param size
 387:Generated_Source\PSoC4/Bootloader.c **** *     The number of bytes in the buffer to compute the checksum.
 388:Generated_Source\PSoC4/Bootloader.c **** *
 389:Generated_Source\PSoC4/Bootloader.c **** *  \return 
 390:Generated_Source\PSoC4/Bootloader.c **** *     A 16-bit checksum for the provided data.
 391:Generated_Source\PSoC4/Bootloader.c **** *
 392:Generated_Source\PSoC4/Bootloader.c **** *  \endinternal
 393:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 394:Generated_Source\PSoC4/Bootloader.c **** static uint16 Bootloader_CalcPacketChecksum(const uint8 buffer[], uint16 size) \
 395:Generated_Source\PSoC4/Bootloader.c ****                     CYSMALL 
 396:Generated_Source\PSoC4/Bootloader.c **** {
  56              		.loc 1 396 0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 16
  59              		@ frame_needed = 1, uses_anonymous_args = 0
  60 0000 80B5     		push	{r7, lr}
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 9


  61              		.cfi_def_cfa_offset 8
  62              		.cfi_offset 7, -8
  63              		.cfi_offset 14, -4
  64 0002 84B0     		sub	sp, sp, #16
  65              		.cfi_def_cfa_offset 24
  66 0004 00AF     		add	r7, sp, #0
  67              		.cfi_def_cfa_register 7
  68 0006 7860     		str	r0, [r7, #4]
  69 0008 0A00     		movs	r2, r1
  70 000a BB1C     		adds	r3, r7, #2
  71 000c 1A80     		strh	r2, [r3]
 397:Generated_Source\PSoC4/Bootloader.c ****     #if(0u != Bootloader_PACKET_CHECKSUM_CRC)
 398:Generated_Source\PSoC4/Bootloader.c **** 
 399:Generated_Source\PSoC4/Bootloader.c ****         uint16 CYDATA crc = Bootloader_CRC_CCITT_INITIAL_VALUE;
 400:Generated_Source\PSoC4/Bootloader.c ****         uint16 CYDATA tmp;
 401:Generated_Source\PSoC4/Bootloader.c ****         uint8  CYDATA i;
 402:Generated_Source\PSoC4/Bootloader.c ****         uint16 CYDATA tmpIndex = size;
 403:Generated_Source\PSoC4/Bootloader.c **** 
 404:Generated_Source\PSoC4/Bootloader.c ****         if(0u == size)
 405:Generated_Source\PSoC4/Bootloader.c ****         {
 406:Generated_Source\PSoC4/Bootloader.c ****             crc = ~crc;
 407:Generated_Source\PSoC4/Bootloader.c ****         }
 408:Generated_Source\PSoC4/Bootloader.c ****         else
 409:Generated_Source\PSoC4/Bootloader.c ****         {
 410:Generated_Source\PSoC4/Bootloader.c ****             do
 411:Generated_Source\PSoC4/Bootloader.c ****             {
 412:Generated_Source\PSoC4/Bootloader.c ****                 tmp = buffer[tmpIndex - size];
 413:Generated_Source\PSoC4/Bootloader.c **** 
 414:Generated_Source\PSoC4/Bootloader.c ****                 for (i = 0u; i < 8u; i++)
 415:Generated_Source\PSoC4/Bootloader.c ****                 {
 416:Generated_Source\PSoC4/Bootloader.c ****                     if (0u != ((crc & 0x0001u) ^ (tmp & 0x0001u)))
 417:Generated_Source\PSoC4/Bootloader.c ****                     {
 418:Generated_Source\PSoC4/Bootloader.c ****                         crc = (crc >> 1u) ^ Bootloader_CRC_CCITT_POLYNOMIAL;
 419:Generated_Source\PSoC4/Bootloader.c ****                     }
 420:Generated_Source\PSoC4/Bootloader.c ****                     else
 421:Generated_Source\PSoC4/Bootloader.c ****                     {
 422:Generated_Source\PSoC4/Bootloader.c ****                         crc >>= 1u;
 423:Generated_Source\PSoC4/Bootloader.c ****                     }
 424:Generated_Source\PSoC4/Bootloader.c **** 
 425:Generated_Source\PSoC4/Bootloader.c ****                     tmp >>= 1u;
 426:Generated_Source\PSoC4/Bootloader.c ****                 }
 427:Generated_Source\PSoC4/Bootloader.c **** 
 428:Generated_Source\PSoC4/Bootloader.c ****                 size--;
 429:Generated_Source\PSoC4/Bootloader.c ****             }
 430:Generated_Source\PSoC4/Bootloader.c ****             while(0u != size);
 431:Generated_Source\PSoC4/Bootloader.c **** 
 432:Generated_Source\PSoC4/Bootloader.c ****             crc = ~crc;
 433:Generated_Source\PSoC4/Bootloader.c ****             tmp = crc;
 434:Generated_Source\PSoC4/Bootloader.c ****             crc = ( uint16 )(crc << 8u) | (tmp >> 8u);
 435:Generated_Source\PSoC4/Bootloader.c ****         }
 436:Generated_Source\PSoC4/Bootloader.c **** 
 437:Generated_Source\PSoC4/Bootloader.c ****         return(crc);
 438:Generated_Source\PSoC4/Bootloader.c **** 
 439:Generated_Source\PSoC4/Bootloader.c ****     #else
 440:Generated_Source\PSoC4/Bootloader.c **** 
 441:Generated_Source\PSoC4/Bootloader.c ****         uint16 CYDATA sum = 0u;
  72              		.loc 1 441 0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 10


  73 000e 0E23     		movs	r3, #14
  74 0010 FB18     		adds	r3, r7, r3
  75 0012 0022     		movs	r2, #0
  76 0014 1A80     		strh	r2, [r3]
 442:Generated_Source\PSoC4/Bootloader.c **** 
 443:Generated_Source\PSoC4/Bootloader.c ****         while (size > 0u)
  77              		.loc 1 443 0
  78 0016 12E0     		b	.L2
  79              	.L3:
 444:Generated_Source\PSoC4/Bootloader.c ****         {
 445:Generated_Source\PSoC4/Bootloader.c ****             sum += buffer[size - 1u];
  80              		.loc 1 445 0
  81 0018 BB1C     		adds	r3, r7, #2
  82 001a 1B88     		ldrh	r3, [r3]
  83 001c 013B     		subs	r3, r3, #1
  84 001e 7A68     		ldr	r2, [r7, #4]
  85 0020 D318     		adds	r3, r2, r3
  86 0022 1B78     		ldrb	r3, [r3]
  87 0024 99B2     		uxth	r1, r3
  88 0026 0E23     		movs	r3, #14
  89 0028 FB18     		adds	r3, r7, r3
  90 002a 0E22     		movs	r2, #14
  91 002c BA18     		adds	r2, r7, r2
  92 002e 1288     		ldrh	r2, [r2]
  93 0030 8A18     		adds	r2, r1, r2
  94 0032 1A80     		strh	r2, [r3]
 446:Generated_Source\PSoC4/Bootloader.c ****             size--;
  95              		.loc 1 446 0
  96 0034 BB1C     		adds	r3, r7, #2
  97 0036 1A88     		ldrh	r2, [r3]
  98 0038 BB1C     		adds	r3, r7, #2
  99 003a 013A     		subs	r2, r2, #1
 100 003c 1A80     		strh	r2, [r3]
 101              	.L2:
 443:Generated_Source\PSoC4/Bootloader.c ****         {
 102              		.loc 1 443 0
 103 003e BB1C     		adds	r3, r7, #2
 104 0040 1B88     		ldrh	r3, [r3]
 105 0042 002B     		cmp	r3, #0
 106 0044 E8D1     		bne	.L3
 447:Generated_Source\PSoC4/Bootloader.c ****         }
 448:Generated_Source\PSoC4/Bootloader.c **** 
 449:Generated_Source\PSoC4/Bootloader.c ****         return(( uint16 )1u + ( uint16 )(~sum));
 107              		.loc 1 449 0
 108 0046 0E23     		movs	r3, #14
 109 0048 FB18     		adds	r3, r7, r3
 110 004a 1B88     		ldrh	r3, [r3]
 111 004c 5B42     		rsbs	r3, r3, #0
 112 004e 9BB2     		uxth	r3, r3
 450:Generated_Source\PSoC4/Bootloader.c **** 
 451:Generated_Source\PSoC4/Bootloader.c ****     #endif /* (0u != Bootloader_PACKET_CHECKSUM_CRC) */
 452:Generated_Source\PSoC4/Bootloader.c **** }
 113              		.loc 1 452 0
 114 0050 1800     		movs	r0, r3
 115 0052 BD46     		mov	sp, r7
 116 0054 04B0     		add	sp, sp, #16
 117              		@ sp needed
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 11


 118 0056 80BD     		pop	{r7, pc}
 119              		.cfi_endproc
 120              	.LFE32:
 121              		.size	Bootloader_CalcPacketChecksum, .-Bootloader_CalcPacketChecksum
 122              		.section	.text.Bootloader_InitCallback,"ax",%progbits
 123              		.align	2
 124              		.global	Bootloader_InitCallback
 125              		.code	16
 126              		.thumb_func
 127              		.type	Bootloader_InitCallback, %function
 128              	Bootloader_InitCallback:
 129              	.LFB33:
 453:Generated_Source\PSoC4/Bootloader.c **** 
 454:Generated_Source\PSoC4/Bootloader.c **** #if (!CY_PSOC3)
 455:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 456:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_InitCallback
 457:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 458:Generated_Source\PSoC4/Bootloader.c **** *
 459:Generated_Source\PSoC4/Bootloader.c **** * \brief
 460:Generated_Source\PSoC4/Bootloader.c **** *  This function initializes the callback functionality.
 461:Generated_Source\PSoC4/Bootloader.c **** *  
 462:Generated_Source\PSoC4/Bootloader.c **** * \param userCallback
 463:Generated_Source\PSoC4/Bootloader.c **** *  The user's callback function.
 464:Generated_Source\PSoC4/Bootloader.c **** *
 465:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 466:Generated_Source\PSoC4/Bootloader.c **** void Bootloader_InitCallback(Bootloader_callback_type userCallback) \
 467:Generated_Source\PSoC4/Bootloader.c ****            CYSMALL 
 468:Generated_Source\PSoC4/Bootloader.c **** {
 130              		.loc 1 468 0
 131              		.cfi_startproc
 132              		@ args = 0, pretend = 0, frame = 8
 133              		@ frame_needed = 1, uses_anonymous_args = 0
 134 0000 80B5     		push	{r7, lr}
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 7, -8
 137              		.cfi_offset 14, -4
 138 0002 82B0     		sub	sp, sp, #8
 139              		.cfi_def_cfa_offset 16
 140 0004 00AF     		add	r7, sp, #0
 141              		.cfi_def_cfa_register 7
 142 0006 7860     		str	r0, [r7, #4]
 469:Generated_Source\PSoC4/Bootloader.c ****     Bootloader_callback = userCallback;
 143              		.loc 1 469 0
 144 0008 034B     		ldr	r3, .L6
 145 000a 7A68     		ldr	r2, [r7, #4]
 146 000c 1A60     		str	r2, [r3]
 470:Generated_Source\PSoC4/Bootloader.c **** }
 147              		.loc 1 470 0
 148 000e C046     		nop
 149 0010 BD46     		mov	sp, r7
 150 0012 02B0     		add	sp, sp, #8
 151              		@ sp needed
 152 0014 80BD     		pop	{r7, pc}
 153              	.L7:
 154 0016 C046     		.align	2
 155              	.L6:
 156 0018 00000000 		.word	Bootloader_callback
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 12


 157              		.cfi_endproc
 158              	.LFE33:
 159              		.size	Bootloader_InitCallback, .-Bootloader_InitCallback
 160              		.section	.text.Bootloader_Calc8BitSum,"ax",%progbits
 161              		.align	2
 162              		.global	Bootloader_Calc8BitSum
 163              		.code	16
 164              		.thumb_func
 165              		.type	Bootloader_Calc8BitSum, %function
 166              	Bootloader_Calc8BitSum:
 167              	.LFB34:
 471:Generated_Source\PSoC4/Bootloader.c **** #endif /* (!CY_PSOC3) */
 472:Generated_Source\PSoC4/Bootloader.c **** 
 473:Generated_Source\PSoC4/Bootloader.c **** 
 474:Generated_Source\PSoC4/Bootloader.c **** #if (0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
 475:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 476:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_VerifyRow
 477:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 478:Generated_Source\PSoC4/Bootloader.c **** *  \internal
 479:Generated_Source\PSoC4/Bootloader.c **** * 
 480:Generated_Source\PSoC4/Bootloader.c **** *  \brief
 481:Generated_Source\PSoC4/Bootloader.c **** *   This API performs a byte to byte verifying of the flash row against the data 
 482:Generated_Source\PSoC4/Bootloader.c **** *   in the input buffer. 
 483:Generated_Source\PSoC4/Bootloader.c **** *
 484:Generated_Source\PSoC4/Bootloader.c **** *  \param flashStart 
 485:Generated_Source\PSoC4/Bootloader.c **** *        The start address of a row in flash.
 486:Generated_Source\PSoC4/Bootloader.c **** *  \param ramStart 
 487:Generated_Source\PSoC4/Bootloader.c **** *        The start address of corresponding data to compare in the RAM buffer.
 488:Generated_Source\PSoC4/Bootloader.c **** *  \param size 
 489:Generated_Source\PSoC4/Bootloader.c **** *        The data length (common for both arrays).
 490:Generated_Source\PSoC4/Bootloader.c **** *
 491:Generated_Source\PSoC4/Bootloader.c **** *  \return
 492:Generated_Source\PSoC4/Bootloader.c **** *   CYRET_SUCCESS - If all data matches.
 493:Generated_Source\PSoC4/Bootloader.c **** *  \n Bootloader_ERR_VERIFY - If there is any mismatch.
 494:Generated_Source\PSoC4/Bootloader.c **** *
 495:Generated_Source\PSoC4/Bootloader.c **** * \endinternal 
 496:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 497:Generated_Source\PSoC4/Bootloader.c **** static uint8 Bootloader_VerifyRow(uint32 flashStart, const uint8 ramStart[], uint16 size) \
 498:Generated_Source\PSoC4/Bootloader.c ****                 CYSMALL 
 499:Generated_Source\PSoC4/Bootloader.c **** {
 500:Generated_Source\PSoC4/Bootloader.c ****     uint8 CYDATA result = CYRET_SUCCESS;
 501:Generated_Source\PSoC4/Bootloader.c ****     uint16 CYDATA idx;
 502:Generated_Source\PSoC4/Bootloader.c **** 
 503:Generated_Source\PSoC4/Bootloader.c ****     for(idx = 0u; idx < size; idx++)
 504:Generated_Source\PSoC4/Bootloader.c ****     {
 505:Generated_Source\PSoC4/Bootloader.c ****         if (CY_GET_XTND_REG8((uint8 CYFAR *)(flashStart + idx)) != ramStart[idx])
 506:Generated_Source\PSoC4/Bootloader.c ****         {
 507:Generated_Source\PSoC4/Bootloader.c ****             result = Bootloader_ERR_VERIFY;
 508:Generated_Source\PSoC4/Bootloader.c ****             break;
 509:Generated_Source\PSoC4/Bootloader.c ****         }    
 510:Generated_Source\PSoC4/Bootloader.c ****     }
 511:Generated_Source\PSoC4/Bootloader.c **** 
 512:Generated_Source\PSoC4/Bootloader.c ****     return (result);
 513:Generated_Source\PSoC4/Bootloader.c **** }
 514:Generated_Source\PSoC4/Bootloader.c **** #endif /*(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)*/
 515:Generated_Source\PSoC4/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER*/
 516:Generated_Source\PSoC4/Bootloader.c **** 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 13


 517:Generated_Source\PSoC4/Bootloader.c **** 
 518:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 519:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_Calc8BitSum
 520:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 521:Generated_Source\PSoC4/Bootloader.c **** *
 522:Generated_Source\PSoC4/Bootloader.c **** * \brief
 523:Generated_Source\PSoC4/Bootloader.c **** *  This computes an 8-bit sum for the provided number of bytes contained in
 524:Generated_Source\PSoC4/Bootloader.c **** *  flash (if baseAddr equals CY_FLASH_BASE) or EEPROM (if baseAddr equals
 525:Generated_Source\PSoC4/Bootloader.c **** *  CY_EEPROM_BASE).
 526:Generated_Source\PSoC4/Bootloader.c **** *
 527:Generated_Source\PSoC4/Bootloader.c **** * \param baseAddr
 528:Generated_Source\PSoC4/Bootloader.c **** *   CY_FLASH_BASE
 529:Generated_Source\PSoC4/Bootloader.c **** *   CY_EEPROM_BASE - applicable only for PSoC 3 / PSoC 5LP devices.
 530:Generated_Source\PSoC4/Bootloader.c **** *
 531:Generated_Source\PSoC4/Bootloader.c **** * \param start
 532:Generated_Source\PSoC4/Bootloader.c **** *     The starting address to start summing data.
 533:Generated_Source\PSoC4/Bootloader.c **** * \param size
 534:Generated_Source\PSoC4/Bootloader.c **** *     The number of bytes to read and compute the sum.
 535:Generated_Source\PSoC4/Bootloader.c **** *
 536:Generated_Source\PSoC4/Bootloader.c **** * \return
 537:Generated_Source\PSoC4/Bootloader.c **** *   An 8-bit sum for the provided data.
 538:Generated_Source\PSoC4/Bootloader.c **** *
 539:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 540:Generated_Source\PSoC4/Bootloader.c **** uint8 Bootloader_Calc8BitSum(uint32 baseAddr, uint32 start, uint32 size) \
 541:Generated_Source\PSoC4/Bootloader.c ****                 CYSMALL 
 542:Generated_Source\PSoC4/Bootloader.c **** {
 168              		.loc 1 542 0
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 24
 171              		@ frame_needed = 1, uses_anonymous_args = 0
 172 0000 80B5     		push	{r7, lr}
 173              		.cfi_def_cfa_offset 8
 174              		.cfi_offset 7, -8
 175              		.cfi_offset 14, -4
 176 0002 86B0     		sub	sp, sp, #24
 177              		.cfi_def_cfa_offset 32
 178 0004 00AF     		add	r7, sp, #0
 179              		.cfi_def_cfa_register 7
 180 0006 F860     		str	r0, [r7, #12]
 181 0008 B960     		str	r1, [r7, #8]
 182 000a 7A60     		str	r2, [r7, #4]
 543:Generated_Source\PSoC4/Bootloader.c ****     uint8 CYDATA sum = 0u;
 183              		.loc 1 543 0
 184 000c 1723     		movs	r3, #23
 185 000e FB18     		adds	r3, r7, r3
 186 0010 0022     		movs	r2, #0
 187 0012 1A70     		strb	r2, [r3]
 544:Generated_Source\PSoC4/Bootloader.c **** 
 545:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC4)
 546:Generated_Source\PSoC4/Bootloader.c ****         CYASSERT((baseAddr == CY_EEPROM_BASE) || (baseAddr == CY_FLASH_BASE));
 547:Generated_Source\PSoC4/Bootloader.c ****     #else
 548:Generated_Source\PSoC4/Bootloader.c ****         CYASSERT(baseAddr == CY_FLASH_BASE);
 188              		.loc 1 548 0
 189 0014 FB68     		ldr	r3, [r7, #12]
 190 0016 002B     		cmp	r3, #0
 191 0018 14D0     		beq	.L10
 192              		.loc 1 548 0 is_stmt 0 discriminator 1
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 14


 193 001a 0020     		movs	r0, #0
 194 001c FFF7FEFF 		bl	CyHalt
 549:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (!CY_PSOC4) */
 550:Generated_Source\PSoC4/Bootloader.c **** 
 551:Generated_Source\PSoC4/Bootloader.c ****     while (size > 0u)
 195              		.loc 1 551 0 is_stmt 1 discriminator 1
 196 0020 10E0     		b	.L10
 197              	.L11:
 552:Generated_Source\PSoC4/Bootloader.c ****     {
 553:Generated_Source\PSoC4/Bootloader.c ****         size--;
 198              		.loc 1 553 0
 199 0022 7B68     		ldr	r3, [r7, #4]
 200 0024 013B     		subs	r3, r3, #1
 201 0026 7B60     		str	r3, [r7, #4]
 554:Generated_Source\PSoC4/Bootloader.c ****         sum += CY_GET_XTND_REG8((uint8 CYFAR *)(baseAddr + start + size));
 202              		.loc 1 554 0
 203 0028 FA68     		ldr	r2, [r7, #12]
 204 002a BB68     		ldr	r3, [r7, #8]
 205 002c D218     		adds	r2, r2, r3
 206 002e 7B68     		ldr	r3, [r7, #4]
 207 0030 D318     		adds	r3, r2, r3
 208 0032 1B78     		ldrb	r3, [r3]
 209 0034 D9B2     		uxtb	r1, r3
 210 0036 1723     		movs	r3, #23
 211 0038 FB18     		adds	r3, r7, r3
 212 003a 1722     		movs	r2, #23
 213 003c BA18     		adds	r2, r7, r2
 214 003e 1278     		ldrb	r2, [r2]
 215 0040 8A18     		adds	r2, r1, r2
 216 0042 1A70     		strb	r2, [r3]
 217              	.L10:
 551:Generated_Source\PSoC4/Bootloader.c ****     {
 218              		.loc 1 551 0
 219 0044 7B68     		ldr	r3, [r7, #4]
 220 0046 002B     		cmp	r3, #0
 221 0048 EBD1     		bne	.L11
 555:Generated_Source\PSoC4/Bootloader.c ****     }
 556:Generated_Source\PSoC4/Bootloader.c **** 
 557:Generated_Source\PSoC4/Bootloader.c ****     return(sum);
 222              		.loc 1 557 0
 223 004a 1723     		movs	r3, #23
 224 004c FB18     		adds	r3, r7, r3
 225 004e 1B78     		ldrb	r3, [r3]
 558:Generated_Source\PSoC4/Bootloader.c **** }
 226              		.loc 1 558 0
 227 0050 1800     		movs	r0, r3
 228 0052 BD46     		mov	sp, r7
 229 0054 06B0     		add	sp, sp, #24
 230              		@ sp needed
 231 0056 80BD     		pop	{r7, pc}
 232              		.cfi_endproc
 233              	.LFE34:
 234              		.size	Bootloader_Calc8BitSum, .-Bootloader_Calc8BitSum
 235              		.section	.text.Bootloader_Start,"ax",%progbits
 236              		.align	2
 237              		.global	Bootloader_Start
 238              		.code	16
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 15


 239              		.thumb_func
 240              		.type	Bootloader_Start, %function
 241              	Bootloader_Start:
 242              	.LFB35:
 559:Generated_Source\PSoC4/Bootloader.c **** 
 560:Generated_Source\PSoC4/Bootloader.c **** 
 561:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)
 562:Generated_Source\PSoC4/Bootloader.c **** #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)) 
 563:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 564:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_CopyRow
 565:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 566:Generated_Source\PSoC4/Bootloader.c **** * \internal
 567:Generated_Source\PSoC4/Bootloader.c **** *
 568:Generated_Source\PSoC4/Bootloader.c **** * \brief
 569:Generated_Source\PSoC4/Bootloader.c **** *   This function performs copying of a specified row to specified 
 570:Generated_Source\PSoC4/Bootloader.c **** *     location.
 571:Generated_Source\PSoC4/Bootloader.c **** *
 572:Generated_Source\PSoC4/Bootloader.c **** * \param
 573:Generated_Source\PSoC4/Bootloader.c **** *   srcRowNum - The number of a row to copy from.
 574:Generated_Source\PSoC4/Bootloader.c **** * \param             
 575:Generated_Source\PSoC4/Bootloader.c **** *   dstRowNum - The number of a row to be copied to.
 576:Generated_Source\PSoC4/Bootloader.c **** *
 577:Generated_Source\PSoC4/Bootloader.c **** * \return
 578:Generated_Source\PSoC4/Bootloader.c **** *   \n CYRET_SUCCESS - If everything went right. 
 579:Generated_Source\PSoC4/Bootloader.c **** *   \n Otherwise, produce an error code indicating a problem.  
 580:Generated_Source\PSoC4/Bootloader.c **** * 
 581:Generated_Source\PSoC4/Bootloader.c **** * \endinternal
 582:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 583:Generated_Source\PSoC4/Bootloader.c **** static cystatus Bootloader_CopyRow(uint16 srcRowNum, uint16 dstRowNum) \
 584:Generated_Source\PSoC4/Bootloader.c ****                  CYSMALL 
 585:Generated_Source\PSoC4/Bootloader.c **** {
 586:Generated_Source\PSoC4/Bootloader.c ****     /*Buffer for row copy procedure*/
 587:Generated_Source\PSoC4/Bootloader.c ****     uint8  rowBuffer[CYDEV_FLS_ROW_SIZE];
 588:Generated_Source\PSoC4/Bootloader.c ****     cystatus result = CYRET_SUCCESS;
 589:Generated_Source\PSoC4/Bootloader.c **** 
 590:Generated_Source\PSoC4/Bootloader.c ****     uint32 srcBaseAddr = CYDEV_FLASH_BASE + srcRowNum * CYDEV_FLS_ROW_SIZE;
 591:Generated_Source\PSoC4/Bootloader.c ****     uint16 idx;
 592:Generated_Source\PSoC4/Bootloader.c **** 
 593:Generated_Source\PSoC4/Bootloader.c ****     for(idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 594:Generated_Source\PSoC4/Bootloader.c ****     {
 595:Generated_Source\PSoC4/Bootloader.c ****         rowBuffer[idx] = Bootloader_GET_CODE_BYTE(srcBaseAddr + idx);
 596:Generated_Source\PSoC4/Bootloader.c ****     }
 597:Generated_Source\PSoC4/Bootloader.c ****     
 598:Generated_Source\PSoC4/Bootloader.c ****     result = CySysFlashWriteRow((uint16) dstRowNum, rowBuffer);
 599:Generated_Source\PSoC4/Bootloader.c ****     
 600:Generated_Source\PSoC4/Bootloader.c ****     return (result);
 601:Generated_Source\PSoC4/Bootloader.c **** }
 602:Generated_Source\PSoC4/Bootloader.c **** 
 603:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 604:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_Copier
 605:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 606:Generated_Source\PSoC4/Bootloader.c **** *  \internal
 607:Generated_Source\PSoC4/Bootloader.c **** *  
 608:Generated_Source\PSoC4/Bootloader.c **** *  \brief
 609:Generated_Source\PSoC4/Bootloader.c **** *    This option is specific for Launcher-Combination architecture only and to 
 610:Generated_Source\PSoC4/Bootloader.c **** *    the case when there is a large communication component like BLE. To save 
 611:Generated_Source\PSoC4/Bootloader.c **** *    flash space for the user application, such a large communication component 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 16


 612:Generated_Source\PSoC4/Bootloader.c **** *    is present only in the first application (Stack application) and is "shared" 
 613:Generated_Source\PSoC4/Bootloader.c **** *    with the second application (the user's application actually) by "Code 
 614:Generated_Source\PSoC4/Bootloader.c **** *    sharing feature" (See code sharing and BLE Upgradable Stack example project). 
 615:Generated_Source\PSoC4/Bootloader.c **** *
 616:Generated_Source\PSoC4/Bootloader.c **** * \n If this option is enabled and the "need-to-copy" flag is set in the second 
 617:Generated_Source\PSoC4/Bootloader.c **** *    application's metadata, Copier performs copying of a previously saved Stack 
 618:Generated_Source\PSoC4/Bootloader.c **** *    application image from a "temporary location" to the app#1 flash 
 619:Generated_Source\PSoC4/Bootloader.c **** *    space (over the current app#1).
 620:Generated_Source\PSoC4/Bootloader.c **** *   
 621:Generated_Source\PSoC4/Bootloader.c **** * \n Before performing the copying operation the new Stack application image 
 622:Generated_Source\PSoC4/Bootloader.c **** *    should be received and stored at the temporary location by the current 
 623:Generated_Source\PSoC4/Bootloader.c **** *    Stack application. The "need-to-copy" flag should be set in app#2 metadata 
 624:Generated_Source\PSoC4/Bootloader.c **** *    indicating that copying operation is required.
 625:Generated_Source\PSoC4/Bootloader.c **** *
 626:Generated_Source\PSoC4/Bootloader.c **** * \n The temporary location is half of the flash space that left after Launcher 
 627:Generated_Source\PSoC4/Bootloader.c **** *    and 2 metadata rows. This implies that Stack application should fit in 
 628:Generated_Source\PSoC4/Bootloader.c **** *    that half of the flash space. 
 629:Generated_Source\PSoC4/Bootloader.c **** *
 630:Generated_Source\PSoC4/Bootloader.c **** * \n The destination for the copy operation is obtained as the first row after 
 631:Generated_Source\PSoC4/Bootloader.c **** *    Launcher (from app#1 metadata). 
 632:Generated_Source\PSoC4/Bootloader.c **** *
 633:Generated_Source\PSoC4/Bootloader.c **** * \n The source of copy operation is the first row of temporary location that 
 634:Generated_Source\PSoC4/Bootloader.c **** *    is calculated by the following formula: 
 635:Generated_Source\PSoC4/Bootloader.c **** * \n     srcRow = (((CY_FLASH_NUMBER_ROWS - dstRow - metaRows) / 2) + dstRow);
 636:Generated_Source\PSoC4/Bootloader.c **** * \n     where:
 637:Generated_Source\PSoC4/Bootloader.c **** *          - dstRow - the destination's first row (mentioned above);
 638:Generated_Source\PSoC4/Bootloader.c **** *          - CY_FLASH_NUMBER_ROWS - number of all flash rows; 
 639:Generated_Source\PSoC4/Bootloader.c **** *          - metaRows - 2 metadata rows;   
 640:Generated_Source\PSoC4/Bootloader.c **** *
 641:Generated_Source\PSoC4/Bootloader.c **** * \n Copying itself means row-by-row copying of the stored application's image.
 642:Generated_Source\PSoC4/Bootloader.c **** *    If it fails to copy some row, there is a defined number of attempts 
 643:Generated_Source\PSoC4/Bootloader.c **** *    (Bootloader_MAX_ATTEMPTS) to try again. In case of no success, 
 644:Generated_Source\PSoC4/Bootloader.c **** *    a user callback function Launcher_CopierCallback() is called. 
 645:Generated_Source\PSoC4/Bootloader.c **** *    If it is not defined, then the device is going to be halted.
 646:Generated_Source\PSoC4/Bootloader.c **** * 
 647:Generated_Source\PSoC4/Bootloader.c **** * \n After performing the application image copying, in case of success 
 648:Generated_Source\PSoC4/Bootloader.c **** *    the app#2 metadata is copied in the stead of app#1 metadata and then
 649:Generated_Source\PSoC4/Bootloader.c **** *    app#2 metadata is cleared.
 650:Generated_Source\PSoC4/Bootloader.c **** *
 651:Generated_Source\PSoC4/Bootloader.c **** * \n A "need-to-copy" flag is cleared just after performing the app#1 image
 652:Generated_Source\PSoC4/Bootloader.c **** *    copying from the temporary location to avoid another consecutive 
 653:Generated_Source\PSoC4/Bootloader.c **** *    copying operation.
 654:Generated_Source\PSoC4/Bootloader.c **** *   
 655:Generated_Source\PSoC4/Bootloader.c **** * \endinternal 
 656:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 657:Generated_Source\PSoC4/Bootloader.c **** static void Bootloader_Copier(void) CYSMALL \
 658:Generated_Source\PSoC4/Bootloader.c ****            
 659:Generated_Source\PSoC4/Bootloader.c **** {
 660:Generated_Source\PSoC4/Bootloader.c ****     uint16 idx = 0u;
 661:Generated_Source\PSoC4/Bootloader.c **** 
 662:Generated_Source\PSoC4/Bootloader.c ****     /* Number of attempts to perform copying again */
 663:Generated_Source\PSoC4/Bootloader.c ****     uint8 copierAttempts;
 664:Generated_Source\PSoC4/Bootloader.c ****     
 665:Generated_Source\PSoC4/Bootloader.c ****     /* "need-to-copy" flag from second application metadata */
 666:Generated_Source\PSoC4/Bootloader.c ****     uint8 copyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, Bootloader_MD_BTLDB_ACT
 667:Generated_Source\PSoC4/Bootloader.c **** 
 668:Generated_Source\PSoC4/Bootloader.c ****     /* Buffer to temporary hold metadata before flashing */
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 17


 669:Generated_Source\PSoC4/Bootloader.c ****     uint8 metaBuf[CYDEV_FLS_ROW_SIZE];
 670:Generated_Source\PSoC4/Bootloader.c **** 
 671:Generated_Source\PSoC4/Bootloader.c ****     /* Launcher's last row number */
 672:Generated_Source\PSoC4/Bootloader.c ****     uint16 launcherLastRow = Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW, Bootloader_MD_BT
 673:Generated_Source\PSoC4/Bootloader.c **** 
 674:Generated_Source\PSoC4/Bootloader.c ****     /* Calculating destination's start row number (first row of app#1) */
 675:Generated_Source\PSoC4/Bootloader.c ****     uint16 dstRow = launcherLastRow + 1u;
 676:Generated_Source\PSoC4/Bootloader.c ****     
 677:Generated_Source\PSoC4/Bootloader.c ****     /* Calculating the source's/temporary location's start row number */
 678:Generated_Source\PSoC4/Bootloader.c ****     uint16 srcRow = ((((CY_FLASH_NUMBER_ROWS - dstRow - 2u) + 1u) >> 1u) + dstRow); 
 679:Generated_Source\PSoC4/Bootloader.c ****     
 680:Generated_Source\PSoC4/Bootloader.c ****     /* Taking length from app#2's metadata*/
 681:Generated_Source\PSoC4/Bootloader.c ****     uint32 srcLength = Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, Bootloader_MD_BTLDB_ACTI
 682:Generated_Source\PSoC4/Bootloader.c **** 
 683:Generated_Source\PSoC4/Bootloader.c ****     /* Copy operation status initialization */
 684:Generated_Source\PSoC4/Bootloader.c ****     cystatus copyStatus = CYRET_SUCCESS;
 685:Generated_Source\PSoC4/Bootloader.c ****     
 686:Generated_Source\PSoC4/Bootloader.c ****     /* Calculating number of rows for copying */
 687:Generated_Source\PSoC4/Bootloader.c ****     uint16 numberOfRows = srcLength / CYDEV_FLS_ROW_SIZE;
 688:Generated_Source\PSoC4/Bootloader.c ****     
 689:Generated_Source\PSoC4/Bootloader.c ****     if (0u != (srcLength % CYDEV_FLS_ROW_SIZE))
 690:Generated_Source\PSoC4/Bootloader.c ****     {
 691:Generated_Source\PSoC4/Bootloader.c ****         numberOfRows++;
 692:Generated_Source\PSoC4/Bootloader.c ****     }
 693:Generated_Source\PSoC4/Bootloader.c ****         
 694:Generated_Source\PSoC4/Bootloader.c ****     /*************************************************************************
 695:Generated_Source\PSoC4/Bootloader.c ****     * Copying the number of rows from source (temporary location) to destination.
 696:Generated_Source\PSoC4/Bootloader.c ****     * If the operation is unsuccessful, there will be a few more attempts to
 697:Generated_Source\PSoC4/Bootloader.c ****     * perform the copying operation (a number is defined by Bootloader_MAX_ATTEMPTS)
 698:Generated_Source\PSoC4/Bootloader.c ****     ***************************************************************************/
 699:Generated_Source\PSoC4/Bootloader.c ****     for(idx = 0; idx < numberOfRows; idx++)
 700:Generated_Source\PSoC4/Bootloader.c ****     {
 701:Generated_Source\PSoC4/Bootloader.c ****         copierAttempts = Bootloader_MAX_ATTEMPTS;
 702:Generated_Source\PSoC4/Bootloader.c ****         
 703:Generated_Source\PSoC4/Bootloader.c ****         do 
 704:Generated_Source\PSoC4/Bootloader.c ****         {
 705:Generated_Source\PSoC4/Bootloader.c ****             /* Copying row */
 706:Generated_Source\PSoC4/Bootloader.c ****             copyStatus = Bootloader_CopyRow(srcRow + idx, dstRow + idx);
 707:Generated_Source\PSoC4/Bootloader.c ****             
 708:Generated_Source\PSoC4/Bootloader.c ****             /* Decrementing counter of attempts to repeat copying operation */
 709:Generated_Source\PSoC4/Bootloader.c ****             copierAttempts--;       
 710:Generated_Source\PSoC4/Bootloader.c ****         } while ((CYRET_SUCCESS != copyStatus) && (0u != copierAttempts));
 711:Generated_Source\PSoC4/Bootloader.c **** 
 712:Generated_Source\PSoC4/Bootloader.c ****         
 713:Generated_Source\PSoC4/Bootloader.c ****         /*************************************************************************
 714:Generated_Source\PSoC4/Bootloader.c ****         * If a problem occurs, when a row can't be copied, "CopyFlag" should be
 715:Generated_Source\PSoC4/Bootloader.c ****         * cleared to prevent the recurrent copying that might follow the software reset.        
 716:Generated_Source\PSoC4/Bootloader.c ****         ***************************************************************************/
 717:Generated_Source\PSoC4/Bootloader.c ****         if (CYRET_SUCCESS != copyStatus)
 718:Generated_Source\PSoC4/Bootloader.c ****         {
 719:Generated_Source\PSoC4/Bootloader.c ****             /* Clear copy flag in metadata#1 */
 720:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_SetFlashByte(Bootloader_MD_BTLDB_COPY_FLAG_OFFSET(Bootloader_MD_BTLDB_ACTIVE
 721:Generated_Source\PSoC4/Bootloader.c ****                                          (copyFlag & (~Bootloader_NEED_TO_COPY_SET_BIT)));
 722:Generated_Source\PSoC4/Bootloader.c ****                 
 723:Generated_Source\PSoC4/Bootloader.c ****             /* Callback macro definition */
 724:Generated_Source\PSoC4/Bootloader.c ****             #if (0u != LAUNCHER_COPIER_CALLBACK)
 725:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_CopierCallback();
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 18


 726:Generated_Source\PSoC4/Bootloader.c ****             #endif /* 0u != LAUNCHER_COPIER_CALLBACK */ 
 727:Generated_Source\PSoC4/Bootloader.c ****             
 728:Generated_Source\PSoC4/Bootloader.c ****             /*************************************************************************
 729:Generated_Source\PSoC4/Bootloader.c ****             * If the copying operation was unsuccessful after certain number of attempts
 730:Generated_Source\PSoC4/Bootloader.c ****             * and Bootloader_CopierCallback() is either undefined or returns, then the
 731:Generated_Source\PSoC4/Bootloader.c ****             * device should be halted.
 732:Generated_Source\PSoC4/Bootloader.c ****             *************************************************************************/
 733:Generated_Source\PSoC4/Bootloader.c ****             CyHalt(0x00u);
 734:Generated_Source\PSoC4/Bootloader.c ****         }
 735:Generated_Source\PSoC4/Bootloader.c ****     }    
 736:Generated_Source\PSoC4/Bootloader.c ****     
 737:Generated_Source\PSoC4/Bootloader.c ****     /* Copy metadata app#2 -> app#1*/
 738:Generated_Source\PSoC4/Bootloader.c ****     if (CYRET_SUCCESS == copyStatus)
 739:Generated_Source\PSoC4/Bootloader.c ****     {
 740:Generated_Source\PSoC4/Bootloader.c ****         /******************************************************************************
 741:Generated_Source\PSoC4/Bootloader.c ****         *                               Metadata#1 update             
 742:Generated_Source\PSoC4/Bootloader.c ****         ******************************************************************************/
 743:Generated_Source\PSoC4/Bootloader.c ****         /* Getting start address of metadata #2 */
 744:Generated_Source\PSoC4/Bootloader.c ****         uint32 metaStartAddr = Bootloader_MD_BASE_ADDR(Bootloader_MD_BTLDB_ACTIVE_1) + 
 745:Generated_Source\PSoC4/Bootloader.c ****                                Bootloader_MD_SIZEOF - CYDEV_FLS_ROW_SIZE; 
 746:Generated_Source\PSoC4/Bootloader.c ****         
 747:Generated_Source\PSoC4/Bootloader.c ****         /* Read all data from metadata #2 */
 748:Generated_Source\PSoC4/Bootloader.c ****         for (idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 749:Generated_Source\PSoC4/Bootloader.c ****         {
 750:Generated_Source\PSoC4/Bootloader.c ****             metaBuf[idx] = Bootloader_GET_CODE_BYTE(metaStartAddr + idx);
 751:Generated_Source\PSoC4/Bootloader.c ****         }
 752:Generated_Source\PSoC4/Bootloader.c ****         
 753:Generated_Source\PSoC4/Bootloader.c ****         /* Setting 'Copier available' flag (copyFlag field) in buffer to be stored in metadata#1 */
 754:Generated_Source\PSoC4/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_COPY_FLAG_BYTE_OFFSET] = Bootload
 755:Generated_Source\PSoC4/Bootloader.c **** 
 756:Generated_Source\PSoC4/Bootloader.c ****         /* Set active app#1 */
 757:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 758:Generated_Source\PSoC4/Bootloader.c ****         
 759:Generated_Source\PSoC4/Bootloader.c ****         /* Setting app#1 as active application in buffer to be stored in metadata#1 */
 760:Generated_Source\PSoC4/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_ACTIVE_APP_BYTE_OFFSET] = 0x01u; 
 761:Generated_Source\PSoC4/Bootloader.c **** 
 762:Generated_Source\PSoC4/Bootloader.c ****         /* Setting app#1 as valid for 'Fast validation' to be stored in metadata#1 */
 763:Generated_Source\PSoC4/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_FAST_VALID_BYTE_OFFSET] = 0x01u; 
 764:Generated_Source\PSoC4/Bootloader.c **** 
 765:Generated_Source\PSoC4/Bootloader.c ****         /* Update metadata#1 in flash */
 766:Generated_Source\PSoC4/Bootloader.c ****         copyStatus = CySysFlashWriteRow((uint16) (CY_FLASH_NUMBER_ROWS - 1u), metaBuf);  
 767:Generated_Source\PSoC4/Bootloader.c **** 
 768:Generated_Source\PSoC4/Bootloader.c ****         /******************************************************************************
 769:Generated_Source\PSoC4/Bootloader.c ****         *                               Metadata#2 update  
 770:Generated_Source\PSoC4/Bootloader.c ****         * Clear the whole buffer for metadata#2, which will make it invalid. 
 771:Generated_Source\PSoC4/Bootloader.c ****         * The 'Need-to-copy' flag will be cleared and app#2 will be set as non-active. 
 772:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
 773:Generated_Source\PSoC4/Bootloader.c ****         (void) memset(&metaBuf, 0x00u, sizeof(metaBuf));
 774:Generated_Source\PSoC4/Bootloader.c ****         
 775:Generated_Source\PSoC4/Bootloader.c ****         /* Updating metadata#2 in flash */
 776:Generated_Source\PSoC4/Bootloader.c ****         copyStatus |= CySysFlashWriteRow((uint16) (CY_FLASH_NUMBER_ROWS - 2u), metaBuf);          
 777:Generated_Source\PSoC4/Bootloader.c ****     }
 778:Generated_Source\PSoC4/Bootloader.c ****     
 779:Generated_Source\PSoC4/Bootloader.c ****     if (CYRET_SUCCESS == copyStatus)
 780:Generated_Source\PSoC4/Bootloader.c ****     {
 781:Generated_Source\PSoC4/Bootloader.c ****         /* Schedule*/
 782:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 19


 783:Generated_Source\PSoC4/Bootloader.c **** 
 784:Generated_Source\PSoC4/Bootloader.c ****         /* Software reset */
 785:Generated_Source\PSoC4/Bootloader.c ****         CySoftwareReset();
 786:Generated_Source\PSoC4/Bootloader.c ****     }
 787:Generated_Source\PSoC4/Bootloader.c ****     else
 788:Generated_Source\PSoC4/Bootloader.c ****     {
 789:Generated_Source\PSoC4/Bootloader.c ****         /* Halt device */
 790:Generated_Source\PSoC4/Bootloader.c ****         CyHalt(0x00u);
 791:Generated_Source\PSoC4/Bootloader.c ****     }
 792:Generated_Source\PSoC4/Bootloader.c **** }
 793:Generated_Source\PSoC4/Bootloader.c **** #endif /*(0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
 794:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 795:Generated_Source\PSoC4/Bootloader.c **** 
 796:Generated_Source\PSoC4/Bootloader.c **** 
 797:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
 798:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_Start
 799:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
 800:Generated_Source\PSoC4/Bootloader.c **** * \brief
 801:Generated_Source\PSoC4/Bootloader.c **** *  This function is called to execute the following algorithm:
 802:Generated_Source\PSoC4/Bootloader.c **** *
 803:Generated_Source\PSoC4/Bootloader.c **** * -    Validate the Bootloadable application for the Classic Single-app Bootloader or 
 804:Generated_Source\PSoC4/Bootloader.c **** *   both Bootloadable/Combination applications for the Classic Dual-app Bootloader/
 805:Generated_Source\PSoC4/Bootloader.c **** *   Launch-only Bootloader (Launcher for short) respectively.
 806:Generated_Source\PSoC4/Bootloader.c **** *  
 807:Generated_Source\PSoC4/Bootloader.c **** * -    For the Classic Single-app Bootloader: if the Bootloadable application is valid, 
 808:Generated_Source\PSoC4/Bootloader.c **** *   then the flow switches to it after a software reset. Otherwise it stays in 
 809:Generated_Source\PSoC4/Bootloader.c **** *   the Bootloader, waiting for a command(s) from the host.
 810:Generated_Source\PSoC4/Bootloader.c **** * 
 811:Generated_Source\PSoC4/Bootloader.c **** * -    For the Classic Dual-app Bootloader: the flow acts according to the switching table 
 812:Generated_Source\PSoC4/Bootloader.c **** *  (see in the code below) and enabled/disabled options (for instance, auto-switching).
 813:Generated_Source\PSoC4/Bootloader.c **** *   NOTE If the valid Bootloadable application is identified, then the control is passed 
 814:Generated_Source\PSoC4/Bootloader.c **** *   to it after a software reset. Otherwise it stays in the Classic Dual-app Bootloader 
 815:Generated_Source\PSoC4/Bootloader.c **** *   waiting for a command(s) from the host.
 816:Generated_Source\PSoC4/Bootloader.c **** * 
 817:Generated_Source\PSoC4/Bootloader.c **** * -    For the Launcher: the flow acts according to the switching table (see below) and 
 818:Generated_Source\PSoC4/Bootloader.c **** *   enabled/disabled options. NOTE If the valid Combination application is identified, then 
 819:Generated_Source\PSoC4/Bootloader.c **** *   the control is passed to it after a software reset. Otherwise it stays in the Launcher 
 820:Generated_Source\PSoC4/Bootloader.c **** *   forever.
 821:Generated_Source\PSoC4/Bootloader.c **** * 
 822:Generated_Source\PSoC4/Bootloader.c **** * -    Validate the Bootloader/Launcher application(s) (design-time configurable, Bootloader 
 823:Generated_Source\PSoC4/Bootloader.c **** *   application validation option of the component customizer).
 824:Generated_Source\PSoC4/Bootloader.c **** * 
 825:Generated_Source\PSoC4/Bootloader.c **** * -    Run a communication subroutine (design-time configurable, the Wait for command 
 826:Generated_Source\PSoC4/Bootloader.c **** *   option of the component customizer). NOTE This is NOT applicable for the Launcher.
 827:Generated_Source\PSoC4/Bootloader.c **** *
 828:Generated_Source\PSoC4/Bootloader.c **** * -    Schedule the Bootloadable and reset the device.
 829:Generated_Source\PSoC4/Bootloader.c **** *
 830:Generated_Source\PSoC4/Bootloader.c **** *  \ref page_switching_logic
 831:Generated_Source\PSoC4/Bootloader.c **** *
 832:Generated_Source\PSoC4/Bootloader.c **** * \return
 833:Generated_Source\PSoC4/Bootloader.c **** *  This method will never return. It will either load a new application and
 834:Generated_Source\PSoC4/Bootloader.c **** *  reset the device or jump directly to the existing application. The CPU is
 835:Generated_Source\PSoC4/Bootloader.c **** *  halted, if the validation fails when the "Bootloader application validation" 
 836:Generated_Source\PSoC4/Bootloader.c **** *  option is enabled.
 837:Generated_Source\PSoC4/Bootloader.c **** *  PSoC 3/PSoC 5: The CPU is halted if flash initialization fails.
 838:Generated_Source\PSoC4/Bootloader.c **** *
 839:Generated_Source\PSoC4/Bootloader.c **** * \details
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 20


 840:Generated_Source\PSoC4/Bootloader.c **** *  If the "Bootloader application validation" option is enabled and this method
 841:Generated_Source\PSoC4/Bootloader.c **** *  determines that the Bootloader application itself is corrupt, this method
 842:Generated_Source\PSoC4/Bootloader.c **** *  will not return, instead it will simply hang the application.   
 843:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
 844:Generated_Source\PSoC4/Bootloader.c **** void Bootloader_Start(void) CYSMALL 
 845:Generated_Source\PSoC4/Bootloader.c **** {
 243              		.loc 1 845 0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 8
 246              		@ frame_needed = 1, uses_anonymous_args = 0
 247 0000 90B5     		push	{r4, r7, lr}
 248              		.cfi_def_cfa_offset 12
 249              		.cfi_offset 4, -12
 250              		.cfi_offset 7, -8
 251              		.cfi_offset 14, -4
 252 0002 83B0     		sub	sp, sp, #12
 253              		.cfi_def_cfa_offset 24
 254 0004 00AF     		add	r7, sp, #0
 255              		.cfi_def_cfa_register 7
 846:Generated_Source\PSoC4/Bootloader.c **** 
 847:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 848:Generated_Source\PSoC4/Bootloader.c **** 
 849:Generated_Source\PSoC4/Bootloader.c ****     #if(0u != Bootloader_DUAL_APP_BOOTLOADER)
 850:Generated_Source\PSoC4/Bootloader.c ****         cystatus app0Status = CYRET_BAD_DATA;
 851:Generated_Source\PSoC4/Bootloader.c ****         cystatus app1Status = CYRET_BAD_DATA;  
 852:Generated_Source\PSoC4/Bootloader.c ****     #endif /*0u != Bootloader_DUAL_APP_BOOTLOADER*/
 853:Generated_Source\PSoC4/Bootloader.c ****     
 854:Generated_Source\PSoC4/Bootloader.c ****     cystatus validApp  = CYRET_BAD_DATA;
 256              		.loc 1 854 0
 257 0006 0623     		movs	r3, #6
 258 0008 7B60     		str	r3, [r7, #4]
 855:Generated_Source\PSoC4/Bootloader.c **** 
 856:Generated_Source\PSoC4/Bootloader.c ****     #if(0u != Bootloader_BOOTLOADER_APP_VALIDATION)
 857:Generated_Source\PSoC4/Bootloader.c ****         uint8 CYDATA calcedChecksum;
 858:Generated_Source\PSoC4/Bootloader.c ****     #endif    /* (0u != Bootloader_BOOTLOADER_APP_VALIDATION) */
 859:Generated_Source\PSoC4/Bootloader.c **** 
 860:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC4)
 861:Generated_Source\PSoC4/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
 862:Generated_Source\PSoC4/Bootloader.c ****             /* Initialize flash subsystem for non-PSoC 4 devices */
 863:Generated_Source\PSoC4/Bootloader.c ****             if (CYRET_SUCCESS != CySetTemp())
 864:Generated_Source\PSoC4/Bootloader.c ****             {
 865:Generated_Source\PSoC4/Bootloader.c ****                 CyHalt(0x00u);
 866:Generated_Source\PSoC4/Bootloader.c ****             }
 867:Generated_Source\PSoC4/Bootloader.c **** 
 868:Generated_Source\PSoC4/Bootloader.c ****             #if !defined(CY_BOOT_VERSION)
 869:Generated_Source\PSoC4/Bootloader.c ****                 /* Not required with cy_boot 4.20 */
 870:Generated_Source\PSoC4/Bootloader.c ****                 if (CYRET_SUCCESS != CySetFlashEEBuffer(Bootloader_flashBuffer))
 871:Generated_Source\PSoC4/Bootloader.c ****                 {
 872:Generated_Source\PSoC4/Bootloader.c ****                     CyHalt(0x00u);
 873:Generated_Source\PSoC4/Bootloader.c ****                 }
 874:Generated_Source\PSoC4/Bootloader.c **** 
 875:Generated_Source\PSoC4/Bootloader.c ****                 uint8 CYXDATA Bootloader_flashBuffer[Bootloader_FROW_SIZE];
 876:Generated_Source\PSoC4/Bootloader.c ****             #endif /* !defined(CY_BOOT_VERSION) */
 877:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
 878:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (!CY_PSOC4) */
 879:Generated_Source\PSoC4/Bootloader.c **** 
 880:Generated_Source\PSoC4/Bootloader.c ****     #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 21


 881:Generated_Source\PSoC4/Bootloader.c ****     #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4))
 882:Generated_Source\PSoC4/Bootloader.c ****         /* Checking "need-to-copy" flag in metadata#1. If it is set, then copy operation is require
 883:Generated_Source\PSoC4/Bootloader.c ****         uint8 needToCopyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, 
 884:Generated_Source\PSoC4/Bootloader.c ****                                                         Bootloader_MD_BTLDB_ACTIVE_1);             
 885:Generated_Source\PSoC4/Bootloader.c ****         
 886:Generated_Source\PSoC4/Bootloader.c ****         /* Checking "Need to copy" flag in metadata#1 */
 887:Generated_Source\PSoC4/Bootloader.c ****         if (0u != (needToCopyFlag & Bootloader_NEED_TO_COPY_MASK))
 888:Generated_Source\PSoC4/Bootloader.c ****         {
 889:Generated_Source\PSoC4/Bootloader.c ****             /* Note that this function never returns */
 890:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_Copier();
 891:Generated_Source\PSoC4/Bootloader.c ****         }
 892:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) */
 893:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
 894:Generated_Source\PSoC4/Bootloader.c ****         
 895:Generated_Source\PSoC4/Bootloader.c ****     /* Identify active Bootloadable/Combination application */
 896:Generated_Source\PSoC4/Bootloader.c ****     #if (0u != Bootloader_DUAL_APP_BOOTLOADER)
 897:Generated_Source\PSoC4/Bootloader.c ****         app0Status = Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_0);
 898:Generated_Source\PSoC4/Bootloader.c ****         app1Status = Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_1);  
 899:Generated_Source\PSoC4/Bootloader.c **** 
 900:Generated_Source\PSoC4/Bootloader.c ****         /* Assumes no active Bootloadable application. Bootloader is active. */
 901:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_NONE;
 902:Generated_Source\PSoC4/Bootloader.c **** 
 903:Generated_Source\PSoC4/Bootloader.c ****         /* Bootloadable app#1 is active */
 904:Generated_Source\PSoC4/Bootloader.c ****         if(Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, Bootloader_MD_BTLDB_ACTIVE_0) == \
 905:Generated_Source\PSoC4/Bootloader.c ****                                                                            Bootloader_MD_BTLDB_IS_A
 906:Generated_Source\PSoC4/Bootloader.c ****         {
 907:Generated_Source\PSoC4/Bootloader.c ****             /**************************************************************************************
 908:Generated_Source\PSoC4/Bootloader.c ****             * -------------------------------------------------------------------------------------
 909:Generated_Source\PSoC4/Bootloader.c ****             * |      |      app#1     |      app#2     |        Classic Dual-app       |     Launch
 910:Generated_Source\PSoC4/Bootloader.c ****             * | Case |---------------------------------|          Bootloader           |           
 911:Generated_Source\PSoC4/Bootloader.c ****             * |      | Active | Valid | Active | Valid |                               |           
 912:Generated_Source\PSoC4/Bootloader.c ****             * |------------------------------------------------------------------------------------
 913:Generated_Source\PSoC4/Bootloader.c ****             * |  9   |    1   |   0   |   0    |   0   | Bootloader                    | Launcher  
 914:Generated_Source\PSoC4/Bootloader.c ****             * |  10  |    1   |   0   |   0    |   1   | app#2, except if auto-app     | app#2     
 915:Generated_Source\PSoC4/Bootloader.c ****             * |      |        |       |        |       | switching is disabled, then   |           
 916:Generated_Source\PSoC4/Bootloader.c ****             * |      |        |       |        |       | stay in Bootloader            |           
 917:Generated_Source\PSoC4/Bootloader.c ****             * |  11  |    1   |   0   |   1    |   0   | Bootloader                    | Launcher  
 918:Generated_Source\PSoC4/Bootloader.c ****             * |  12  |    1   |   0   |   1    |   1   | app#2                         | app#2     
 919:Generated_Source\PSoC4/Bootloader.c ****             * |  13  |    1   |   1   |   0    |   0   | app#1                         | app#1     
 920:Generated_Source\PSoC4/Bootloader.c ****             * |  14  |    1   |   1   |   0    |   1   | app#1                         | app#1     
 921:Generated_Source\PSoC4/Bootloader.c ****             * |  15  |    1   |   1   |   1    |   0   | app#1                         | app#1     
 922:Generated_Source\PSoC4/Bootloader.c ****             * |  16  |    1   |   1   |   1    |   1   | app#1                         | app#1     
 923:Generated_Source\PSoC4/Bootloader.c ****             * -------------------------------------------------------------------------------------
 924:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************************
 925:Generated_Source\PSoC4/Bootloader.c ****             if (CYRET_SUCCESS == app0Status)
 926:Generated_Source\PSoC4/Bootloader.c ****             {
 927:Generated_Source\PSoC4/Bootloader.c ****                 /* Cases # 13,  14, 15, and 16 */
 928:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 929:Generated_Source\PSoC4/Bootloader.c ****                 validApp = CYRET_SUCCESS;
 930:Generated_Source\PSoC4/Bootloader.c ****             }
 931:Generated_Source\PSoC4/Bootloader.c ****             else /*Bootloadable app#1 is not valid*/
 932:Generated_Source\PSoC4/Bootloader.c ****             {
 933:Generated_Source\PSoC4/Bootloader.c ****                 #if (((1u == Bootloader_AUTO_SWITCHING_AVAIL) &&  \
 934:Generated_Source\PSoC4/Bootloader.c ****                       (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) || \
 935:Generated_Source\PSoC4/Bootloader.c ****                       (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) 
 936:Generated_Source\PSoC4/Bootloader.c ****                 if (CYRET_SUCCESS == app1Status )
 937:Generated_Source\PSoC4/Bootloader.c ****                 {
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 22


 938:Generated_Source\PSoC4/Bootloader.c ****                     /* Cases # 10 and 12 */
 939:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
 940:Generated_Source\PSoC4/Bootloader.c ****                     validApp = CYRET_SUCCESS;
 941:Generated_Source\PSoC4/Bootloader.c ****                 }
 942:Generated_Source\PSoC4/Bootloader.c ****                 #endif /*((1u == Bootloader_AUTO_SWITCHING_AVAIL) && 
 943:Generated_Source\PSoC4/Bootloader.c ****                           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) || 
 944:Generated_Source\PSoC4/Bootloader.c ****                           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 945:Generated_Source\PSoC4/Bootloader.c ****             }
 946:Generated_Source\PSoC4/Bootloader.c ****         }
 947:Generated_Source\PSoC4/Bootloader.c **** 
 948:Generated_Source\PSoC4/Bootloader.c ****         /*  Active Bootloadable application is not identified */
 949:Generated_Source\PSoC4/Bootloader.c ****         if(Bootloader_activeApp == Bootloader_MD_BTLDB_ACTIVE_NONE)
 950:Generated_Source\PSoC4/Bootloader.c ****         {
 951:Generated_Source\PSoC4/Bootloader.c ****             /**************************************************************************************
 952:Generated_Source\PSoC4/Bootloader.c ****             * -------------------------------------------------------------------------------------
 953:Generated_Source\PSoC4/Bootloader.c ****             * |      |       app#1    |       app#2    |        Classic Dual-app       |     Launch
 954:Generated_Source\PSoC4/Bootloader.c ****             * | Case |---------------------------------|          Bootloader           |           
 955:Generated_Source\PSoC4/Bootloader.c ****             * |      | Active | Valid | Active | Valid |                               |           
 956:Generated_Source\PSoC4/Bootloader.c ****             * |------|-----------------------------------------------------------------------------
 957:Generated_Source\PSoC4/Bootloader.c ****             * |  1   |    0   |   0   |   0    |   0   | Bootloader                    | Launcher  
 958:Generated_Source\PSoC4/Bootloader.c ****             * |  2   |    0   |   0   |   0    |   1   | Bootloader                    | app#2     
 959:Generated_Source\PSoC4/Bootloader.c ****             * |  3   |    0   |   0   |   1    |   0   | Bootloader                    | Launcher  
 960:Generated_Source\PSoC4/Bootloader.c ****             * |  4   |    0   |   0   |   1    |   1   | app#2                         | app#2     
 961:Generated_Source\PSoC4/Bootloader.c ****             * |  5   |    0   |   1   |   0    |   0   | Bootloader                    | app#1     
 962:Generated_Source\PSoC4/Bootloader.c ****             * |  6   |    0   |   1   |   0    |   1   | Bootloader                    | app#1     
 963:Generated_Source\PSoC4/Bootloader.c ****             * |  7   |    0   |   1   |   1    |   0   | app#1, except if auto-app     | app#1     
 964:Generated_Source\PSoC4/Bootloader.c ****             * |      |        |       |        |       | switching is disabled, then   |           
 965:Generated_Source\PSoC4/Bootloader.c ****             * |      |        |       |        |       | stay in Bootloader            |           
 966:Generated_Source\PSoC4/Bootloader.c ****             * |  8   |    0   |   1   |   1    |   1   | app#2                         | app#2     
 967:Generated_Source\PSoC4/Bootloader.c ****             * -------------------------------------------------------------------------------------
 968:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************************
 969:Generated_Source\PSoC4/Bootloader.c ****             if (Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 1u) ==
 970:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_MD_BTLDB_IS_ACTIVE)
 971:Generated_Source\PSoC4/Bootloader.c ****             {
 972:Generated_Source\PSoC4/Bootloader.c ****                 /* Cases # 3, 4, 7, and 8 */
 973:Generated_Source\PSoC4/Bootloader.c ****                 if (CYRET_SUCCESS == app1Status)
 974:Generated_Source\PSoC4/Bootloader.c ****                 {
 975:Generated_Source\PSoC4/Bootloader.c ****                     /* Cases # 4 and 8 */
 976:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
 977:Generated_Source\PSoC4/Bootloader.c ****                     validApp = CYRET_SUCCESS;
 978:Generated_Source\PSoC4/Bootloader.c ****                 }
 979:Generated_Source\PSoC4/Bootloader.c ****                 else
 980:Generated_Source\PSoC4/Bootloader.c ****                 {
 981:Generated_Source\PSoC4/Bootloader.c ****                  #if (((1u == Bootloader_AUTO_SWITCHING_AVAIL) && \
 982:Generated_Source\PSoC4/Bootloader.c ****                        (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) \
 983:Generated_Source\PSoC4/Bootloader.c ****                     || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) 
 984:Generated_Source\PSoC4/Bootloader.c ****                     if (CYRET_SUCCESS == app0Status)
 985:Generated_Source\PSoC4/Bootloader.c ****                     {
 986:Generated_Source\PSoC4/Bootloader.c ****                         /* Cases # 7 */
 987:Generated_Source\PSoC4/Bootloader.c ****                         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 988:Generated_Source\PSoC4/Bootloader.c ****                         validApp = CYRET_SUCCESS;
 989:Generated_Source\PSoC4/Bootloader.c ****                     }
 990:Generated_Source\PSoC4/Bootloader.c ****                     #endif /*(((1u == Bootloader_AUTO_SWITCHING_AVAIL) && \
 991:Generated_Source\PSoC4/Bootloader.c ****                                (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) \
 992:Generated_Source\PSoC4/Bootloader.c ****                             || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))*/
 993:Generated_Source\PSoC4/Bootloader.c ****                 }
 994:Generated_Source\PSoC4/Bootloader.c ****             }
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 23


 995:Generated_Source\PSoC4/Bootloader.c ****         }
 996:Generated_Source\PSoC4/Bootloader.c ****         
 997:Generated_Source\PSoC4/Bootloader.c ****         #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) 
 998:Generated_Source\PSoC4/Bootloader.c ****             /*None of applications is active*/
 999:Generated_Source\PSoC4/Bootloader.c ****             if (Bootloader_MD_BTLDB_ACTIVE_NONE ==Bootloader_activeApp)
1000:Generated_Source\PSoC4/Bootloader.c ****             {
1001:Generated_Source\PSoC4/Bootloader.c ****                 /*case#5, case#6: pass control to Bootloadable app#1*/
1002:Generated_Source\PSoC4/Bootloader.c ****                 if(CYRET_SUCCESS == app0Status)
1003:Generated_Source\PSoC4/Bootloader.c ****                 {
1004:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
1005:Generated_Source\PSoC4/Bootloader.c ****                     validApp = CYRET_SUCCESS;
1006:Generated_Source\PSoC4/Bootloader.c ****                 }
1007:Generated_Source\PSoC4/Bootloader.c ****                 /*case#2: pass control to Bootloadable app#2*/
1008:Generated_Source\PSoC4/Bootloader.c ****                 else if (CYRET_SUCCESS == app1Status)
1009:Generated_Source\PSoC4/Bootloader.c ****                 {
1010:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
1011:Generated_Source\PSoC4/Bootloader.c ****                     validApp = CYRET_SUCCESS;
1012:Generated_Source\PSoC4/Bootloader.c ****                 }
1013:Generated_Source\PSoC4/Bootloader.c ****                 else
1014:Generated_Source\PSoC4/Bootloader.c ****                 {
1015:Generated_Source\PSoC4/Bootloader.c ****                     /* case#1, case#3, case#9, case#11: very bad situation, no valid application */
1016:Generated_Source\PSoC4/Bootloader.c ****                     /* Do nothing, stay in Bootloader/Launcher */
1017:Generated_Source\PSoC4/Bootloader.c ****                 }
1018:Generated_Source\PSoC4/Bootloader.c ****             }
1019:Generated_Source\PSoC4/Bootloader.c **** 
1020:Generated_Source\PSoC4/Bootloader.c **** 
1021:Generated_Source\PSoC4/Bootloader.c ****              /*********************************************************************************
1022:Generated_Source\PSoC4/Bootloader.c ****             * The next logic is an invalidation of the non-active application in the metadata
1023:Generated_Source\PSoC4/Bootloader.c ****             * section, because there could be a situation due to some error, when both  
1024:Generated_Source\PSoC4/Bootloader.c ****             * applications are set active (cases #12,15,16). Only one application can be active.
1025:Generated_Source\PSoC4/Bootloader.c ****             * This logic also stores the active application number in the metadata section.        
1026:Generated_Source\PSoC4/Bootloader.c ****             *********************************************************************************/
1027:Generated_Source\PSoC4/Bootloader.c ****             if (CYRET_SUCCESS == validApp)
1028:Generated_Source\PSoC4/Bootloader.c ****             {
1029:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_SetActiveAppInMetadata(Bootloader_activeApp);      
1030:Generated_Source\PSoC4/Bootloader.c ****             }
1031:Generated_Source\PSoC4/Bootloader.c ****         #endif /* CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER */
1032:Generated_Source\PSoC4/Bootloader.c ****     #else /*SINGLE_APP BOOTLOADER*/
1033:Generated_Source\PSoC4/Bootloader.c ****         if (CYRET_SUCCESS == Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_0))
 259              		.loc 1 1033 0
 260 000a 0020     		movs	r0, #0
 261 000c FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 262 0010 031E     		subs	r3, r0, #0
 263 0012 01D1     		bne	.L14
1034:Generated_Source\PSoC4/Bootloader.c ****         {
1035:Generated_Source\PSoC4/Bootloader.c ****             validApp = CYRET_SUCCESS;
 264              		.loc 1 1035 0
 265 0014 0023     		movs	r3, #0
 266 0016 7B60     		str	r3, [r7, #4]
 267              	.L14:
1036:Generated_Source\PSoC4/Bootloader.c ****         }
1037:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
1038:Generated_Source\PSoC4/Bootloader.c **** 
1039:Generated_Source\PSoC4/Bootloader.c ****     
1040:Generated_Source\PSoC4/Bootloader.c ****     /***********************************************************************
1041:Generated_Source\PSoC4/Bootloader.c ****     * Bootloader Application Validation
1042:Generated_Source\PSoC4/Bootloader.c ****     *
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 24


1043:Generated_Source\PSoC4/Bootloader.c ****     * Halt the device if:
1044:Generated_Source\PSoC4/Bootloader.c ****     *  - A calculated checksum does not match the one stored in the metadata
1045:Generated_Source\PSoC4/Bootloader.c ****     *     section.
1046:Generated_Source\PSoC4/Bootloader.c ****     *  - There is an invalid pointer to the place where the Bootloader
1047:Generated_Source\PSoC4/Bootloader.c ****     *    application ends.
1048:Generated_Source\PSoC4/Bootloader.c ****     *  - The flash subsystem was not initialized correctly.
1049:Generated_Source\PSoC4/Bootloader.c ****     ***********************************************************************/
1050:Generated_Source\PSoC4/Bootloader.c ****     #if(0u != Bootloader_BOOTLOADER_APP_VALIDATION)
1051:Generated_Source\PSoC4/Bootloader.c **** 
1052:Generated_Source\PSoC4/Bootloader.c ****         /* Calculate Bootloader application checksum */
1053:Generated_Source\PSoC4/Bootloader.c ****         calcedChecksum = Bootloader_Calc8BitSum(CY_FLASH_BASE,
1054:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_MD_BTLDR_ADDR_PTR,
1055:Generated_Source\PSoC4/Bootloader.c ****                 *Bootloader_SizeBytesAccess - Bootloader_MD_BTLDR_ADDR_PTR);
 268              		.loc 1 1055 0
 269 0018 1E4B     		ldr	r3, .L19
 270 001a 1B68     		ldr	r3, [r3]
 271 001c 1B68     		ldr	r3, [r3]
1053:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_MD_BTLDR_ADDR_PTR,
 272              		.loc 1 1053 0
 273 001e C03B     		subs	r3, r3, #192
 274 0020 FC1C     		adds	r4, r7, #3
 275 0022 1A00     		movs	r2, r3
 276 0024 C021     		movs	r1, #192
 277 0026 0020     		movs	r0, #0
 278 0028 FFF7FEFF 		bl	Bootloader_Calc8BitSum
 279 002c 0300     		movs	r3, r0
 280 002e 2370     		strb	r3, [r4]
1056:Generated_Source\PSoC4/Bootloader.c **** 
1057:Generated_Source\PSoC4/Bootloader.c ****         /* We included checksum, so remove it */
1058:Generated_Source\PSoC4/Bootloader.c ****         calcedChecksum -= *Bootloader_ChecksumAccess;
 281              		.loc 1 1058 0
 282 0030 194B     		ldr	r3, .L19+4
 283 0032 1B68     		ldr	r3, [r3]
 284 0034 1A78     		ldrb	r2, [r3]
 285 0036 FB1C     		adds	r3, r7, #3
 286 0038 F91C     		adds	r1, r7, #3
 287 003a 0978     		ldrb	r1, [r1]
 288 003c 8A1A     		subs	r2, r1, r2
 289 003e 1A70     		strb	r2, [r3]
1059:Generated_Source\PSoC4/Bootloader.c ****         calcedChecksum = ( uint8 )1u + ( uint8 )(~calcedChecksum);
 290              		.loc 1 1059 0
 291 0040 FB1C     		adds	r3, r7, #3
 292 0042 FA1C     		adds	r2, r7, #3
 293 0044 1278     		ldrb	r2, [r2]
 294 0046 5242     		rsbs	r2, r2, #0
 295 0048 1A70     		strb	r2, [r3]
1060:Generated_Source\PSoC4/Bootloader.c **** 
1061:Generated_Source\PSoC4/Bootloader.c ****         /* Checksum and pointer to Bootloader verification */
1062:Generated_Source\PSoC4/Bootloader.c ****         if((calcedChecksum != *Bootloader_ChecksumAccess) ||
 296              		.loc 1 1062 0
 297 004a 134B     		ldr	r3, .L19+4
 298 004c 1B68     		ldr	r3, [r3]
 299 004e 1B78     		ldrb	r3, [r3]
 300 0050 FA1C     		adds	r2, r7, #3
 301 0052 1278     		ldrb	r2, [r2]
 302 0054 9A42     		cmp	r2, r3
 303 0056 04D1     		bne	.L15
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 25


1063:Generated_Source\PSoC4/Bootloader.c ****            (0u == *Bootloader_SizeBytesAccess))
 304              		.loc 1 1063 0 discriminator 1
 305 0058 0E4B     		ldr	r3, .L19
 306 005a 1B68     		ldr	r3, [r3]
 307 005c 1B68     		ldr	r3, [r3]
1062:Generated_Source\PSoC4/Bootloader.c ****            (0u == *Bootloader_SizeBytesAccess))
 308              		.loc 1 1062 0 discriminator 1
 309 005e 002B     		cmp	r3, #0
 310 0060 02D1     		bne	.L16
 311              	.L15:
1064:Generated_Source\PSoC4/Bootloader.c ****         {
1065:Generated_Source\PSoC4/Bootloader.c ****             /***********************************************************************
1066:Generated_Source\PSoC4/Bootloader.c ****             * If the Bootloader/Launcher application calculated checksum does not match
1067:Generated_Source\PSoC4/Bootloader.c ****             * the checksum stored in special Bootloader_Checksum constant 
1068:Generated_Source\PSoC4/Bootloader.c ****             * (accessed through Bootloader_ChecksumAccess) constant or its size 
1069:Generated_Source\PSoC4/Bootloader.c ****             * stored in Bootloader_SizeBytes constant (accessed through
1070:Generated_Source\PSoC4/Bootloader.c ****             * Bootloader_SizeBytesAccess) then CPU is halted, all software 
1071:Generated_Source\PSoC4/Bootloader.c ****             * processing stops. 
1072:Generated_Source\PSoC4/Bootloader.c ****             ***********************************************************************/
1073:Generated_Source\PSoC4/Bootloader.c ****             CyHalt(0x00u);
 312              		.loc 1 1073 0
 313 0062 0020     		movs	r0, #0
 314 0064 FFF7FEFF 		bl	CyHalt
 315              	.L16:
1074:Generated_Source\PSoC4/Bootloader.c ****         }
1075:Generated_Source\PSoC4/Bootloader.c **** 
1076:Generated_Source\PSoC4/Bootloader.c ****     #endif /* 0u != Bootloader_BOOTLOADER_APP_VALIDATION */
1077:Generated_Source\PSoC4/Bootloader.c **** #endif /* CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/ 
1078:Generated_Source\PSoC4/Bootloader.c **** 
1079:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)    
1080:Generated_Source\PSoC4/Bootloader.c ****     /***********************************************************************
1081:Generated_Source\PSoC4/Bootloader.c ****     * If the active Bootloadable application is invalid or scheduled - do the following:
1082:Generated_Source\PSoC4/Bootloader.c ****     *  - schedule the Bootloader application to be run after a software reset;
1083:Generated_Source\PSoC4/Bootloader.c ****     *  - go to the communication subroutine. The HostLink() will wait for
1084:Generated_Source\PSoC4/Bootloader.c ****     *    commands forever.
1085:Generated_Source\PSoC4/Bootloader.c ****     ***********************************************************************/
1086:Generated_Source\PSoC4/Bootloader.c ****     if ((Bootloader_GET_RUN_TYPE == Bootloader_SCHEDULE_BTLDR) 
 316              		.loc 1 1086 0
 317 0068 0C4B     		ldr	r3, .L19+8
 318 006a 1B68     		ldr	r3, [r3]
 319 006c 402B     		cmp	r3, #64
 320 006e 02D0     		beq	.L17
1087:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)        
1088:Generated_Source\PSoC4/Bootloader.c ****         || (CYRET_SUCCESS != validApp)
 321              		.loc 1 1088 0
 322 0070 7B68     		ldr	r3, [r7, #4]
 323 0072 002B     		cmp	r3, #0
 324 0074 05D0     		beq	.L18
 325              	.L17:
1089:Generated_Source\PSoC4/Bootloader.c **** #endif        
1090:Generated_Source\PSoC4/Bootloader.c ****         )
1091:Generated_Source\PSoC4/Bootloader.c ****     {
1092:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 326              		.loc 1 1092 0
 327 0076 094B     		ldr	r3, .L19+8
 328 0078 0022     		movs	r2, #0
 329 007a 1A60     		str	r2, [r3]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 26


1093:Generated_Source\PSoC4/Bootloader.c **** 
1094:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_HostLink(Bootloader_WAIT_FOR_COMMAND_FOREVER);
 330              		.loc 1 1094 0
 331 007c 0020     		movs	r0, #0
 332 007e FFF7FEFF 		bl	Bootloader_HostLink
 333              	.L18:
1095:Generated_Source\PSoC4/Bootloader.c ****     }
1096:Generated_Source\PSoC4/Bootloader.c **** 
1097:Generated_Source\PSoC4/Bootloader.c ****     /* Go to communication subroutine. Will wait for commands for specified time */
1098:Generated_Source\PSoC4/Bootloader.c ****     #if(0u != Bootloader_WAIT_FOR_COMMAND)
1099:Generated_Source\PSoC4/Bootloader.c **** 
1100:Generated_Source\PSoC4/Bootloader.c ****         /* Timeout is in 100s of milliseconds */
1101:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_HostLink(Bootloader_WAIT_FOR_COMMAND_TIME);
 334              		.loc 1 1101 0
 335 0082 1420     		movs	r0, #20
 336 0084 FFF7FEFF 		bl	Bootloader_HostLink
1102:Generated_Source\PSoC4/Bootloader.c **** 
1103:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (0u != Bootloader_WAIT_FOR_COMMAND) */
1104:Generated_Source\PSoC4/Bootloader.c **** #else /* Launcher */
1105:Generated_Source\PSoC4/Bootloader.c ****     /* If none Bootloadable application is valid */
1106:Generated_Source\PSoC4/Bootloader.c ****     if (CYRET_SUCCESS != validApp)
1107:Generated_Source\PSoC4/Bootloader.c ****     {   
1108:Generated_Source\PSoC4/Bootloader.c ****         CyHalt(0x00u);
1109:Generated_Source\PSoC4/Bootloader.c ****     }         
1110:Generated_Source\PSoC4/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER*/    
1111:Generated_Source\PSoC4/Bootloader.c **** 
1112:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)             
1113:Generated_Source\PSoC4/Bootloader.c ****     /* Schedule Bootloadable application and perform software reset */
1114:Generated_Source\PSoC4/Bootloader.c ****     Bootloader_LaunchApplication();
 337              		.loc 1 1114 0
 338 0088 FFF7FEFF 		bl	Bootloader_LaunchApplication
1115:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
1116:Generated_Source\PSoC4/Bootloader.c **** }
 339              		.loc 1 1116 0
 340 008c C046     		nop
 341 008e BD46     		mov	sp, r7
 342 0090 03B0     		add	sp, sp, #12
 343              		@ sp needed
 344 0092 90BD     		pop	{r4, r7, pc}
 345              	.L20:
 346              		.align	2
 347              	.L19:
 348 0094 00000000 		.word	Bootloader_SizeBytesAccess
 349 0098 00000000 		.word	Bootloader_ChecksumAccess
 350 009c 00000000 		.word	cyBtldrRunType
 351              		.cfi_endproc
 352              	.LFE35:
 353              		.size	Bootloader_Start, .-Bootloader_Start
 354              		.section	.text.Bootloader_LaunchApplication,"ax",%progbits
 355              		.align	2
 356              		.code	16
 357              		.thumb_func
 358              		.type	Bootloader_LaunchApplication, %function
 359              	Bootloader_LaunchApplication:
 360              	.LFB36:
1117:Generated_Source\PSoC4/Bootloader.c **** 
1118:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 27


1119:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
1120:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_LaunchApplication
1121:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
1122:Generated_Source\PSoC4/Bootloader.c **** * \internal
1123:Generated_Source\PSoC4/Bootloader.c **** *
1124:Generated_Source\PSoC4/Bootloader.c **** * \brief
1125:Generated_Source\PSoC4/Bootloader.c **** *  Schedules the Bootloadable application and resets the device.
1126:Generated_Source\PSoC4/Bootloader.c **** *
1127:Generated_Source\PSoC4/Bootloader.c **** * \return
1128:Generated_Source\PSoC4/Bootloader.c **** *  This method will never return.
1129:Generated_Source\PSoC4/Bootloader.c **** *
1130:Generated_Source\PSoC4/Bootloader.c **** * \endinternal
1131:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
1132:Generated_Source\PSoC4/Bootloader.c **** static void Bootloader_LaunchApplication(void) CYSMALL \
1133:Generated_Source\PSoC4/Bootloader.c ****                     
1134:Generated_Source\PSoC4/Bootloader.c **** {
 361              		.loc 1 1134 0
 362              		.cfi_startproc
 363              		@ args = 0, pretend = 0, frame = 0
 364              		@ frame_needed = 1, uses_anonymous_args = 0
 365 0000 80B5     		push	{r7, lr}
 366              		.cfi_def_cfa_offset 8
 367              		.cfi_offset 7, -8
 368              		.cfi_offset 14, -4
 369 0002 00AF     		add	r7, sp, #0
 370              		.cfi_def_cfa_register 7
1135:Generated_Source\PSoC4/Bootloader.c ****     /* Schedule Bootloadable to start after a reset */
1136:Generated_Source\PSoC4/Bootloader.c ****     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 371              		.loc 1 1136 0
 372 0004 034B     		ldr	r3, .L22
 373 0006 8022     		movs	r2, #128
 374 0008 1A60     		str	r2, [r3]
1137:Generated_Source\PSoC4/Bootloader.c **** 
1138:Generated_Source\PSoC4/Bootloader.c ****     CySoftwareReset();
 375              		.loc 1 1138 0
 376 000a FFF7FEFF 		bl	CySoftwareReset
1139:Generated_Source\PSoC4/Bootloader.c **** }
 377              		.loc 1 1139 0
 378 000e C046     		nop
 379 0010 BD46     		mov	sp, r7
 380              		@ sp needed
 381 0012 80BD     		pop	{r7, pc}
 382              	.L23:
 383              		.align	2
 384              	.L22:
 385 0014 00000000 		.word	cyBtldrRunType
 386              		.cfi_endproc
 387              	.LFE36:
 388              		.size	Bootloader_LaunchApplication, .-Bootloader_LaunchApplication
 389              		.section	.text.Bootloader_Exit,"ax",%progbits
 390              		.align	2
 391              		.global	Bootloader_Exit
 392              		.code	16
 393              		.thumb_func
 394              		.type	Bootloader_Exit, %function
 395              	Bootloader_Exit:
 396              	.LFB37:
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 28


1140:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1141:Generated_Source\PSoC4/Bootloader.c **** 
1142:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
1143:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_Exit
1144:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
1145:Generated_Source\PSoC4/Bootloader.c **** *
1146:Generated_Source\PSoC4/Bootloader.c **** *\brief
1147:Generated_Source\PSoC4/Bootloader.c **** *  Schedules the specified application and performs a software reset to launch
1148:Generated_Source\PSoC4/Bootloader.c **** *  a specified application.
1149:Generated_Source\PSoC4/Bootloader.c **** *
1150:Generated_Source\PSoC4/Bootloader.c **** *  If the specified application is not valid, the Bootloader (the result of the
1151:Generated_Source\PSoC4/Bootloader.c **** *  ValidateBootloadable() function execution returns other than CYRET_SUCCESS,
1152:Generated_Source\PSoC4/Bootloader.c **** *  the Bootloader application is launched.
1153:Generated_Source\PSoC4/Bootloader.c **** *
1154:Generated_Source\PSoC4/Bootloader.c **** * \param appId 
1155:Generated_Source\PSoC4/Bootloader.c **** *   The application to be started:
1156:Generated_Source\PSoC4/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDR - The Bootloader application will be started on
1157:Generated_Source\PSoC4/Bootloader.c **** *                                     a software reset.
1158:Generated_Source\PSoC4/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB;
1159:Generated_Source\PSoC4/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB_1 - Bootloadable application # 1 will be
1160:Generated_Source\PSoC4/Bootloader.c **** *                                     started on a software reset.
1161:Generated_Source\PSoC4/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB_2 - Bootloadable application # 2 will be
1162:Generated_Source\PSoC4/Bootloader.c **** *                                     started on a software reset. Available only
1163:Generated_Source\PSoC4/Bootloader.c **** *                                     if the "Dual-application" option is enabled in
1164:Generated_Source\PSoC4/Bootloader.c **** *                                     the component customizer.
1165:Generated_Source\PSoC4/Bootloader.c **** * \return
1166:Generated_Source\PSoC4/Bootloader.c **** *  This function never returns.
1167:Generated_Source\PSoC4/Bootloader.c **** *
1168:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
1169:Generated_Source\PSoC4/Bootloader.c **** void Bootloader_Exit(uint8 appId) CYSMALL 
1170:Generated_Source\PSoC4/Bootloader.c **** {
 397              		.loc 1 1170 0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 16
 400              		@ frame_needed = 1, uses_anonymous_args = 0
 401 0000 80B5     		push	{r7, lr}
 402              		.cfi_def_cfa_offset 8
 403              		.cfi_offset 7, -8
 404              		.cfi_offset 14, -4
 405 0002 84B0     		sub	sp, sp, #16
 406              		.cfi_def_cfa_offset 24
 407 0004 00AF     		add	r7, sp, #0
 408              		.cfi_def_cfa_register 7
 409 0006 0200     		movs	r2, r0
 410 0008 FB1D     		adds	r3, r7, #7
 411 000a 1A70     		strb	r2, [r3]
1171:Generated_Source\PSoC4/Bootloader.c ****     if(Bootloader_EXIT_TO_BTLDR == appId)
 412              		.loc 1 1171 0
 413 000c FB1D     		adds	r3, r7, #7
 414 000e 1B78     		ldrb	r3, [r3]
 415 0010 022B     		cmp	r3, #2
 416 0012 03D1     		bne	.L25
1172:Generated_Source\PSoC4/Bootloader.c ****     {
1173:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 417              		.loc 1 1173 0
 418 0014 1E4B     		ldr	r3, .L30
 419 0016 0022     		movs	r2, #0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 29


 420 0018 1A60     		str	r2, [r3]
 421 001a 33E0     		b	.L26
 422              	.L25:
1174:Generated_Source\PSoC4/Bootloader.c ****     }
1175:Generated_Source\PSoC4/Bootloader.c ****     else
1176:Generated_Source\PSoC4/Bootloader.c ****     {
1177:Generated_Source\PSoC4/Bootloader.c ****         if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(appId))
 423              		.loc 1 1177 0
 424 001c FB1D     		adds	r3, r7, #7
 425 001e 1B78     		ldrb	r3, [r3]
 426 0020 1800     		movs	r0, r3
 427 0022 FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 428 0026 031E     		subs	r3, r0, #0
 429 0028 29D1     		bne	.L27
 430              	.LBB2:
1178:Generated_Source\PSoC4/Bootloader.c ****         {
1179:Generated_Source\PSoC4/Bootloader.c ****             /* Set active application in metadata */
1180:Generated_Source\PSoC4/Bootloader.c ****             uint8 CYDATA idx;
1181:Generated_Source\PSoC4/Bootloader.c ****             for(idx = 0u; idx < Bootloader_MAX_NUM_OF_BTLDB; idx++)
 431              		.loc 1 1181 0
 432 002a 0F23     		movs	r3, #15
 433 002c FB18     		adds	r3, r7, r3
 434 002e 0022     		movs	r2, #0
 435 0030 1A70     		strb	r2, [r3]
 436 0032 1BE0     		b	.L28
 437              	.L29:
1182:Generated_Source\PSoC4/Bootloader.c ****             {
1183:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_ACTIVE_OFFSET(idx),
 438              		.loc 1 1183 0 discriminator 3
 439 0034 0F23     		movs	r3, #15
 440 0036 FB18     		adds	r3, r7, r3
 441 0038 1A78     		ldrb	r2, [r3]
 442 003a 1300     		movs	r3, r2
 443 003c 5B06     		lsls	r3, r3, #25
 444 003e 9B1A     		subs	r3, r3, r2
 445 0040 DB01     		lsls	r3, r3, #7
 446 0042 144A     		ldr	r2, .L30+4
 447 0044 9818     		adds	r0, r3, r2
 448 0046 0F23     		movs	r3, #15
 449 0048 FA18     		adds	r2, r7, r3
 450 004a FB1D     		adds	r3, r7, #7
 451 004c 1278     		ldrb	r2, [r2]
 452 004e 1B78     		ldrb	r3, [r3]
 453 0050 D31A     		subs	r3, r2, r3
 454 0052 5A42     		rsbs	r2, r3, #0
 455 0054 5341     		adcs	r3, r3, r2
 456 0056 DBB2     		uxtb	r3, r3
 457 0058 1900     		movs	r1, r3
 458 005a FFF7FEFF 		bl	Bootloader_SetFlashByte
1181:Generated_Source\PSoC4/Bootloader.c ****             {
 459              		.loc 1 1181 0 discriminator 3
 460 005e 0F23     		movs	r3, #15
 461 0060 FB18     		adds	r3, r7, r3
 462 0062 1A78     		ldrb	r2, [r3]
 463 0064 0F23     		movs	r3, #15
 464 0066 FB18     		adds	r3, r7, r3
 465 0068 0132     		adds	r2, r2, #1
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 30


 466 006a 1A70     		strb	r2, [r3]
 467              	.L28:
1181:Generated_Source\PSoC4/Bootloader.c ****             {
 468              		.loc 1 1181 0 is_stmt 0 discriminator 1
 469 006c 0F23     		movs	r3, #15
 470 006e FB18     		adds	r3, r7, r3
 471 0070 1B78     		ldrb	r3, [r3]
 472 0072 002B     		cmp	r3, #0
 473 0074 DED0     		beq	.L29
1184:Generated_Source\PSoC4/Bootloader.c ****                                               (uint8 )(idx == appId));
1185:Generated_Source\PSoC4/Bootloader.c ****             }
1186:Generated_Source\PSoC4/Bootloader.c **** 
1187:Generated_Source\PSoC4/Bootloader.c ****         #if((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
1188:Generated_Source\PSoC4/Bootloader.c ****             (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
1189:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_activeApp = appId;
1190:Generated_Source\PSoC4/Bootloader.c ****         #endif /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || 
1191:Generated_Source\PSoC4/Bootloader.c ****                   (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))*/
1192:Generated_Source\PSoC4/Bootloader.c **** 
1193:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 474              		.loc 1 1193 0 is_stmt 1
 475 0076 064B     		ldr	r3, .L30
 476 0078 8022     		movs	r2, #128
 477 007a 1A60     		str	r2, [r3]
 478              	.LBE2:
 479 007c 02E0     		b	.L26
 480              	.L27:
1194:Generated_Source\PSoC4/Bootloader.c ****         }
1195:Generated_Source\PSoC4/Bootloader.c ****         else
1196:Generated_Source\PSoC4/Bootloader.c ****         {
1197:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 481              		.loc 1 1197 0
 482 007e 044B     		ldr	r3, .L30
 483 0080 0022     		movs	r2, #0
 484 0082 1A60     		str	r2, [r3]
 485              	.L26:
1198:Generated_Source\PSoC4/Bootloader.c ****         }
1199:Generated_Source\PSoC4/Bootloader.c ****     }
1200:Generated_Source\PSoC4/Bootloader.c **** 
1201:Generated_Source\PSoC4/Bootloader.c ****     CySoftwareReset();
 486              		.loc 1 1201 0
 487 0084 FFF7FEFF 		bl	CySoftwareReset
1202:Generated_Source\PSoC4/Bootloader.c **** }
 488              		.loc 1 1202 0
 489 0088 C046     		nop
 490 008a BD46     		mov	sp, r7
 491 008c 04B0     		add	sp, sp, #16
 492              		@ sp needed
 493 008e 80BD     		pop	{r7, pc}
 494              	.L31:
 495              		.align	2
 496              	.L30:
 497 0090 00000000 		.word	cyBtldrRunType
 498 0094 D07F0000 		.word	32720
 499              		.cfi_endproc
 500              	.LFE37:
 501              		.size	Bootloader_Exit, .-Bootloader_Exit
 502              		.section	.text.CyBtldr_CheckLaunch,"ax",%progbits
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 31


 503              		.align	2
 504              		.global	CyBtldr_CheckLaunch
 505              		.code	16
 506              		.thumb_func
 507              		.type	CyBtldr_CheckLaunch, %function
 508              	CyBtldr_CheckLaunch:
 509              	.LFB38:
1203:Generated_Source\PSoC4/Bootloader.c **** 
1204:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1205:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
1206:Generated_Source\PSoC4/Bootloader.c **** * Function Name: CyBtldr_CheckLaunch
1207:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
1208:Generated_Source\PSoC4/Bootloader.c **** * \internal
1209:Generated_Source\PSoC4/Bootloader.c **** *
1210:Generated_Source\PSoC4/Bootloader.c **** * \brief
1211:Generated_Source\PSoC4/Bootloader.c **** *  This routine checks if the Bootloader or Bootloadable application has to
1212:Generated_Source\PSoC4/Bootloader.c **** *  be run.  If the application has to be run, it will start executing.
1213:Generated_Source\PSoC4/Bootloader.c **** *  If the Bootloader has to be run, it will return, so the Bootloader can
1214:Generated_Source\PSoC4/Bootloader.c **** *  continue starting up.
1215:Generated_Source\PSoC4/Bootloader.c **** *
1216:Generated_Source\PSoC4/Bootloader.c **** * \return
1217:Generated_Source\PSoC4/Bootloader.c **** *  It will not return if it determines that the Bootloadable application should
1218:Generated_Source\PSoC4/Bootloader.c **** *  be run.
1219:Generated_Source\PSoC4/Bootloader.c **** *
1220:Generated_Source\PSoC4/Bootloader.c **** * \endinternal
1221:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
1222:Generated_Source\PSoC4/Bootloader.c **** void CyBtldr_CheckLaunch(void) CYSMALL 
1223:Generated_Source\PSoC4/Bootloader.c **** {
 510              		.loc 1 1223 0
 511              		.cfi_startproc
 512              		@ args = 0, pretend = 0, frame = 8
 513              		@ frame_needed = 1, uses_anonymous_args = 0
 514 0000 80B5     		push	{r7, lr}
 515              		.cfi_def_cfa_offset 8
 516              		.cfi_offset 7, -8
 517              		.cfi_offset 14, -4
 518 0002 82B0     		sub	sp, sp, #8
 519              		.cfi_def_cfa_offset 16
 520 0004 00AF     		add	r7, sp, #0
 521              		.cfi_def_cfa_register 7
1224:Generated_Source\PSoC4/Bootloader.c **** 
1225:Generated_Source\PSoC4/Bootloader.c **** #if(CY_PSOC4)
1226:Generated_Source\PSoC4/Bootloader.c **** 
1227:Generated_Source\PSoC4/Bootloader.c ****     /*******************************************************************************
1228:Generated_Source\PSoC4/Bootloader.c ****     * Set cyBtldrRunType to zero in the case of a non-software reset. This means
1229:Generated_Source\PSoC4/Bootloader.c ****     * that the Bootloader application is scheduled - the initial clean state. The
1230:Generated_Source\PSoC4/Bootloader.c ****     * value of cyBtldrRunType is valid only in the case of a software reset.
1231:Generated_Source\PSoC4/Bootloader.c ****     *******************************************************************************/
1232:Generated_Source\PSoC4/Bootloader.c ****     if (0u == (Bootloader_RES_CAUSE_REG & Bootloader_RES_CAUSE_RESET_SOFT))
 522              		.loc 1 1232 0
 523 0006 144B     		ldr	r3, .L36
 524 0008 1B68     		ldr	r3, [r3]
 525 000a 1022     		movs	r2, #16
 526 000c 1340     		ands	r3, r2
 527 000e 02D1     		bne	.L33
1233:Generated_Source\PSoC4/Bootloader.c ****     {
1234:Generated_Source\PSoC4/Bootloader.c ****         cyBtldrRunType = Bootloader_SCHEDULE_BTLDR_INIT_STATE;
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 32


 528              		.loc 1 1234 0
 529 0010 124B     		ldr	r3, .L36+4
 530 0012 0022     		movs	r2, #0
 531 0014 1A60     		str	r2, [r3]
 532              	.L33:
1235:Generated_Source\PSoC4/Bootloader.c ****     }
1236:Generated_Source\PSoC4/Bootloader.c **** 
1237:Generated_Source\PSoC4/Bootloader.c **** #endif /* (CY_PSOC4) */
1238:Generated_Source\PSoC4/Bootloader.c **** 
1239:Generated_Source\PSoC4/Bootloader.c **** 
1240:Generated_Source\PSoC4/Bootloader.c ****     if (Bootloader_GET_RUN_TYPE == Bootloader_SCHEDULE_BTLDB)
 533              		.loc 1 1240 0
 534 0016 114B     		ldr	r3, .L36+4
 535 0018 1B68     		ldr	r3, [r3]
 536 001a 802B     		cmp	r3, #128
 537 001c 17D1     		bne	.L35
 538              	.LBB3:
1241:Generated_Source\PSoC4/Bootloader.c ****     {
1242:Generated_Source\PSoC4/Bootloader.c **** 
1243:Generated_Source\PSoC4/Bootloader.c **** 
1244:Generated_Source\PSoC4/Bootloader.c ****     #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
1245:Generated_Source\PSoC4/Bootloader.c ****         /******************************************************************************* 
1246:Generated_Source\PSoC4/Bootloader.c ****         * Classic Single-app or Dual-app Bootloader use cases.
1247:Generated_Source\PSoC4/Bootloader.c ****         * The active application number is taken from Bootloader_activeApp not
1248:Generated_Source\PSoC4/Bootloader.c ****         * to break backward compatibility.
1249:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1250:Generated_Source\PSoC4/Bootloader.c ****         uint8 activeApp = Bootloader_activeApp;
 539              		.loc 1 1250 0
 540 001e FB1D     		adds	r3, r7, #7
 541 0020 0022     		movs	r2, #0
 542 0022 1A70     		strb	r2, [r3]
1251:Generated_Source\PSoC4/Bootloader.c ****         
1252:Generated_Source\PSoC4/Bootloader.c ****         
1253:Generated_Source\PSoC4/Bootloader.c ****         /******************************************************************************* 
1254:Generated_Source\PSoC4/Bootloader.c ****         * Classic Dual-app Bootloader with 2 Combination projects use case.
1255:Generated_Source\PSoC4/Bootloader.c ****         * In this use case Classic Dual-app Bootloader is not the only one, who switches
1256:Generated_Source\PSoC4/Bootloader.c ****         * between applications. So if there is no valid value for Bootloader_activeApp,
1257:Generated_Source\PSoC4/Bootloader.c ****         * then we should additionally check the metadata if one of the Combination application
1258:Generated_Source\PSoC4/Bootloader.c ****         * has set a value there.
1259:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/ 
1260:Generated_Source\PSoC4/Bootloader.c ****         #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)
1261:Generated_Source\PSoC4/Bootloader.c ****         if (activeApp >= Bootloader_MD_BTLDB_ACTIVE_NONE) 
1262:Generated_Source\PSoC4/Bootloader.c ****         {
1263:Generated_Source\PSoC4/Bootloader.c ****             activeApp = Bootloader_GetActiveAppFromMetadata();
1264:Generated_Source\PSoC4/Bootloader.c ****         }
1265:Generated_Source\PSoC4/Bootloader.c ****         #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)*/ 
1266:Generated_Source\PSoC4/Bootloader.c ****     #else 
1267:Generated_Source\PSoC4/Bootloader.c ****         /* Launcher use case.  The active application number is taken from metadata. */
1268:Generated_Source\PSoC4/Bootloader.c ****         uint8 activeApp = Bootloader_GetActiveAppFromMetadata(); 
1269:Generated_Source\PSoC4/Bootloader.c ****     #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) */
1270:Generated_Source\PSoC4/Bootloader.c ****         
1271:Generated_Source\PSoC4/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 543              		.loc 1 1271 0
 544 0024 0D4B     		ldr	r3, .L36+4
 545 0026 0022     		movs	r2, #0
 546 0028 1A60     		str	r2, [r3]
1272:Generated_Source\PSoC4/Bootloader.c **** 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 33


1273:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1274:Generated_Source\PSoC4/Bootloader.c ****         * Indicates that we have told ourselves to jump to the application because we have
1275:Generated_Source\PSoC4/Bootloader.c ****         * already told ourselves to jump, we do not do any expensive verification of the
1276:Generated_Source\PSoC4/Bootloader.c ****         * application. We just check to make sure that the value at CY_APP_ADDR_ADDRESS
1277:Generated_Source\PSoC4/Bootloader.c ****         * is something other than 0 and active application is valid.
1278:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1279:Generated_Source\PSoC4/Bootloader.c ****         if ((0u != Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR, activeApp)) 
 547              		.loc 1 1279 0
 548 002a FB1D     		adds	r3, r7, #7
 549 002c 1B78     		ldrb	r3, [r3]
 550 002e 1900     		movs	r1, r3
 551 0030 0220     		movs	r0, #2
 552 0032 FFF7FEFF 		bl	Bootloader_GetMetadata
 553 0036 031E     		subs	r3, r0, #0
 554 0038 09D0     		beq	.L35
1280:Generated_Source\PSoC4/Bootloader.c ****     #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_BOOTLOADER)
1281:Generated_Source\PSoC4/Bootloader.c ****             && (activeApp < Bootloader_MD_BTLDB_ACTIVE_NONE)
1282:Generated_Source\PSoC4/Bootloader.c ****     #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_BOOTLOADER) */        
1283:Generated_Source\PSoC4/Bootloader.c ****             )
1284:Generated_Source\PSoC4/Bootloader.c ****         {
1285:Generated_Source\PSoC4/Bootloader.c ****             /* Never returns from this method */
1286:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_LaunchBootloadable(Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR,
 555              		.loc 1 1286 0
 556 003a FB1D     		adds	r3, r7, #7
 557 003c 1B78     		ldrb	r3, [r3]
 558 003e 1900     		movs	r1, r3
 559 0040 0220     		movs	r0, #2
 560 0042 FFF7FEFF 		bl	Bootloader_GetMetadata
 561 0046 0300     		movs	r3, r0
 562 0048 1800     		movs	r0, r3
 563 004a FFF7FEFF 		bl	Bootloader_LaunchBootloadable
 564              	.L35:
 565              	.LBE3:
1287:Generated_Source\PSoC4/Bootloader.c ****                                                                              activeApp));
1288:Generated_Source\PSoC4/Bootloader.c ****         }
1289:Generated_Source\PSoC4/Bootloader.c ****     }
1290:Generated_Source\PSoC4/Bootloader.c **** }
 566              		.loc 1 1290 0
 567 004e C046     		nop
 568 0050 BD46     		mov	sp, r7
 569 0052 02B0     		add	sp, sp, #8
 570              		@ sp needed
 571 0054 80BD     		pop	{r7, pc}
 572              	.L37:
 573 0056 C046     		.align	2
 574              	.L36:
 575 0058 00030B40 		.word	1074463488
 576 005c 00000000 		.word	cyBtldrRunType
 577              		.cfi_endproc
 578              	.LFE38:
 579              		.size	CyBtldr_CheckLaunch, .-CyBtldr_CheckLaunch
 580              		.section	.text.Bootloader_LaunchBootloadable,"ax",%progbits
 581              		.align	2
 582              		.code	16
 583              		.thumb_func
 584              		.type	Bootloader_LaunchBootloadable, %function
 585              	Bootloader_LaunchBootloadable:
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 34


 586              	.LFB39:
1291:Generated_Source\PSoC4/Bootloader.c **** 
1292:Generated_Source\PSoC4/Bootloader.c **** 
1293:Generated_Source\PSoC4/Bootloader.c **** /* Moves argument appAddr (RO) into PC, moving execution to appAddr */
1294:Generated_Source\PSoC4/Bootloader.c **** #if defined (__ARMCC_VERSION)
1295:Generated_Source\PSoC4/Bootloader.c **** 
1296:Generated_Source\PSoC4/Bootloader.c ****     __asm static void Bootloader_LaunchBootloadable(uint32 appAddr)
1297:Generated_Source\PSoC4/Bootloader.c ****     {
1298:Generated_Source\PSoC4/Bootloader.c ****         BX  R0
1299:Generated_Source\PSoC4/Bootloader.c ****         ALIGN
1300:Generated_Source\PSoC4/Bootloader.c ****     }
1301:Generated_Source\PSoC4/Bootloader.c **** 
1302:Generated_Source\PSoC4/Bootloader.c **** #elif defined(__GNUC__)
1303:Generated_Source\PSoC4/Bootloader.c **** 
1304:Generated_Source\PSoC4/Bootloader.c ****     __attribute__((noinline)) /* Workaround for GCC toolchain bug with inlining */
1305:Generated_Source\PSoC4/Bootloader.c ****     __attribute__((naked))
1306:Generated_Source\PSoC4/Bootloader.c ****     static void Bootloader_LaunchBootloadable(uint32 appAddr)
1307:Generated_Source\PSoC4/Bootloader.c ****     {
 587              		.loc 1 1307 0
 588              		.cfi_startproc
 589              		@ Naked Function: prologue and epilogue provided by programmer.
 590              		@ args = 0, pretend = 0, frame = 0
 591              		@ frame_needed = 1, uses_anonymous_args = 0
1308:Generated_Source\PSoC4/Bootloader.c ****         __asm volatile("    BX  R0\n");
 592              		.loc 1 1308 0
 593              		.syntax divided
 594              	@ 1308 "Generated_Source\PSoC4\Bootloader.c" 1
 595 0000 0047     		    BX  R0
 596              	
 597              	@ 0 "" 2
1309:Generated_Source\PSoC4/Bootloader.c ****     }
 598              		.loc 1 1309 0
 599              		.thumb
 600              		.syntax unified
 601 0002 C046     		nop
 602              		.cfi_endproc
 603              	.LFE39:
 604              		.size	Bootloader_LaunchBootloadable, .-Bootloader_LaunchBootloadable
 605              		.section	.text.Bootloader_ValidateBootloadable,"ax",%progbits
 606              		.align	2
 607              		.global	Bootloader_ValidateBootloadable
 608              		.code	16
 609              		.thumb_func
 610              		.type	Bootloader_ValidateBootloadable, %function
 611              	Bootloader_ValidateBootloadable:
 612              	.LFB40:
1310:Generated_Source\PSoC4/Bootloader.c **** 
1311:Generated_Source\PSoC4/Bootloader.c **** #elif defined (__ICCARM__)
1312:Generated_Source\PSoC4/Bootloader.c **** 
1313:Generated_Source\PSoC4/Bootloader.c ****     static void Bootloader_LaunchBootloadable(uint32 appAddr)
1314:Generated_Source\PSoC4/Bootloader.c ****     {
1315:Generated_Source\PSoC4/Bootloader.c ****         __asm volatile("    BX  R0\n");
1316:Generated_Source\PSoC4/Bootloader.c ****     }
1317:Generated_Source\PSoC4/Bootloader.c **** 
1318:Generated_Source\PSoC4/Bootloader.c **** #endif  /* (__ARMCC_VERSION) */
1319:Generated_Source\PSoC4/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1320:Generated_Source\PSoC4/Bootloader.c **** 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 35


1321:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
1322:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_ValidateBootloadable
1323:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
1324:Generated_Source\PSoC4/Bootloader.c **** * \brief
1325:Generated_Source\PSoC4/Bootloader.c **** *  Performs the Bootloadable application validation by calculating the
1326:Generated_Source\PSoC4/Bootloader.c **** *  application image checksum and comparing it with the checksum value stored
1327:Generated_Source\PSoC4/Bootloader.c **** *  in the Bootloadable Application Checksum field of the metadata section.
1328:Generated_Source\PSoC4/Bootloader.c **** *
1329:Generated_Source\PSoC4/Bootloader.c **** *  If the "Fast bootloadable application validation" option is enabled in the
1330:Generated_Source\PSoC4/Bootloader.c **** *  component customizer and Bootloadable application successfully passes
1331:Generated_Source\PSoC4/Bootloader.c **** *  validation, the Bootloadable Application Verification Status field of the
1332:Generated_Source\PSoC4/Bootloader.c **** *  metadata section is updated. Refer to the "Metadata Layout" section for the
1333:Generated_Source\PSoC4/Bootloader.c **** *  details.
1334:Generated_Source\PSoC4/Bootloader.c **** *
1335:Generated_Source\PSoC4/Bootloader.c **** *  If the "Fast bootloadable application validation" option is enabled and
1336:Generated_Source\PSoC4/Bootloader.c **** *  the Bootloadable Application Verification Status field of the metadata section
1337:Generated_Source\PSoC4/Bootloader.c **** *  claims that the Bootloadable application is valid, the function returns
1338:Generated_Source\PSoC4/Bootloader.c **** *  CYRET_SUCCESS without further checksum calculation.
1339:Generated_Source\PSoC4/Bootloader.c **** *
1340:Generated_Source\PSoC4/Bootloader.c **** *  \param appId
1341:Generated_Source\PSoC4/Bootloader.c **** *  The number of the Bootloadable application should be 0 for the normal
1342:Generated_Source\PSoC4/Bootloader.c **** *  bootloader and 0 or 1 for the dual-application bootloader.
1343:Generated_Source\PSoC4/Bootloader.c **** *
1344:Generated_Source\PSoC4/Bootloader.c **** * \return
1345:Generated_Source\PSoC4/Bootloader.c **** *  CYRET_SUCCESS - If the specified the Bootloadable application is valid.
1346:Generated_Source\PSoC4/Bootloader.c **** *  CYRET_BAD_DATA is returned if the input parameter is out of the specified range
1347:Generated_Source\PSoC4/Bootloader.c **** *      or the calculated checksum does not match the stored checksum.
1348:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
1349:Generated_Source\PSoC4/Bootloader.c **** cystatus Bootloader_ValidateBootloadable(uint8 appId) CYSMALL \
1350:Generated_Source\PSoC4/Bootloader.c **** 
1351:Generated_Source\PSoC4/Bootloader.c ****     {
 613              		.loc 1 1351 0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 24
 616              		@ frame_needed = 1, uses_anonymous_args = 0
 617 0000 90B5     		push	{r4, r7, lr}
 618              		.cfi_def_cfa_offset 12
 619              		.cfi_offset 4, -12
 620              		.cfi_offset 7, -8
 621              		.cfi_offset 14, -4
 622 0002 87B0     		sub	sp, sp, #28
 623              		.cfi_def_cfa_offset 40
 624 0004 00AF     		add	r7, sp, #0
 625              		.cfi_def_cfa_register 7
 626 0006 0200     		movs	r2, r0
 627 0008 FB1D     		adds	r3, r7, #7
 628 000a 1A70     		strb	r2, [r3]
1352:Generated_Source\PSoC4/Bootloader.c ****         uint32 CYDATA idx;
1353:Generated_Source\PSoC4/Bootloader.c **** 
1354:Generated_Source\PSoC4/Bootloader.c ****         uint32 CYDATA end   = Bootloader_FIRST_APP_BYTE(appId) +
 629              		.loc 1 1354 0
 630 000c FB1D     		adds	r3, r7, #7
 631 000e 1B78     		ldrb	r3, [r3]
 632 0010 1900     		movs	r1, r3
 633 0012 0320     		movs	r0, #3
 634 0014 FFF7FEFF 		bl	Bootloader_GetMetadata
 635 0018 0300     		movs	r3, r0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 36


 636 001a 0133     		adds	r3, r3, #1
 637 001c DC01     		lsls	r4, r3, #7
1355:Generated_Source\PSoC4/Bootloader.c ****                               Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, appId);
 638              		.loc 1 1355 0
 639 001e FB1D     		adds	r3, r7, #7
 640 0020 1B78     		ldrb	r3, [r3]
 641 0022 1900     		movs	r1, r3
 642 0024 0420     		movs	r0, #4
 643 0026 FFF7FEFF 		bl	Bootloader_GetMetadata
 644 002a 0300     		movs	r3, r0
1354:Generated_Source\PSoC4/Bootloader.c ****                               Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, appId);
 645              		.loc 1 1354 0
 646 002c E318     		adds	r3, r4, r3
 647 002e FB60     		str	r3, [r7, #12]
1356:Generated_Source\PSoC4/Bootloader.c **** 
1357:Generated_Source\PSoC4/Bootloader.c ****         CYBIT  valid = 0u; /* Assume bad flash image */
 648              		.loc 1 1357 0
 649 0030 1323     		movs	r3, #19
 650 0032 FB18     		adds	r3, r7, r3
 651 0034 0022     		movs	r2, #0
 652 0036 1A70     		strb	r2, [r3]
1358:Generated_Source\PSoC4/Bootloader.c ****         uint8  CYDATA calcedChecksum = 0u;
 653              		.loc 1 1358 0
 654 0038 1223     		movs	r3, #18
 655 003a FB18     		adds	r3, r7, r3
 656 003c 0022     		movs	r2, #0
 657 003e 1A70     		strb	r2, [r3]
1359:Generated_Source\PSoC4/Bootloader.c **** 
1360:Generated_Source\PSoC4/Bootloader.c **** 
1361:Generated_Source\PSoC4/Bootloader.c ****         #if(0u != Bootloader_DUAL_APP_BOOTLOADER)
1362:Generated_Source\PSoC4/Bootloader.c **** 
1363:Generated_Source\PSoC4/Bootloader.c ****             if(appId > 1u)
1364:Generated_Source\PSoC4/Bootloader.c ****             {
1365:Generated_Source\PSoC4/Bootloader.c ****                 return(CYRET_BAD_DATA);
1366:Generated_Source\PSoC4/Bootloader.c ****             }
1367:Generated_Source\PSoC4/Bootloader.c **** 
1368:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
1369:Generated_Source\PSoC4/Bootloader.c **** 
1370:Generated_Source\PSoC4/Bootloader.c **** 
1371:Generated_Source\PSoC4/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
1372:Generated_Source\PSoC4/Bootloader.c ****             if(Bootloader_GetMetadata(Bootloader_GET_BTLDB_STATUS, appId) ==
1373:Generated_Source\PSoC4/Bootloader.c ****                Bootloader_MD_BTLDB_IS_VERIFIED)
1374:Generated_Source\PSoC4/Bootloader.c ****             {
1375:Generated_Source\PSoC4/Bootloader.c ****                 return(CYRET_SUCCESS);
1376:Generated_Source\PSoC4/Bootloader.c ****             }
1377:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1378:Generated_Source\PSoC4/Bootloader.c **** 
1379:Generated_Source\PSoC4/Bootloader.c **** 
1380:Generated_Source\PSoC4/Bootloader.c ****         /* Calculate checksum of bootloadable image */
1381:Generated_Source\PSoC4/Bootloader.c ****         for(idx = Bootloader_FIRST_APP_BYTE(appId); idx < end; ++idx)
 658              		.loc 1 1381 0
 659 0040 FB1D     		adds	r3, r7, #7
 660 0042 1B78     		ldrb	r3, [r3]
 661 0044 1900     		movs	r1, r3
 662 0046 0320     		movs	r0, #3
 663 0048 FFF7FEFF 		bl	Bootloader_GetMetadata
 664 004c 0300     		movs	r3, r0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 37


 665 004e 0133     		adds	r3, r3, #1
 666 0050 DB01     		lsls	r3, r3, #7
 667 0052 7B61     		str	r3, [r7, #20]
 668 0054 1FE0     		b	.L40
 669              	.L42:
 670              	.LBB4:
1382:Generated_Source\PSoC4/Bootloader.c ****         {
1383:Generated_Source\PSoC4/Bootloader.c ****             uint8 CYDATA curByte = Bootloader_GET_CODE_BYTE(idx);
 671              		.loc 1 1383 0
 672 0056 7A69     		ldr	r2, [r7, #20]
 673 0058 0B23     		movs	r3, #11
 674 005a FB18     		adds	r3, r7, r3
 675 005c 1278     		ldrb	r2, [r2]
 676 005e 1A70     		strb	r2, [r3]
1384:Generated_Source\PSoC4/Bootloader.c **** 
1385:Generated_Source\PSoC4/Bootloader.c ****             if((curByte != 0u) && (curByte != 0xFFu))
 677              		.loc 1 1385 0
 678 0060 0B23     		movs	r3, #11
 679 0062 FB18     		adds	r3, r7, r3
 680 0064 1B78     		ldrb	r3, [r3]
 681 0066 002B     		cmp	r3, #0
 682 0068 08D0     		beq	.L41
 683              		.loc 1 1385 0 is_stmt 0 discriminator 1
 684 006a 0B23     		movs	r3, #11
 685 006c FB18     		adds	r3, r7, r3
 686 006e 1B78     		ldrb	r3, [r3]
 687 0070 FF2B     		cmp	r3, #255
 688 0072 03D0     		beq	.L41
1386:Generated_Source\PSoC4/Bootloader.c ****             {
1387:Generated_Source\PSoC4/Bootloader.c ****                 valid = 1u;
 689              		.loc 1 1387 0 is_stmt 1
 690 0074 1323     		movs	r3, #19
 691 0076 FB18     		adds	r3, r7, r3
 692 0078 0122     		movs	r2, #1
 693 007a 1A70     		strb	r2, [r3]
 694              	.L41:
1388:Generated_Source\PSoC4/Bootloader.c ****             }
1389:Generated_Source\PSoC4/Bootloader.c **** 
1390:Generated_Source\PSoC4/Bootloader.c ****             calcedChecksum += curByte;
 695              		.loc 1 1390 0 discriminator 2
 696 007c 1223     		movs	r3, #18
 697 007e FB18     		adds	r3, r7, r3
 698 0080 1222     		movs	r2, #18
 699 0082 B918     		adds	r1, r7, r2
 700 0084 0B22     		movs	r2, #11
 701 0086 BA18     		adds	r2, r7, r2
 702 0088 0978     		ldrb	r1, [r1]
 703 008a 1278     		ldrb	r2, [r2]
 704 008c 8A18     		adds	r2, r1, r2
 705 008e 1A70     		strb	r2, [r3]
 706              	.LBE4:
1381:Generated_Source\PSoC4/Bootloader.c ****         {
 707              		.loc 1 1381 0 discriminator 2
 708 0090 7B69     		ldr	r3, [r7, #20]
 709 0092 0133     		adds	r3, r3, #1
 710 0094 7B61     		str	r3, [r7, #20]
 711              	.L40:
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 38


1381:Generated_Source\PSoC4/Bootloader.c ****         {
 712              		.loc 1 1381 0 is_stmt 0 discriminator 1
 713 0096 7A69     		ldr	r2, [r7, #20]
 714 0098 FB68     		ldr	r3, [r7, #12]
 715 009a 9A42     		cmp	r2, r3
 716 009c DBD3     		bcc	.L42
1391:Generated_Source\PSoC4/Bootloader.c ****         }
1392:Generated_Source\PSoC4/Bootloader.c **** 
1393:Generated_Source\PSoC4/Bootloader.c **** 
1394:Generated_Source\PSoC4/Bootloader.c ****         /***************************************************************************
1395:Generated_Source\PSoC4/Bootloader.c ****         * We do not compute a checksum over the meta data section, so no need to
1396:Generated_Source\PSoC4/Bootloader.c ****         * subtract App Verified or App Active information here like we do when
1397:Generated_Source\PSoC4/Bootloader.c ****         * verifying a row.
1398:Generated_Source\PSoC4/Bootloader.c ****         ***************************************************************************/
1399:Generated_Source\PSoC4/Bootloader.c **** 
1400:Generated_Source\PSoC4/Bootloader.c ****         #if((!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u))
1401:Generated_Source\PSoC4/Bootloader.c **** 
1402:Generated_Source\PSoC4/Bootloader.c ****             /* Add ECC data to checksum */
1403:Generated_Source\PSoC4/Bootloader.c ****             idx = ((Bootloader_FIRST_APP_BYTE(appId)) >> 3u);
1404:Generated_Source\PSoC4/Bootloader.c **** 
1405:Generated_Source\PSoC4/Bootloader.c ****             /* Flash may run into meta data, so ECC does not use full row */
1406:Generated_Source\PSoC4/Bootloader.c ****             end = (end == (CY_FLASH_SIZE - Bootloader_MD_SIZEOF))
1407:Generated_Source\PSoC4/Bootloader.c ****                 ? (CY_FLASH_SIZE >> 3u)
1408:Generated_Source\PSoC4/Bootloader.c ****                 : (end >> 3u);
1409:Generated_Source\PSoC4/Bootloader.c **** 
1410:Generated_Source\PSoC4/Bootloader.c ****             for (; idx < end; ++idx)
1411:Generated_Source\PSoC4/Bootloader.c ****             {
1412:Generated_Source\PSoC4/Bootloader.c ****                 calcedChecksum += CY_GET_XTND_REG8((volatile uint8 *)(CYDEV_ECC_BASE + idx));
1413:Generated_Source\PSoC4/Bootloader.c ****             }
1414:Generated_Source\PSoC4/Bootloader.c **** 
1415:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* ((!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u)) */
1416:Generated_Source\PSoC4/Bootloader.c **** 
1417:Generated_Source\PSoC4/Bootloader.c ****         calcedChecksum = ( uint8 )1u + ( uint8 )(~calcedChecksum);
 717              		.loc 1 1417 0 is_stmt 1
 718 009e 1223     		movs	r3, #18
 719 00a0 FB18     		adds	r3, r7, r3
 720 00a2 1222     		movs	r2, #18
 721 00a4 BA18     		adds	r2, r7, r2
 722 00a6 1278     		ldrb	r2, [r2]
 723 00a8 5242     		rsbs	r2, r2, #0
 724 00aa 1A70     		strb	r2, [r3]
1418:Generated_Source\PSoC4/Bootloader.c **** 
1419:Generated_Source\PSoC4/Bootloader.c ****         if((calcedChecksum != Bootloader_GetMetadata(Bootloader_GET_BTLDB_CHECKSUM, appId)) ||
 725              		.loc 1 1419 0
 726 00ac 1223     		movs	r3, #18
 727 00ae FB18     		adds	r3, r7, r3
 728 00b0 1C78     		ldrb	r4, [r3]
 729 00b2 FB1D     		adds	r3, r7, #7
 730 00b4 1B78     		ldrb	r3, [r3]
 731 00b6 1900     		movs	r1, r3
 732 00b8 0120     		movs	r0, #1
 733 00ba FFF7FEFF 		bl	Bootloader_GetMetadata
 734 00be 0300     		movs	r3, r0
 735 00c0 9C42     		cmp	r4, r3
 736 00c2 04D1     		bne	.L43
 737              		.loc 1 1419 0 is_stmt 0 discriminator 1
 738 00c4 1323     		movs	r3, #19
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 39


 739 00c6 FB18     		adds	r3, r7, r3
 740 00c8 1B78     		ldrb	r3, [r3]
 741 00ca 002B     		cmp	r3, #0
 742 00cc 01D1     		bne	.L44
 743              	.L43:
1420:Generated_Source\PSoC4/Bootloader.c ****            (0u == valid))
1421:Generated_Source\PSoC4/Bootloader.c ****         {
1422:Generated_Source\PSoC4/Bootloader.c ****             return(CYRET_BAD_DATA);
 744              		.loc 1 1422 0 is_stmt 1
 745 00ce 0623     		movs	r3, #6
 746 00d0 00E0     		b	.L45
 747              	.L44:
1423:Generated_Source\PSoC4/Bootloader.c ****         }
1424:Generated_Source\PSoC4/Bootloader.c **** 
1425:Generated_Source\PSoC4/Bootloader.c **** 
1426:Generated_Source\PSoC4/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
1427:Generated_Source\PSoC4/Bootloader.c ****             Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_VERIFIED_OFFSET(appId),
1428:Generated_Source\PSoC4/Bootloader.c ****                                           Bootloader_MD_BTLDB_IS_VERIFIED);
1429:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1430:Generated_Source\PSoC4/Bootloader.c **** 
1431:Generated_Source\PSoC4/Bootloader.c **** 
1432:Generated_Source\PSoC4/Bootloader.c ****         return(CYRET_SUCCESS);
 748              		.loc 1 1432 0
 749 00d2 0023     		movs	r3, #0
 750              	.L45:
1433:Generated_Source\PSoC4/Bootloader.c **** }
 751              		.loc 1 1433 0
 752 00d4 1800     		movs	r0, r3
 753 00d6 BD46     		mov	sp, r7
 754 00d8 07B0     		add	sp, sp, #28
 755              		@ sp needed
 756 00da 90BD     		pop	{r4, r7, pc}
 757              		.cfi_endproc
 758              	.LFE40:
 759              		.size	Bootloader_ValidateBootloadable, .-Bootloader_ValidateBootloadable
 760              		.section	.rodata
 761              		.align	2
 762              	.LC0:
 763 0000 9311C804 		.word	80220563
 764 0004 11       		.byte	17
 765 0005 3C       		.byte	60
 766 0006 01       		.byte	1
 767 0007 01       		.byte	1
 768              		.section	.text.Bootloader_HostLink,"ax",%progbits
 769              		.align	2
 770              		.code	16
 771              		.thumb_func
 772              		.type	Bootloader_HostLink, %function
 773              	Bootloader_HostLink:
 774              	.LFB41:
1434:Generated_Source\PSoC4/Bootloader.c **** 
1435:Generated_Source\PSoC4/Bootloader.c **** #if (((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)) \
1436:Generated_Source\PSoC4/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
1437:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
1438:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_CheckImage
1439:Generated_Source\PSoC4/Bootloader.c **** ********************************************************************************
1440:Generated_Source\PSoC4/Bootloader.c **** * \internal
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 40


1441:Generated_Source\PSoC4/Bootloader.c **** *
1442:Generated_Source\PSoC4/Bootloader.c **** * \brief 
1443:Generated_Source\PSoC4/Bootloader.c **** *   This API checks if there is a permission to write to a certain image.
1444:Generated_Source\PSoC4/Bootloader.c **** *   It is used to check the active application as well as to check the Golden image.
1445:Generated_Source\PSoC4/Bootloader.c **** *
1446:Generated_Source\PSoC4/Bootloader.c **** * \param 
1447:Generated_Source\PSoC4/Bootloader.c **** *   appNumber - The application number.
1448:Generated_Source\PSoC4/Bootloader.c **** * \param 
1449:Generated_Source\PSoC4/Bootloader.c **** *   arrayNumber - The number of the flash page to write to.
1450:Generated_Source\PSoC4/Bootloader.c **** * \param 
1451:Generated_Source\PSoC4/Bootloader.c **** *   row - The row number to write to the flash.
1452:Generated_Source\PSoC4/Bootloader.c **** * \param 
1453:Generated_Source\PSoC4/Bootloader.c **** *   rowNumInArray - The row number inside the array.
1454:Generated_Source\PSoC4/Bootloader.c **** *
1455:Generated_Source\PSoC4/Bootloader.c **** * \return 
1456:Generated_Source\PSoC4/Bootloader.c **** *   CYRET_SUCCESS - Writing to a specified image is permitted.
1457:Generated_Source\PSoC4/Bootloader.c **** *   Bootloader_ERR_ACTIVE - Writing to this image is NOT permitted
1458:Generated_Source\PSoC4/Bootloader.c **** *   because the specified image is active or Golden.
1459:Generated_Source\PSoC4/Bootloader.c **** *
1460:Generated_Source\PSoC4/Bootloader.c **** * \endinternal
1461:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
1462:Generated_Source\PSoC4/Bootloader.c **** static uint8 Bootloader_CheckImage(uint8 appNumber, uint8 arrayNumber, uint16 row, uint16 rowNumInA
1463:Generated_Source\PSoC4/Bootloader.c ****                                          
1464:Generated_Source\PSoC4/Bootloader.c **** {
1465:Generated_Source\PSoC4/Bootloader.c ****     uint16 CYDATA firstRow = 0xFFFFu;
1466:Generated_Source\PSoC4/Bootloader.c ****     uint16 CYDATA lastRow = 0xFFFFu;
1467:Generated_Source\PSoC4/Bootloader.c ****     uint8 CYDATA ackCode = CYRET_SUCCESS;
1468:Generated_Source\PSoC4/Bootloader.c **** 
1469:Generated_Source\PSoC4/Bootloader.c ****     if (appNumber < Bootloader_MAX_NUM_OF_BTLDB)
1470:Generated_Source\PSoC4/Bootloader.c ****     {    
1471:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1472:Generated_Source\PSoC4/Bootloader.c ****         * For the first Bootloadable application - gets the last flash row occupied by
1473:Generated_Source\PSoC4/Bootloader.c ****         * the Bootloader application image:
1474:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1475:Generated_Source\PSoC4/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1476:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1477:Generated_Source\PSoC4/Bootloader.c ****         * |<--firstRow---|>
1478:Generated_Source\PSoC4/Bootloader.c ****         *
1479:Generated_Source\PSoC4/Bootloader.c ****         * For the second Bootloadable application - gets the last flash row occupied by
1480:Generated_Source\PSoC4/Bootloader.c ****         * the first Bootloadable application:
1481:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1482:Generated_Source\PSoC4/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1483:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1484:Generated_Source\PSoC4/Bootloader.c ****         * |<-------------firstRow-----------------|>
1485:Generated_Source\PSoC4/Bootloader.c ****         *
1486:Generated_Source\PSoC4/Bootloader.c ****         * Incremented by 1 to get the first available row.
1487:Generated_Source\PSoC4/Bootloader.c ****         *
1488:Generated_Source\PSoC4/Bootloader.c ****         * NOTE M1 and M2 stand for metadata # 1 and metadata # 2, metadata 
1489:Generated_Source\PSoC4/Bootloader.c ****         * sections for the 1st and 2nd Bootloadable applications.
1490:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1491:Generated_Source\PSoC4/Bootloader.c ****         firstRow = (uint16) 1u +
1492:Generated_Source\PSoC4/Bootloader.c ****             (uint16) Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW,  appNumber);
1493:Generated_Source\PSoC4/Bootloader.c **** 
1494:Generated_Source\PSoC4/Bootloader.c ****     
1495:Generated_Source\PSoC4/Bootloader.c ****     /***********************************************************************************
1496:Generated_Source\PSoC4/Bootloader.c ****     * If this is the Upgradable Stack use case, then Stack application and User application
1497:Generated_Source\PSoC4/Bootloader.c ****     * do not occupy the half of flash each, as the other applications do for Classic Dual-app 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 41


1498:Generated_Source\PSoC4/Bootloader.c ****     * and the general Launcher-Combination use cases. Another approach for calculation 
1499:Generated_Source\PSoC4/Bootloader.c ****     * lastRow is used for the Upgradable Stack use case. See Bootloader datasheet for more 
1500:Generated_Source\PSoC4/Bootloader.c ****     * details (use cases description).
1501:Generated_Source\PSoC4/Bootloader.c ****     ***********************************************************************************/
1502:Generated_Source\PSoC4/Bootloader.c **** 
1503:Generated_Source\PSoC4/Bootloader.c ****     
1504:Generated_Source\PSoC4/Bootloader.c ****     #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) && \
1505:Generated_Source\PSoC4/Bootloader.c ****          (0u != Bootloader_IS_STACK_APPLICATION))
1506:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1507:Generated_Source\PSoC4/Bootloader.c ****         * The Upgradable Stack application case implies that only this application can 
1508:Generated_Source\PSoC4/Bootloader.c ****         * perform a bootloading operation (the other one can't). So a verification 
1509:Generated_Source\PSoC4/Bootloader.c ****         * will be run to check if the Stack application is not overwritten. 
1510:Generated_Source\PSoC4/Bootloader.c ****         *
1511:Generated_Source\PSoC4/Bootloader.c ****         * The Stack application is defined as the first application.
1512:Generated_Source\PSoC4/Bootloader.c ****           * The User application is defined as the second application.
1513:Generated_Source\PSoC4/Bootloader.c ****         *
1514:Generated_Source\PSoC4/Bootloader.c ****         * This check is intended for the case when the Stack application is active
1515:Generated_Source\PSoC4/Bootloader.c ****         * and performs bootloading for the User application:
1516:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1517:Generated_Source\PSoC4/Bootloader.c ****         * |   Launcher   |       Stack     |           User app            | M2 | M1 |
1518:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1519:Generated_Source\PSoC4/Bootloader.c ****         *                |<-------------------lastRow -------------------->|
1520:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1521:Generated_Source\PSoC4/Bootloader.c ****         lastRow = (uint16) Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW,
1522:Generated_Source\PSoC4/Bootloader.c ****                                                         Bootloader_USER_APPLICATION);    
1523:Generated_Source\PSoC4/Bootloader.c ****     
1524:Generated_Source\PSoC4/Bootloader.c ****     #else /* Classic Dual-app and the general Launcher-Combination use cases */    
1525:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1526:Generated_Source\PSoC4/Bootloader.c ****         * The number of flash rows available for both Bootloadable applications:
1527:Generated_Source\PSoC4/Bootloader.c ****         *
1528:Generated_Source\PSoC4/Bootloader.c ****         * The first Bootloadable application is active:
1529:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1530:Generated_Source\PSoC4/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1531:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1532:Generated_Source\PSoC4/Bootloader.c ****         *                |<-------------------lastRow -------------------->|
1533:Generated_Source\PSoC4/Bootloader.c ****         *
1534:Generated_Source\PSoC4/Bootloader.c ****         * The second Bootloadable application is active:
1535:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1536:Generated_Source\PSoC4/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1537:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1538:Generated_Source\PSoC4/Bootloader.c ****         *                                         |<-------lastRow-------->|
1539:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1540:Generated_Source\PSoC4/Bootloader.c ****         lastRow = (uint16)(CY_FLASH_NUMBER_ROWS - Bootloader_NUMBER_OF_METADATA_ROWS - firstRow);
1541:Generated_Source\PSoC4/Bootloader.c **** 
1542:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1543:Generated_Source\PSoC4/Bootloader.c ****         * The number of flash rows available for the active Bootloadable application:
1544:Generated_Source\PSoC4/Bootloader.c ****         *
1545:Generated_Source\PSoC4/Bootloader.c ****         * The first Bootloadable application is active: the number of flash rows available
1546:Generated_Source\PSoC4/Bootloader.c ****         * for both Bootloadable applications should be divided by 2, meaning 2 
1547:Generated_Source\PSoC4/Bootloader.c ****         * Bootloadable applications should fit there.
1548:Generated_Source\PSoC4/Bootloader.c ****         *
1549:Generated_Source\PSoC4/Bootloader.c ****         * The second Bootloadable application is active: the number of flash rows available
1550:Generated_Source\PSoC4/Bootloader.c ****         * for both Bootloadable applications should be divided by 1, meaning 1 
1551:Generated_Source\PSoC4/Bootloader.c ****         * Bootloadable application should fit there.
1552:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1553:Generated_Source\PSoC4/Bootloader.c ****         lastRow = (uint16)(lastRow / (uint8)(Bootloader_NUMBER_OF_BTLDBLE_APPS - appNumber));
1554:Generated_Source\PSoC4/Bootloader.c **** 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 42


1555:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1556:Generated_Source\PSoC4/Bootloader.c ****         * The last row equals the first row plus the number of rows available for
1557:Generated_Source\PSoC4/Bootloader.c ****         * each Bootloadable application. That gives the flash row number right
1558:Generated_Source\PSoC4/Bootloader.c ****         * beyond the valid range, so we subtract 1.
1559:Generated_Source\PSoC4/Bootloader.c ****         *
1560:Generated_Source\PSoC4/Bootloader.c ****         * The first Bootloadable application is active:
1561:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1562:Generated_Source\PSoC4/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1563:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1564:Generated_Source\PSoC4/Bootloader.c ****         * |<----------------lastRow ------------->|
1565:Generated_Source\PSoC4/Bootloader.c ****         *
1566:Generated_Source\PSoC4/Bootloader.c ****         * The second Bootloadable application is active:
1567:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1568:Generated_Source\PSoC4/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1569:Generated_Source\PSoC4/Bootloader.c ****         *  ---------------------------------------------------------------------------
1570:Generated_Source\PSoC4/Bootloader.c ****         * |<-----------------------------lastRow-------------------------->|
1571:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1572:Generated_Source\PSoC4/Bootloader.c ****         lastRow = (firstRow + lastRow) - 1u;
1573:Generated_Source\PSoC4/Bootloader.c ****     #endif /*(0u == Bootloader_IS_STACK_APPLICATION)*/    
1574:Generated_Source\PSoC4/Bootloader.c **** 
1575:Generated_Source\PSoC4/Bootloader.c ****         /*******************************************************************************
1576:Generated_Source\PSoC4/Bootloader.c ****         * 1. Refuses to write a row within the range of the active application.
1577:Generated_Source\PSoC4/Bootloader.c ****         *
1578:Generated_Source\PSoC4/Bootloader.c ****         *  The first Bootloadable application is active:
1579:Generated_Source\PSoC4/Bootloader.c ****         *   ---------------------------------------------------------------------------
1580:Generated_Source\PSoC4/Bootloader.c ****         *  | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1581:Generated_Source\PSoC4/Bootloader.c ****         *   ---------------------------------------------------------------------------
1582:Generated_Source\PSoC4/Bootloader.c ****         *  |<----------------lastRow ------------->|
1583:Generated_Source\PSoC4/Bootloader.c ****         *  |<--firstRow---|>
1584:Generated_Source\PSoC4/Bootloader.c ****         *                 |<-------protected------>|
1585:Generated_Source\PSoC4/Bootloader.c ****         *
1586:Generated_Source\PSoC4/Bootloader.c ****         *  the second Bootloadable application is active:
1587:Generated_Source\PSoC4/Bootloader.c ****         *   ---------------------------------------------------------------------------
1588:Generated_Source\PSoC4/Bootloader.c ****         *  | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1589:Generated_Source\PSoC4/Bootloader.c ****         *   ---------------------------------------------------------------------------
1590:Generated_Source\PSoC4/Bootloader.c ****         *  |<-------------firstRow-----------------|>
1591:Generated_Source\PSoC4/Bootloader.c ****         *  |<-----------------------------lastRow-------------------------->|
1592:Generated_Source\PSoC4/Bootloader.c ****         *                                          |<-------protected------>|
1593:Generated_Source\PSoC4/Bootloader.c ****         *
1594:Generated_Source\PSoC4/Bootloader.c ****         * 2. Refuses to write to the row that contains metadata of the active
1595:Generated_Source\PSoC4/Bootloader.c ****         *    Bootloadable application.
1596:Generated_Source\PSoC4/Bootloader.c ****         *
1597:Generated_Source\PSoC4/Bootloader.c ****         *******************************************************************************/
1598:Generated_Source\PSoC4/Bootloader.c ****         if (((row >= firstRow) && (row <= lastRow)) || ((arrayNumber == Bootloader_MD_FLASH_ARRAY_N
1599:Generated_Source\PSoC4/Bootloader.c ****             (rowNumInArray == Bootloader_MD_ROW_NUM(appNumber))))
1600:Generated_Source\PSoC4/Bootloader.c ****         {
1601:Generated_Source\PSoC4/Bootloader.c ****             ackCode = Bootloader_ERR_ACTIVE;
1602:Generated_Source\PSoC4/Bootloader.c ****         }
1603:Generated_Source\PSoC4/Bootloader.c ****     }
1604:Generated_Source\PSoC4/Bootloader.c ****     else /*(appNumber < Bootloader_MAX_NUM_OF_BTLDB)*/
1605:Generated_Source\PSoC4/Bootloader.c ****     {
1606:Generated_Source\PSoC4/Bootloader.c ****         ackCode = Bootloader_ERR_ACTIVE;
1607:Generated_Source\PSoC4/Bootloader.c ****     }
1608:Generated_Source\PSoC4/Bootloader.c ****     
1609:Generated_Source\PSoC4/Bootloader.c ****     return ackCode;
1610:Generated_Source\PSoC4/Bootloader.c **** }
1611:Generated_Source\PSoC4/Bootloader.c **** #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || \
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 43


1612:Generated_Source\PSoC4/Bootloader.c ****            (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
1613:Generated_Source\PSoC4/Bootloader.c **** 
1614:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
1615:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
1616:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_HostLink
1617:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
1618:Generated_Source\PSoC4/Bootloader.c **** *
1619:Generated_Source\PSoC4/Bootloader.c **** * \brief
1620:Generated_Source\PSoC4/Bootloader.c **** *  Causes the Bootloader to attempt to read data being transmitted by the
1621:Generated_Source\PSoC4/Bootloader.c **** *  host application.  If data is sent from the host, this establishes the
1622:Generated_Source\PSoC4/Bootloader.c **** *  communication interface to process all requests.
1623:Generated_Source\PSoC4/Bootloader.c **** *
1624:Generated_Source\PSoC4/Bootloader.c **** * \param
1625:Generated_Source\PSoC4/Bootloader.c **** *  timeOut:
1626:Generated_Source\PSoC4/Bootloader.c **** *   The amount of time to listen for data before giving up. The timeout is
1627:Generated_Source\PSoC4/Bootloader.c **** *   measured in 10s of ms.  Use 0 for an infinite wait.
1628:Generated_Source\PSoC4/Bootloader.c **** * 
1629:Generated_Source\PSoC4/Bootloader.c **** * \details
1630:Generated_Source\PSoC4/Bootloader.c **** *  This function is public only for Launcher-Combination architecture. For 
1631:Generated_Source\PSoC4/Bootloader.c **** *  Classic Bootloader it is static, meaning private. 
1632:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
1633:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1634:Generated_Source\PSoC4/Bootloader.c **** static void Bootloader_HostLink(uint8 timeOut) CYLARGE 
1635:Generated_Source\PSoC4/Bootloader.c ****                    
1636:Generated_Source\PSoC4/Bootloader.c **** #else
1637:Generated_Source\PSoC4/Bootloader.c **** void Bootloader_HostLink(uint8 timeOut) CYLARGE 
1638:Generated_Source\PSoC4/Bootloader.c ****                    
1639:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
1640:Generated_Source\PSoC4/Bootloader.c **** {
 775              		.loc 1 1640 0
 776              		.cfi_startproc
 777              		@ args = 0, pretend = 0, frame = 680
 778              		@ frame_needed = 1, uses_anonymous_args = 0
 779 0000 90B5     		push	{r4, r7, lr}
 780              		.cfi_def_cfa_offset 12
 781              		.cfi_offset 4, -12
 782              		.cfi_offset 7, -8
 783              		.cfi_offset 14, -4
 784 0002 DA4C     		ldr	r4, .L114
 785 0004 A544     		add	sp, sp, r4
 786              		.cfi_def_cfa_offset 696
 787 0006 00AF     		add	r7, sp, #0
 788              		.cfi_def_cfa_register 7
 789 0008 0200     		movs	r2, r0
 790 000a D94B     		ldr	r3, .L114+4
 791 000c AA21     		movs	r1, #170
 792 000e 8900     		lsls	r1, r1, #2
 793 0010 8C46     		mov	ip, r1
 794 0012 BC44     		add	ip, ip, r7
 795 0014 6344     		add	r3, r3, ip
 796 0016 1A70     		strb	r2, [r3]
1641:Generated_Source\PSoC4/Bootloader.c ****     uint16    CYDATA numberRead;
1642:Generated_Source\PSoC4/Bootloader.c ****     uint16    CYDATA rspSize;
1643:Generated_Source\PSoC4/Bootloader.c ****     uint8     CYDATA ackCode;
1644:Generated_Source\PSoC4/Bootloader.c ****     uint16    CYDATA pktChecksum;
1645:Generated_Source\PSoC4/Bootloader.c ****     cystatus  CYDATA readStat;
1646:Generated_Source\PSoC4/Bootloader.c ****     uint16    CYDATA pktSize    = 0u;
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 44


 797              		.loc 1 1646 0
 798 0018 D64B     		ldr	r3, .L114+8
 799 001a FB18     		adds	r3, r7, r3
 800 001c 0022     		movs	r2, #0
 801 001e 1A80     		strh	r2, [r3]
1647:Generated_Source\PSoC4/Bootloader.c ****     uint8     CYDATA timeOutCnt = 10u;
 802              		.loc 1 1647 0
 803 0020 D54B     		ldr	r3, .L114+12
 804 0022 FB18     		adds	r3, r7, r3
 805 0024 0A22     		movs	r2, #10
 806 0026 1A70     		strb	r2, [r3]
1648:Generated_Source\PSoC4/Bootloader.c **** 
1649:Generated_Source\PSoC4/Bootloader.c ****     #if(0u != Bootloader_FAST_APP_VALIDATION)
1650:Generated_Source\PSoC4/Bootloader.c ****         uint8 CYDATA clearedMetaData = 0u;
1651:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1652:Generated_Source\PSoC4/Bootloader.c **** 
1653:Generated_Source\PSoC4/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1654:Generated_Source\PSoC4/Bootloader.c ****     static  CYBIT communicationState = Bootloader_COMMUNICATION_STATE_IDLE; 
1655:Generated_Source\PSoC4/Bootloader.c ****     static uint16 CYDATA dataOffset = 0u; 
1656:Generated_Source\PSoC4/Bootloader.c ****     uint16  CYDATA btldrLastRow = 0xFFFFu;
1657:Generated_Source\PSoC4/Bootloader.c ****     uint8 needToCopyFlag = 0u;
1658:Generated_Source\PSoC4/Bootloader.c ****     uint32 app2StartAddress = Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR, 
1659:Generated_Source\PSoC4/Bootloader.c ****                               Bootloader_MD_BTLDB_ACTIVE_1);
1660:Generated_Source\PSoC4/Bootloader.c **** #else
1661:Generated_Source\PSoC4/Bootloader.c ****     CYBIT     communicationState = Bootloader_COMMUNICATION_STATE_IDLE;
 807              		.loc 1 1661 0
 808 0028 A823     		movs	r3, #168
 809 002a 9B00     		lsls	r3, r3, #2
 810 002c FB18     		adds	r3, r7, r3
 811 002e 0022     		movs	r2, #0
 812 0030 1A70     		strb	r2, [r3]
1662:Generated_Source\PSoC4/Bootloader.c ****     uint16 CYDATA dataOffset = 0u; 
 813              		.loc 1 1662 0
 814 0032 D24B     		ldr	r3, .L114+16
 815 0034 FB18     		adds	r3, r7, r3
 816 0036 0022     		movs	r2, #0
 817 0038 1A80     		strh	r2, [r3]
1663:Generated_Source\PSoC4/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/
1664:Generated_Source\PSoC4/Bootloader.c **** 
1665:Generated_Source\PSoC4/Bootloader.c ****     uint8     packetBuffer[Bootloader_SIZEOF_COMMAND_BUFFER];
1666:Generated_Source\PSoC4/Bootloader.c ****     uint8     dataBuffer  [Bootloader_SIZEOF_COMMAND_BUFFER];
1667:Generated_Source\PSoC4/Bootloader.c **** 
1668:Generated_Source\PSoC4/Bootloader.c **** 
1669:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC4)
1670:Generated_Source\PSoC4/Bootloader.c ****         #if(0u == Bootloader_FAST_APP_VALIDATION)
1671:Generated_Source\PSoC4/Bootloader.c ****             #if !defined(CY_BOOT_VERSION)
1672:Generated_Source\PSoC4/Bootloader.c **** 
1673:Generated_Source\PSoC4/Bootloader.c ****                 /* Not required with cy_boot 4.20 */
1674:Generated_Source\PSoC4/Bootloader.c ****                 uint8 CYXDATA Bootloader_flashBuffer[Bootloader_FROW_SIZE];
1675:Generated_Source\PSoC4/Bootloader.c **** 
1676:Generated_Source\PSoC4/Bootloader.c ****             #endif /* !defined(CY_BOOT_VERSION) */
1677:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u == Bootloader_FAST_APP_VALIDATION) */
1678:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (CY_PSOC4) */
1679:Generated_Source\PSoC4/Bootloader.c **** 
1680:Generated_Source\PSoC4/Bootloader.c **** 
1681:Generated_Source\PSoC4/Bootloader.c **** 
1682:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC4)
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 45


1683:Generated_Source\PSoC4/Bootloader.c ****         #if((0u == Bootloader_FAST_APP_VALIDATION) || \
1684:Generated_Source\PSoC4/Bootloader.c ****             (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
1685:Generated_Source\PSoC4/Bootloader.c **** 
1686:Generated_Source\PSoC4/Bootloader.c ****             /* Initialize flash subsystem for non-PSoC 4 devices */
1687:Generated_Source\PSoC4/Bootloader.c ****             if (CYRET_SUCCESS != CySetTemp())
1688:Generated_Source\PSoC4/Bootloader.c ****             {
1689:Generated_Source\PSoC4/Bootloader.c ****                 CyHalt(0x00u);
1690:Generated_Source\PSoC4/Bootloader.c ****             }
1691:Generated_Source\PSoC4/Bootloader.c **** 
1692:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u == Bootloader_FAST_APP_VALIDATION) ||
1693:Generated_Source\PSoC4/Bootloader.c ****                    (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
1694:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (CY_PSOC4) */
1695:Generated_Source\PSoC4/Bootloader.c **** 
1696:Generated_Source\PSoC4/Bootloader.c ****     /* Initialize communications channel. */
1697:Generated_Source\PSoC4/Bootloader.c ****     CyBtldrCommStart();
 818              		.loc 1 1697 0
 819 003a FFF7FEFF 		bl	I2C_Slave_I2CCyBtldrCommStart
1698:Generated_Source\PSoC4/Bootloader.c **** 
1699:Generated_Source\PSoC4/Bootloader.c ****     /* Enable global interrupts */
1700:Generated_Source\PSoC4/Bootloader.c ****     CyGlobalIntEnable;
 820              		.loc 1 1700 0
 821              		.syntax divided
 822              	@ 1700 "Generated_Source\PSoC4\Bootloader.c" 1
 823 003e 62B6     		CPSIE   i
 824              	@ 0 "" 2
 825              		.thumb
 826              		.syntax unified
 827              	.L104:
1701:Generated_Source\PSoC4/Bootloader.c **** 
1702:Generated_Source\PSoC4/Bootloader.c ****     do
1703:Generated_Source\PSoC4/Bootloader.c ****     {
1704:Generated_Source\PSoC4/Bootloader.c ****         ackCode = CYRET_SUCCESS;
 828              		.loc 1 1704 0
 829 0040 CF4B     		ldr	r3, .L114+20
 830 0042 FB18     		adds	r3, r7, r3
 831 0044 0022     		movs	r2, #0
 832 0046 1A70     		strb	r2, [r3]
 833              	.L51:
1705:Generated_Source\PSoC4/Bootloader.c **** 
1706:Generated_Source\PSoC4/Bootloader.c ****         do
1707:Generated_Source\PSoC4/Bootloader.c ****         {
1708:Generated_Source\PSoC4/Bootloader.c ****             readStat = CyBtldrCommRead(packetBuffer,
 834              		.loc 1 1708 0
 835 0048 C94B     		ldr	r3, .L114+4
 836 004a AA22     		movs	r2, #170
 837 004c 9200     		lsls	r2, r2, #2
 838 004e 9446     		mov	ip, r2
 839 0050 BC44     		add	ip, ip, r7
 840 0052 6344     		add	r3, r3, ip
 841 0054 1B78     		ldrb	r3, [r3]
 842 0056 002B     		cmp	r3, #0
 843 0058 07D0     		beq	.L47
 844              		.loc 1 1708 0 is_stmt 0 discriminator 1
 845 005a C54B     		ldr	r3, .L114+4
 846 005c AA22     		movs	r2, #170
 847 005e 9200     		lsls	r2, r2, #2
 848 0060 9446     		mov	ip, r2
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 46


 849 0062 BC44     		add	ip, ip, r7
 850 0064 6344     		add	r3, r3, ip
 851 0066 1B78     		ldrb	r3, [r3]
 852 0068 00E0     		b	.L48
 853              	.L47:
 854              		.loc 1 1708 0 discriminator 2
 855 006a FF23     		movs	r3, #255
 856              	.L48:
 857              		.loc 1 1708 0 discriminator 4
 858 006c A022     		movs	r2, #160
 859 006e 9200     		lsls	r2, r2, #2
 860 0070 BC18     		adds	r4, r7, r2
 861 0072 9622     		movs	r2, #150
 862 0074 5100     		lsls	r1, r2, #1
 863 0076 AA22     		movs	r2, #170
 864 0078 5200     		lsls	r2, r2, #1
 865 007a B818     		adds	r0, r7, r2
 866 007c 2200     		movs	r2, r4
 867 007e FFF7FEFF 		bl	I2C_Slave_I2CCyBtldrCommRead
 868 0082 0300     		movs	r3, r0
 869 0084 A522     		movs	r2, #165
 870 0086 9200     		lsls	r2, r2, #2
 871 0088 BA18     		adds	r2, r7, r2
 872 008a 1360     		str	r3, [r2]
1709:Generated_Source\PSoC4/Bootloader.c ****                                         Bootloader_SIZEOF_COMMAND_BUFFER,
1710:Generated_Source\PSoC4/Bootloader.c ****                                         &numberRead,
1711:Generated_Source\PSoC4/Bootloader.c ****                                         (0u == timeOut) ? 0xFFu : timeOut);
1712:Generated_Source\PSoC4/Bootloader.c ****             if (0u != timeOut)
 873              		.loc 1 1712 0 is_stmt 1 discriminator 4
 874 008c B84B     		ldr	r3, .L114+4
 875 008e AA22     		movs	r2, #170
 876 0090 9200     		lsls	r2, r2, #2
 877 0092 9446     		mov	ip, r2
 878 0094 BC44     		add	ip, ip, r7
 879 0096 6344     		add	r3, r3, ip
 880 0098 1B78     		ldrb	r3, [r3]
 881 009a 002B     		cmp	r3, #0
 882 009c 06D0     		beq	.L49
1713:Generated_Source\PSoC4/Bootloader.c ****             {
1714:Generated_Source\PSoC4/Bootloader.c ****                 timeOutCnt--;
 883              		.loc 1 1714 0
 884 009e B64B     		ldr	r3, .L114+12
 885 00a0 FB18     		adds	r3, r7, r3
 886 00a2 1A78     		ldrb	r2, [r3]
 887 00a4 B44B     		ldr	r3, .L114+12
 888 00a6 FB18     		adds	r3, r7, r3
 889 00a8 013A     		subs	r2, r2, #1
 890 00aa 1A70     		strb	r2, [r3]
 891              	.L49:
1715:Generated_Source\PSoC4/Bootloader.c ****             }
1716:Generated_Source\PSoC4/Bootloader.c **** 
1717:Generated_Source\PSoC4/Bootloader.c ****         } while ( (0u != timeOutCnt) && (readStat != CYRET_SUCCESS) );
 892              		.loc 1 1717 0
 893 00ac B24B     		ldr	r3, .L114+12
 894 00ae FB18     		adds	r3, r7, r3
 895 00b0 1B78     		ldrb	r3, [r3]
 896 00b2 002B     		cmp	r3, #0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 47


 897 00b4 05D0     		beq	.L50
 898              		.loc 1 1717 0 is_stmt 0 discriminator 1
 899 00b6 A523     		movs	r3, #165
 900 00b8 9B00     		lsls	r3, r3, #2
 901 00ba FB18     		adds	r3, r7, r3
 902 00bc 1B68     		ldr	r3, [r3]
 903 00be 002B     		cmp	r3, #0
 904 00c0 C2D1     		bne	.L51
 905              	.L50:
1718:Generated_Source\PSoC4/Bootloader.c **** 
1719:Generated_Source\PSoC4/Bootloader.c **** 
1720:Generated_Source\PSoC4/Bootloader.c ****         if( readStat != CYRET_SUCCESS )
 906              		.loc 1 1720 0 is_stmt 1
 907 00c2 A523     		movs	r3, #165
 908 00c4 9B00     		lsls	r3, r3, #2
 909 00c6 FB18     		adds	r3, r7, r3
 910 00c8 1B68     		ldr	r3, [r3]
 911 00ca 002B     		cmp	r3, #0
 912 00cc 01D0     		beq	.LCB740
 913 00ce 00F016FC 		bl	.L105	@far jump
 914              	.LCB740:
1721:Generated_Source\PSoC4/Bootloader.c ****         {
1722:Generated_Source\PSoC4/Bootloader.c ****             continue;
1723:Generated_Source\PSoC4/Bootloader.c ****         }
1724:Generated_Source\PSoC4/Bootloader.c **** 
1725:Generated_Source\PSoC4/Bootloader.c ****         if((numberRead < Bootloader_MIN_PKT_SIZE) ||
 915              		.loc 1 1725 0
 916 00d2 A023     		movs	r3, #160
 917 00d4 9B00     		lsls	r3, r3, #2
 918 00d6 FB18     		adds	r3, r7, r3
 919 00d8 1B88     		ldrh	r3, [r3]
 920 00da 062B     		cmp	r3, #6
 921 00dc 08D9     		bls	.L54
1726:Generated_Source\PSoC4/Bootloader.c ****            (packetBuffer[Bootloader_SOP_ADDR] != Bootloader_SOP))
 922              		.loc 1 1726 0 discriminator 1
 923 00de A94B     		ldr	r3, .L114+24
 924 00e0 AA22     		movs	r2, #170
 925 00e2 9200     		lsls	r2, r2, #2
 926 00e4 9446     		mov	ip, r2
 927 00e6 BC44     		add	ip, ip, r7
 928 00e8 6344     		add	r3, r3, ip
 929 00ea 1B78     		ldrb	r3, [r3]
1725:Generated_Source\PSoC4/Bootloader.c ****            (packetBuffer[Bootloader_SOP_ADDR] != Bootloader_SOP))
 930              		.loc 1 1725 0 discriminator 1
 931 00ec 012B     		cmp	r3, #1
 932 00ee 04D0     		beq	.L55
 933              	.L54:
1727:Generated_Source\PSoC4/Bootloader.c ****         {
1728:Generated_Source\PSoC4/Bootloader.c ****             ackCode = Bootloader_ERR_DATA;
 934              		.loc 1 1728 0
 935 00f0 A34B     		ldr	r3, .L114+20
 936 00f2 FB18     		adds	r3, r7, r3
 937 00f4 0422     		movs	r2, #4
 938 00f6 1A70     		strb	r2, [r3]
 939 00f8 73E0     		b	.L56
 940              	.L55:
1729:Generated_Source\PSoC4/Bootloader.c ****         }
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 48


1730:Generated_Source\PSoC4/Bootloader.c ****         else
1731:Generated_Source\PSoC4/Bootloader.c ****         {
1732:Generated_Source\PSoC4/Bootloader.c ****             pktSize = ((uint16)((uint16)packetBuffer[Bootloader_SIZE_ADDR + 1u] << 8u)) |
 941              		.loc 1 1732 0
 942 00fa A24B     		ldr	r3, .L114+24
 943 00fc AA22     		movs	r2, #170
 944 00fe 9200     		lsls	r2, r2, #2
 945 0100 9446     		mov	ip, r2
 946 0102 BC44     		add	ip, ip, r7
 947 0104 6344     		add	r3, r3, ip
 948 0106 DB78     		ldrb	r3, [r3, #3]
 949 0108 9BB2     		uxth	r3, r3
 950 010a 1B02     		lsls	r3, r3, #8
 951 010c 99B2     		uxth	r1, r3
1733:Generated_Source\PSoC4/Bootloader.c ****                                packetBuffer[Bootloader_SIZE_ADDR];
 952              		.loc 1 1733 0
 953 010e 9D4B     		ldr	r3, .L114+24
 954 0110 AA22     		movs	r2, #170
 955 0112 9200     		lsls	r2, r2, #2
 956 0114 9446     		mov	ip, r2
 957 0116 BC44     		add	ip, ip, r7
 958 0118 6344     		add	r3, r3, ip
 959 011a 9B78     		ldrb	r3, [r3, #2]
1732:Generated_Source\PSoC4/Bootloader.c ****                                packetBuffer[Bootloader_SIZE_ADDR];
 960              		.loc 1 1732 0
 961 011c 9AB2     		uxth	r2, r3
 962 011e 954B     		ldr	r3, .L114+8
 963 0120 FB18     		adds	r3, r7, r3
 964 0122 0A43     		orrs	r2, r1
 965 0124 1A80     		strh	r2, [r3]
1734:Generated_Source\PSoC4/Bootloader.c **** 
1735:Generated_Source\PSoC4/Bootloader.c **** 
1736:Generated_Source\PSoC4/Bootloader.c ****             /**************************************************************************************
1737:Generated_Source\PSoC4/Bootloader.c ****             * If the whole packet length exceeds the number of bytes that have been read by the com
1738:Generated_Source\PSoC4/Bootloader.c ****             * component or the size of the buffer that is reserved for the packet, then give an err
1739:Generated_Source\PSoC4/Bootloader.c ****             **************************************************************************************/
1740:Generated_Source\PSoC4/Bootloader.c ****             if (((pktSize + Bootloader_MIN_PKT_SIZE) > numberRead) || 
 966              		.loc 1 1740 0
 967 0126 934B     		ldr	r3, .L114+8
 968 0128 FB18     		adds	r3, r7, r3
 969 012a 1B88     		ldrh	r3, [r3]
 970 012c 0733     		adds	r3, r3, #7
 971 012e A022     		movs	r2, #160
 972 0130 9200     		lsls	r2, r2, #2
 973 0132 BA18     		adds	r2, r7, r2
 974 0134 1288     		ldrh	r2, [r2]
 975 0136 9342     		cmp	r3, r2
 976 0138 07D8     		bhi	.L57
1741:Generated_Source\PSoC4/Bootloader.c ****                 ((pktSize + Bootloader_MIN_PKT_SIZE) > Bootloader_SIZEOF_COMMAND_BUFFER)) 
 977              		.loc 1 1741 0 discriminator 1
 978 013a 8E4B     		ldr	r3, .L114+8
 979 013c FB18     		adds	r3, r7, r3
 980 013e 1B88     		ldrh	r3, [r3]
 981 0140 DA1D     		adds	r2, r3, #7
1740:Generated_Source\PSoC4/Bootloader.c ****                 ((pktSize + Bootloader_MIN_PKT_SIZE) > Bootloader_SIZEOF_COMMAND_BUFFER)) 
 982              		.loc 1 1740 0 discriminator 1
 983 0142 9623     		movs	r3, #150
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 49


 984 0144 5B00     		lsls	r3, r3, #1
 985 0146 9A42     		cmp	r2, r3
 986 0148 04D9     		bls	.L58
 987              	.L57:
1742:Generated_Source\PSoC4/Bootloader.c ****             {
1743:Generated_Source\PSoC4/Bootloader.c ****                 ackCode = Bootloader_ERR_LENGTH;
 988              		.loc 1 1743 0
 989 014a 8D4B     		ldr	r3, .L114+20
 990 014c FB18     		adds	r3, r7, r3
 991 014e 0322     		movs	r2, #3
 992 0150 1A70     		strb	r2, [r3]
 993 0152 46E0     		b	.L56
 994              	.L58:
1744:Generated_Source\PSoC4/Bootloader.c ****             }
1745:Generated_Source\PSoC4/Bootloader.c ****             else /* Packet length is OK*/
1746:Generated_Source\PSoC4/Bootloader.c ****             {
1747:Generated_Source\PSoC4/Bootloader.c ****                 pktChecksum = ((uint16)((uint16)packetBuffer[Bootloader_CHK_ADDR(pktSize) + 1u] << 
 995              		.loc 1 1747 0
 996 0154 874B     		ldr	r3, .L114+8
 997 0156 FB18     		adds	r3, r7, r3
 998 0158 1B88     		ldrh	r3, [r3]
 999 015a 0533     		adds	r3, r3, #5
 1000 015c 894A     		ldr	r2, .L114+24
 1001 015e AA21     		movs	r1, #170
 1002 0160 8900     		lsls	r1, r1, #2
 1003 0162 8C46     		mov	ip, r1
 1004 0164 BC44     		add	ip, ip, r7
 1005 0166 6244     		add	r2, r2, ip
 1006 0168 D35C     		ldrb	r3, [r2, r3]
 1007 016a 9BB2     		uxth	r3, r3
 1008 016c 1B02     		lsls	r3, r3, #8
 1009 016e 99B2     		uxth	r1, r3
1748:Generated_Source\PSoC4/Bootloader.c ****                                    packetBuffer[Bootloader_CHK_ADDR(pktSize)];
 1010              		.loc 1 1748 0
 1011 0170 804B     		ldr	r3, .L114+8
 1012 0172 FB18     		adds	r3, r7, r3
 1013 0174 1B88     		ldrh	r3, [r3]
 1014 0176 0433     		adds	r3, r3, #4
 1015 0178 824A     		ldr	r2, .L114+24
 1016 017a AA20     		movs	r0, #170
 1017 017c 8000     		lsls	r0, r0, #2
 1018 017e 8446     		mov	ip, r0
 1019 0180 BC44     		add	ip, ip, r7
 1020 0182 6244     		add	r2, r2, ip
 1021 0184 D35C     		ldrb	r3, [r2, r3]
1747:Generated_Source\PSoC4/Bootloader.c ****                                    packetBuffer[Bootloader_CHK_ADDR(pktSize)];
 1022              		.loc 1 1747 0
 1023 0186 9AB2     		uxth	r2, r3
 1024 0188 7F4B     		ldr	r3, .L114+28
 1025 018a FB18     		adds	r3, r7, r3
 1026 018c 0A43     		orrs	r2, r1
 1027 018e 1A80     		strh	r2, [r3]
1749:Generated_Source\PSoC4/Bootloader.c ****    
1750:Generated_Source\PSoC4/Bootloader.c ****                 if (packetBuffer[Bootloader_EOP_ADDR(pktSize)] != Bootloader_EOP)
 1028              		.loc 1 1750 0
 1029 0190 784B     		ldr	r3, .L114+8
 1030 0192 FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 50


 1031 0194 1B88     		ldrh	r3, [r3]
 1032 0196 0633     		adds	r3, r3, #6
 1033 0198 7A4A     		ldr	r2, .L114+24
 1034 019a AA21     		movs	r1, #170
 1035 019c 8900     		lsls	r1, r1, #2
 1036 019e 8C46     		mov	ip, r1
 1037 01a0 BC44     		add	ip, ip, r7
 1038 01a2 6244     		add	r2, r2, ip
 1039 01a4 D35C     		ldrb	r3, [r2, r3]
 1040 01a6 172B     		cmp	r3, #23
 1041 01a8 04D0     		beq	.L59
1751:Generated_Source\PSoC4/Bootloader.c ****                 {
1752:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = Bootloader_ERR_DATA;
 1042              		.loc 1 1752 0
 1043 01aa 754B     		ldr	r3, .L114+20
 1044 01ac FB18     		adds	r3, r7, r3
 1045 01ae 0422     		movs	r2, #4
 1046 01b0 1A70     		strb	r2, [r3]
 1047 01b2 16E0     		b	.L56
 1048              	.L59:
1753:Generated_Source\PSoC4/Bootloader.c ****                 }
1754:Generated_Source\PSoC4/Bootloader.c ****                 else if(pktChecksum != Bootloader_CalcPacketChecksum(packetBuffer,
 1049              		.loc 1 1754 0
 1050 01b4 6F4B     		ldr	r3, .L114+8
 1051 01b6 FB18     		adds	r3, r7, r3
 1052 01b8 1B88     		ldrh	r3, [r3]
 1053 01ba 0433     		adds	r3, r3, #4
 1054 01bc 9AB2     		uxth	r2, r3
 1055 01be AA23     		movs	r3, #170
 1056 01c0 5B00     		lsls	r3, r3, #1
 1057 01c2 FB18     		adds	r3, r7, r3
 1058 01c4 1100     		movs	r1, r2
 1059 01c6 1800     		movs	r0, r3
 1060 01c8 FFF7FEFF 		bl	Bootloader_CalcPacketChecksum
 1061 01cc 0300     		movs	r3, r0
 1062 01ce 1A00     		movs	r2, r3
 1063 01d0 6D4B     		ldr	r3, .L114+28
 1064 01d2 FB18     		adds	r3, r7, r3
 1065 01d4 1B88     		ldrh	r3, [r3]
 1066 01d6 9342     		cmp	r3, r2
 1067 01d8 03D0     		beq	.L56
1755:Generated_Source\PSoC4/Bootloader.c ****                                                                         pktSize + Bootloader_DATA_A
1756:Generated_Source\PSoC4/Bootloader.c ****                 {
1757:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = Bootloader_ERR_CHECKSUM;
 1068              		.loc 1 1757 0
 1069 01da 694B     		ldr	r3, .L114+20
 1070 01dc FB18     		adds	r3, r7, r3
 1071 01de 0822     		movs	r2, #8
 1072 01e0 1A70     		strb	r2, [r3]
 1073              	.L56:
1758:Generated_Source\PSoC4/Bootloader.c ****                 }
1759:Generated_Source\PSoC4/Bootloader.c ****                 else
1760:Generated_Source\PSoC4/Bootloader.c ****                 {
1761:Generated_Source\PSoC4/Bootloader.c ****                     /* Empty section */
1762:Generated_Source\PSoC4/Bootloader.c ****                 }
1763:Generated_Source\PSoC4/Bootloader.c ****             }    
1764:Generated_Source\PSoC4/Bootloader.c ****         }
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 51


1765:Generated_Source\PSoC4/Bootloader.c **** 
1766:Generated_Source\PSoC4/Bootloader.c ****         rspSize = Bootloader_RSP_SIZE_0;
 1074              		.loc 1 1766 0
 1075 01e2 6A4B     		ldr	r3, .L114+32
 1076 01e4 FB18     		adds	r3, r7, r3
 1077 01e6 0022     		movs	r2, #0
 1078 01e8 1A80     		strh	r2, [r3]
1767:Generated_Source\PSoC4/Bootloader.c ****         if(ackCode == CYRET_SUCCESS)
 1079              		.loc 1 1767 0
 1080 01ea 654B     		ldr	r3, .L114+20
 1081 01ec FB18     		adds	r3, r7, r3
 1082 01ee 1B78     		ldrb	r3, [r3]
 1083 01f0 002B     		cmp	r3, #0
 1084 01f2 00D0     		beq	.LCB897
 1085 01f4 76E3     		b	.L60	@long jump
 1086              	.LCB897:
 1087              	.LBB5:
1768:Generated_Source\PSoC4/Bootloader.c ****         {
1769:Generated_Source\PSoC4/Bootloader.c ****             uint8 CYDATA btldrData = packetBuffer[Bootloader_DATA_ADDR];
 1088              		.loc 1 1769 0
 1089 01f6 664B     		ldr	r3, .L114+36
 1090 01f8 FB18     		adds	r3, r7, r3
 1091 01fa 624A     		ldr	r2, .L114+24
 1092 01fc AA21     		movs	r1, #170
 1093 01fe 8900     		lsls	r1, r1, #2
 1094 0200 8C46     		mov	ip, r1
 1095 0202 BC44     		add	ip, ip, r7
 1096 0204 6244     		add	r2, r2, ip
 1097 0206 1279     		ldrb	r2, [r2, #4]
 1098 0208 1A70     		strb	r2, [r3]
1770:Generated_Source\PSoC4/Bootloader.c **** 
1771:Generated_Source\PSoC4/Bootloader.c ****             ackCode = Bootloader_ERR_DATA;
 1099              		.loc 1 1771 0
 1100 020a 5D4B     		ldr	r3, .L114+20
 1101 020c FB18     		adds	r3, r7, r3
 1102 020e 0422     		movs	r2, #4
 1103 0210 1A70     		strb	r2, [r3]
1772:Generated_Source\PSoC4/Bootloader.c ****             switch(packetBuffer[Bootloader_CMD_ADDR])
 1104              		.loc 1 1772 0
 1105 0212 5C4B     		ldr	r3, .L114+24
 1106 0214 AA22     		movs	r2, #170
 1107 0216 9200     		lsls	r2, r2, #2
 1108 0218 9446     		mov	ip, r2
 1109 021a BC44     		add	ip, ip, r7
 1110 021c 6344     		add	r3, r3, ip
 1111 021e 5B78     		ldrb	r3, [r3, #1]
 1112 0220 313B     		subs	r3, r3, #49
 1113 0222 0A2B     		cmp	r3, #10
 1114 0224 00D9     		bls	.LCB922
 1115 0226 BFE2     		b	.L61	@long jump
 1116              	.LCB922:
 1117 0228 9A00     		lsls	r2, r3, #2
 1118 022a 5A4B     		ldr	r3, .L114+40
 1119 022c D318     		adds	r3, r2, r3
 1120 022e 1B68     		ldr	r3, [r3]
 1121 0230 9F46     		mov	pc, r3
 1122              		.section	.rodata
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 52


 1123              		.align	2
 1124              	.L63:
 1125 0008 32020000 		.word	.L62
 1126 000c 7C020000 		.word	.L64
 1127 0010 A8070000 		.word	.L61
 1128 0014 9C030000 		.word	.L65
 1129 0018 4E050000 		.word	.L66
 1130 001c A8070000 		.word	.L61
 1131 0020 66050000 		.word	.L67
 1132 0024 D4050000 		.word	.L68
 1133 0028 9C030000 		.word	.L65
 1134 002c 36060000 		.word	.L69
 1135 0030 8E070000 		.word	.L70
 1136              		.section	.text.Bootloader_HostLink
 1137              	.L62:
1773:Generated_Source\PSoC4/Bootloader.c ****             {
1774:Generated_Source\PSoC4/Bootloader.c **** 
1775:Generated_Source\PSoC4/Bootloader.c **** 
1776:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
1777:Generated_Source\PSoC4/Bootloader.c ****             *   Get metadata (0x3C)
1778:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
1779:Generated_Source\PSoC4/Bootloader.c ****             #if(0u != Bootloader_CMD_GET_METADATA)
1780:Generated_Source\PSoC4/Bootloader.c **** 
1781:Generated_Source\PSoC4/Bootloader.c ****                 case Bootloader_COMMAND_GET_METADATA:
1782:Generated_Source\PSoC4/Bootloader.c **** 
1783:Generated_Source\PSoC4/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
1784:Generated_Source\PSoC4/Bootloader.c ****                     {
1785:Generated_Source\PSoC4/Bootloader.c ****                         if (btldrData >= Bootloader_MAX_NUM_OF_BTLDB)
1786:Generated_Source\PSoC4/Bootloader.c ****                         {
1787:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
1788:Generated_Source\PSoC4/Bootloader.c ****                         }
1789:Generated_Source\PSoC4/Bootloader.c ****                         else if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(btldrData))
1790:Generated_Source\PSoC4/Bootloader.c ****                         {
1791:Generated_Source\PSoC4/Bootloader.c ****                             #if(CY_PSOC3)
1792:Generated_Source\PSoC4/Bootloader.c ****                                 (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
1793:Generated_Source\PSoC4/Bootloader.c ****                                             ((uint8  CYCODE *) (Bootloader_MD_BASE_ADDR(btldrData))
1794:Generated_Source\PSoC4/Bootloader.c ****                                             (int8)Bootloader_GET_METADATA_RESPONSE_SIZE);
1795:Generated_Source\PSoC4/Bootloader.c ****                             #else
1796:Generated_Source\PSoC4/Bootloader.c ****                                 (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
1797:Generated_Source\PSoC4/Bootloader.c ****                                             (uint8 *) Bootloader_MD_BASE_ADDR(btldrData),
1798:Generated_Source\PSoC4/Bootloader.c ****                                             Bootloader_GET_METADATA_RESPONSE_SIZE);
1799:Generated_Source\PSoC4/Bootloader.c ****                             #endif  /* (CY_PSOC3) */
1800:Generated_Source\PSoC4/Bootloader.c **** 
1801:Generated_Source\PSoC4/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_METADATA;
1802:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
1803:Generated_Source\PSoC4/Bootloader.c ****                         }
1804:Generated_Source\PSoC4/Bootloader.c ****                         else
1805:Generated_Source\PSoC4/Bootloader.c ****                         {
1806:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
1807:Generated_Source\PSoC4/Bootloader.c ****                         }
1808:Generated_Source\PSoC4/Bootloader.c ****                     }
1809:Generated_Source\PSoC4/Bootloader.c ****                     break;
1810:Generated_Source\PSoC4/Bootloader.c **** 
1811:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_GET_METADATA) */
1812:Generated_Source\PSoC4/Bootloader.c **** 
1813:Generated_Source\PSoC4/Bootloader.c **** 
1814:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 53


1815:Generated_Source\PSoC4/Bootloader.c ****             *   Verify application checksum (0x31)
1816:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
1817:Generated_Source\PSoC4/Bootloader.c ****         #if (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL)     
1818:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_CHECKSUM:
1819:Generated_Source\PSoC4/Bootloader.c **** 
1820:Generated_Source\PSoC4/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize == 0u)
 1138              		.loc 1 1820 0
 1139 0232 A823     		movs	r3, #168
 1140 0234 9B00     		lsls	r3, r3, #2
 1141 0236 FB18     		adds	r3, r7, r3
 1142 0238 1B78     		ldrb	r3, [r3]
 1143 023a 012B     		cmp	r3, #1
 1144 023c 00D0     		beq	.LCB939
 1145 023e 42E3     		b	.L106	@long jump
 1146              	.LCB939:
 1147              		.loc 1 1820 0 is_stmt 0 discriminator 1
 1148 0240 4C4B     		ldr	r3, .L114+8
 1149 0242 FB18     		adds	r3, r7, r3
 1150 0244 1B88     		ldrh	r3, [r3]
 1151 0246 002B     		cmp	r3, #0
 1152 0248 00D0     		beq	.LCB944
 1153 024a 3CE3     		b	.L106	@long jump
 1154              	.LCB944:
1821:Generated_Source\PSoC4/Bootloader.c ****                 {
1822:Generated_Source\PSoC4/Bootloader.c ****                     packetBuffer[Bootloader_DATA_ADDR] =
1823:Generated_Source\PSoC4/Bootloader.c ****                             (uint8)(Bootloader_ValidateBootloadable(Bootloader_activeApp) == CYRET_
 1155              		.loc 1 1823 0 is_stmt 1
 1156 024c 0020     		movs	r0, #0
 1157 024e FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 1158 0252 0300     		movs	r3, r0
 1159 0254 5A42     		rsbs	r2, r3, #0
 1160 0256 5341     		adcs	r3, r3, r2
 1161 0258 DBB2     		uxtb	r3, r3
 1162 025a 1A00     		movs	r2, r3
1822:Generated_Source\PSoC4/Bootloader.c ****                             (uint8)(Bootloader_ValidateBootloadable(Bootloader_activeApp) == CYRET_
 1163              		.loc 1 1822 0
 1164 025c 494B     		ldr	r3, .L114+24
 1165 025e AA21     		movs	r1, #170
 1166 0260 8900     		lsls	r1, r1, #2
 1167 0262 8C46     		mov	ip, r1
 1168 0264 BC44     		add	ip, ip, r7
 1169 0266 6344     		add	r3, r3, ip
 1170 0268 1A71     		strb	r2, [r3, #4]
1824:Generated_Source\PSoC4/Bootloader.c **** 
1825:Generated_Source\PSoC4/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_VERIFY_CHKSM;
 1171              		.loc 1 1825 0
 1172 026a 484B     		ldr	r3, .L114+32
 1173 026c FB18     		adds	r3, r7, r3
 1174 026e 0122     		movs	r2, #1
 1175 0270 1A80     		strh	r2, [r3]
1826:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1176              		.loc 1 1826 0
 1177 0272 434B     		ldr	r3, .L114+20
 1178 0274 FB18     		adds	r3, r7, r3
 1179 0276 0022     		movs	r2, #0
 1180 0278 1A70     		strb	r2, [r3]
1827:Generated_Source\PSoC4/Bootloader.c ****                 }
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 54


1828:Generated_Source\PSoC4/Bootloader.c ****                 break;
 1181              		.loc 1 1828 0
 1182 027a 24E3     		b	.L106
 1183              	.L64:
1829:Generated_Source\PSoC4/Bootloader.c ****         #endif /* (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL) */
1830:Generated_Source\PSoC4/Bootloader.c **** 
1831:Generated_Source\PSoC4/Bootloader.c ****             /*****************************************************************************
1832:Generated_Source\PSoC4/Bootloader.c ****             *   Verify row (0x45u)
1833:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
1834:Generated_Source\PSoC4/Bootloader.c ****         #if(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
1835:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_VERIFY_FLS_ROW:
1836:Generated_Source\PSoC4/Bootloader.c **** 
1837:Generated_Source\PSoC4/Bootloader.c ****                 /* Packet size is either 3 (data is already in buffer) or (3u + Bootloader_FROW_SIZ
1838:Generated_Source\PSoC4/Bootloader.c ****                  * then data is in packetBuffer[]*/
1839:Generated_Source\PSoC4/Bootloader.c ****                 if ((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && ((3u == pktSiz
1840:Generated_Source\PSoC4/Bootloader.c ****                    ((3u + Bootloader_FROW_SIZE) == pktSize)))
1841:Generated_Source\PSoC4/Bootloader.c ****                 {
1842:Generated_Source\PSoC4/Bootloader.c ****                     uint16 CYDATA rowNum = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u
1843:Generated_Source\PSoC4/Bootloader.c ****                                                              packetBuffer[Bootloader_DATA_ADDR + 1u
1844:Generated_Source\PSoC4/Bootloader.c ****                     
1845:Generated_Source\PSoC4/Bootloader.c ****                     uint32 CYDATA startAddr;
1846:Generated_Source\PSoC4/Bootloader.c ****                     uint16 upperRange = 0u;
1847:Generated_Source\PSoC4/Bootloader.c ****                 #if (!CY_PSOC4)
1848:Generated_Source\PSoC4/Bootloader.c ****                     uint16 CYDATA rowSize; 
1849:Generated_Source\PSoC4/Bootloader.c ****                 #endif /*(!CY_PSOC4)*/    
1850:Generated_Source\PSoC4/Bootloader.c ****                     
1851:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
1852:Generated_Source\PSoC4/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_0;
1853:Generated_Source\PSoC4/Bootloader.c ****                         
1854:Generated_Source\PSoC4/Bootloader.c ****                     if (3u == pktSize)
1855:Generated_Source\PSoC4/Bootloader.c ****                     {
1856:Generated_Source\PSoC4/Bootloader.c ****                         /* Do nothing, data is already in dataBuffer[] */
1857:Generated_Source\PSoC4/Bootloader.c ****                     }
1858:Generated_Source\PSoC4/Bootloader.c ****                     else 
1859:Generated_Source\PSoC4/Bootloader.c ****                     {
1860:Generated_Source\PSoC4/Bootloader.c ****                     #if (CY_PSOC3)
1861:Generated_Source\PSoC4/Bootloader.c ****                         /*Data is in packetBuffer[], needs to be copied to dataBuffer[]*/
1862:Generated_Source\PSoC4/Bootloader.c ****                         (void) memcpy(dataBuffer, &packetBuffer[Bootloader_DATA_ADDR + 3u],
1863:Generated_Source\PSoC4/Bootloader.c ****                                       (int16)pktSize - 3);
1864:Generated_Source\PSoC4/Bootloader.c ****                     #else              
1865:Generated_Source\PSoC4/Bootloader.c ****                         /*Data is in packetBuffer[], needs to be copied to dataBuffer[]*/
1866:Generated_Source\PSoC4/Bootloader.c ****                         (void) memcpy(dataBuffer, &packetBuffer[Bootloader_DATA_ADDR + 3u],
1867:Generated_Source\PSoC4/Bootloader.c ****                                       (uint32)pktSize - 3u);
1868:Generated_Source\PSoC4/Bootloader.c ****                     #endif /*CY_PSOC3)*/              
1869:Generated_Source\PSoC4/Bootloader.c ****                     }
1870:Generated_Source\PSoC4/Bootloader.c ****                         
1871:Generated_Source\PSoC4/Bootloader.c ****                 #if (!CY_PSOC4) 
1872:Generated_Source\PSoC4/Bootloader.c ****                     if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
1873:Generated_Source\PSoC4/Bootloader.c ****                        (btldrData <= Bootloader_LAST_EE_ARRAYID))
1874:Generated_Source\PSoC4/Bootloader.c ****                     {
1875:Generated_Source\PSoC4/Bootloader.c ****                         /* EEPROM */
1876:Generated_Source\PSoC4/Bootloader.c ****                         /* Both PSoC 3 and PSoC 5LP architecture have one EEPROM array. */
1877:Generated_Source\PSoC4/Bootloader.c ****                         startAddr = CY_EEPROM_BASE + ((uint32)rowNum * CYDEV_EEPROM_ROW_SIZE);
1878:Generated_Source\PSoC4/Bootloader.c ****                         rowSize = CYDEV_EEPROM_ROW_SIZE;
1879:Generated_Source\PSoC4/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF_ROW
1880:Generated_Source\PSoC4/Bootloader.c ****                     }
1881:Generated_Source\PSoC4/Bootloader.c ****                     else if (btldrData < CY_FLASH_NUMBER_ARRAYS)    
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 55


1882:Generated_Source\PSoC4/Bootloader.c ****                     {
1883:Generated_Source\PSoC4/Bootloader.c ****                         startAddr = CY_FLASH_BASE + ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE) +
1884:Generated_Source\PSoC4/Bootloader.c ****                                                      ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
1885:Generated_Source\PSoC4/Bootloader.c ****                         rowSize = CYDEV_FLS_ROW_SIZE;        
1886:Generated_Source\PSoC4/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;                        
1887:Generated_Source\PSoC4/Bootloader.c ****                     }
1888:Generated_Source\PSoC4/Bootloader.c ****                     else
1889:Generated_Source\PSoC4/Bootloader.c ****                     {
1890:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_ERR_ARRAY;
1891:Generated_Source\PSoC4/Bootloader.c ****                         break;                              
1892:Generated_Source\PSoC4/Bootloader.c ****                     }
1893:Generated_Source\PSoC4/Bootloader.c **** 
1894:Generated_Source\PSoC4/Bootloader.c ****                     /*Checking if row number is within array address range*/
1895:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, upperRange);
1896:Generated_Source\PSoC4/Bootloader.c ****                     
1897:Generated_Source\PSoC4/Bootloader.c ****                     if (CYRET_SUCCESS != ackCode)
1898:Generated_Source\PSoC4/Bootloader.c ****                     {
1899:Generated_Source\PSoC4/Bootloader.c ****                         break;
1900:Generated_Source\PSoC4/Bootloader.c ****                     }
1901:Generated_Source\PSoC4/Bootloader.c ****                     
1902:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = Bootloader_VerifyRow(startAddr, dataBuffer, rowSize);
1903:Generated_Source\PSoC4/Bootloader.c ****                     
1904:Generated_Source\PSoC4/Bootloader.c ****                     /******************************************************************************
1905:Generated_Source\PSoC4/Bootloader.c ****                     * If flash row check has completed successfully and ECC is disabled and there i
1906:Generated_Source\PSoC4/Bootloader.c ****                     * data in the buffer for ECC row.
1907:Generated_Source\PSoC4/Bootloader.c ****                     *******************************************************************************
1908:Generated_Source\PSoC4/Bootloader.c ****                     #if (CYDEV_ECC_ENABLE == 0u)
1909:Generated_Source\PSoC4/Bootloader.c ****                         if ((CYRET_SUCCESS == ackCode) && (btldrData < CY_FLASH_NUMBER_ARRAYS) && (
1910:Generated_Source\PSoC4/Bootloader.c ****                         {
1911:Generated_Source\PSoC4/Bootloader.c ****                             startAddr = CYDEV_ECC_BASE + ((uint32)btldrData * (CYDEV_FLS_SECTOR_SIZ
1912:Generated_Source\PSoC4/Bootloader.c ****                                         ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
1913:Generated_Source\PSoC4/Bootloader.c ****                                                 
1914:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_VerifyRow(startAddr, &dataBuffer[rowSize], (uint16
1915:Generated_Source\PSoC4/Bootloader.c ****                         }
1916:Generated_Source\PSoC4/Bootloader.c ****                     #endif /*(CYDEV_ECC_ENABLE == 0u)*/
1917:Generated_Source\PSoC4/Bootloader.c ****                     
1918:Generated_Source\PSoC4/Bootloader.c ****                 #else /*CY_PSOC4*/
1919:Generated_Source\PSoC4/Bootloader.c ****                     if (btldrData < CY_FLASH_NUMBER_ARRAYS)
1920:Generated_Source\PSoC4/Bootloader.c ****                     {
1921:Generated_Source\PSoC4/Bootloader.c ****                         startAddr = CY_FLASH_BASE + ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
1922:Generated_Source\PSoC4/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
1923:Generated_Source\PSoC4/Bootloader.c **** 
1924:Generated_Source\PSoC4/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;         
1925:Generated_Source\PSoC4/Bootloader.c ****                         
1926:Generated_Source\PSoC4/Bootloader.c ****                         /*Checking if row number is within array address range*/
1927:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, upperRange);
1928:Generated_Source\PSoC4/Bootloader.c ****                     
1929:Generated_Source\PSoC4/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
1930:Generated_Source\PSoC4/Bootloader.c ****                         {
1931:Generated_Source\PSoC4/Bootloader.c ****                             break;
1932:Generated_Source\PSoC4/Bootloader.c ****                         }
1933:Generated_Source\PSoC4/Bootloader.c ****                         
1934:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_VerifyRow(startAddr, dataBuffer, (uint16)CYDEV_FLS_ROW
1935:Generated_Source\PSoC4/Bootloader.c ****                     }
1936:Generated_Source\PSoC4/Bootloader.c ****                     else
1937:Generated_Source\PSoC4/Bootloader.c ****                     {
1938:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_ERR_ARRAY;
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 56


1939:Generated_Source\PSoC4/Bootloader.c ****                         break;                     
1940:Generated_Source\PSoC4/Bootloader.c ****                     }
1941:Generated_Source\PSoC4/Bootloader.c ****                 #endif  /* (!CY_PSOC4) */
1942:Generated_Source\PSoC4/Bootloader.c ****                 
1943:Generated_Source\PSoC4/Bootloader.c ****                 } 
1944:Generated_Source\PSoC4/Bootloader.c ****                 break;
1945:Generated_Source\PSoC4/Bootloader.c ****         #endif /*(0u != Bootloader_CMD_VERIFY_ROW_FLS_AVAIL)*/
1946:Generated_Source\PSoC4/Bootloader.c **** 
1947:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
1948:Generated_Source\PSoC4/Bootloader.c ****             *   Get flash size (0x32)
1949:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
1950:Generated_Source\PSoC4/Bootloader.c ****             #if(0u != Bootloader_CMD_GET_FLASH_SIZE_AVAIL)
1951:Generated_Source\PSoC4/Bootloader.c **** 
1952:Generated_Source\PSoC4/Bootloader.c ****                 case Bootloader_COMMAND_REPORT_SIZE:
1953:Generated_Source\PSoC4/Bootloader.c **** 
1954:Generated_Source\PSoC4/Bootloader.c ****                     /* btldrData - holds flash array ID sent by host */
1955:Generated_Source\PSoC4/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
 1184              		.loc 1 1955 0
 1185 027c A823     		movs	r3, #168
 1186 027e 9B00     		lsls	r3, r3, #2
 1187 0280 FB18     		adds	r3, r7, r3
 1188 0282 1B78     		ldrb	r3, [r3]
 1189 0284 012B     		cmp	r3, #1
 1190 0286 00D0     		beq	.LCB975
 1191 0288 1FE3     		b	.L107	@long jump
 1192              	.LCB975:
 1193              		.loc 1 1955 0 is_stmt 0 discriminator 1
 1194 028a 3A4B     		ldr	r3, .L114+8
 1195 028c FB18     		adds	r3, r7, r3
 1196 028e 1B88     		ldrh	r3, [r3]
 1197 0290 012B     		cmp	r3, #1
 1198 0292 00D0     		beq	.LCB980
 1199 0294 19E3     		b	.L107	@long jump
 1200              	.LCB980:
1956:Generated_Source\PSoC4/Bootloader.c ****                     {
1957:Generated_Source\PSoC4/Bootloader.c ****                         if(btldrData < CY_FLASH_NUMBER_ARRAYS)
 1201              		.loc 1 1957 0 is_stmt 1
 1202 0296 3E4B     		ldr	r3, .L114+36
 1203 0298 FB18     		adds	r3, r7, r3
 1204 029a 1B78     		ldrb	r3, [r3]
 1205 029c 002B     		cmp	r3, #0
 1206 029e 00D0     		beq	.LCB985
 1207 02a0 13E3     		b	.L107	@long jump
 1208              	.LCB985:
 1209              	.LBB6:
1958:Generated_Source\PSoC4/Bootloader.c ****                         {
1959:Generated_Source\PSoC4/Bootloader.c ****                             uint16 CYDATA startRow;
1960:Generated_Source\PSoC4/Bootloader.c ****                             uint8  CYDATA arrayIdBtlderEnds;
1961:Generated_Source\PSoC4/Bootloader.c **** 
1962:Generated_Source\PSoC4/Bootloader.c ****                             /**********************************************************************
1963:Generated_Source\PSoC4/Bootloader.c ****                             * - For the flash array where the Bootloader application ends, returns 
1964:Generated_Source\PSoC4/Bootloader.c ****                             *   full row after the Bootloader application.
1965:Generated_Source\PSoC4/Bootloader.c ****                             *
1966:Generated_Source\PSoC4/Bootloader.c ****                             * - For a fully occupied flash array, the number of rows in the array i
1967:Generated_Source\PSoC4/Bootloader.c ****                             *   because there is no space for the Bootloadable application in this 
1968:Generated_Source\PSoC4/Bootloader.c ****                             *
1969:Generated_Source\PSoC4/Bootloader.c ****                             * - For the arrays next to the occupied array, zero is returned.
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 57


1970:Generated_Source\PSoC4/Bootloader.c ****                             *   The Bootloadable application can be written from those arrays begin
1971:Generated_Source\PSoC4/Bootloader.c ****                             *
1972:Generated_Source\PSoC4/Bootloader.c ****                             *   If this is a Bootloader that is located in an application (Combinat
1973:Generated_Source\PSoC4/Bootloader.c ****                             *   then we do not use the Bootloader_SizeBytes and Bootloader_SizeByte
1974:Generated_Source\PSoC4/Bootloader.c ****                             *   variables, instead we take the Launcher's last row from metadata.
1975:Generated_Source\PSoC4/Bootloader.c ****                             ***********************************************************************
1976:Generated_Source\PSoC4/Bootloader.c ****                         #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
1977:Generated_Source\PSoC4/Bootloader.c ****                             arrayIdBtlderEnds = (uint8) (*Bootloader_SizeBytesAccess / CY_FLASH_SIZ
 1210              		.loc 1 1977 0
 1211 02a2 3D4B     		ldr	r3, .L114+44
 1212 02a4 1B68     		ldr	r3, [r3]
 1213 02a6 1B68     		ldr	r3, [r3]
 1214 02a8 DA0B     		lsrs	r2, r3, #15
 1215 02aa A423     		movs	r3, #164
 1216 02ac 9B00     		lsls	r3, r3, #2
 1217 02ae FB18     		adds	r3, r7, r3
 1218 02b0 1A70     		strb	r2, [r3]
1978:Generated_Source\PSoC4/Bootloader.c **** 
1979:Generated_Source\PSoC4/Bootloader.c ****                             if (btldrData == arrayIdBtlderEnds)
 1219              		.loc 1 1979 0
 1220 02b2 374B     		ldr	r3, .L114+36
 1221 02b4 FA18     		adds	r2, r7, r3
 1222 02b6 A423     		movs	r3, #164
 1223 02b8 9B00     		lsls	r3, r3, #2
 1224 02ba FB18     		adds	r3, r7, r3
 1225 02bc 1278     		ldrb	r2, [r2]
 1226 02be 1B78     		ldrb	r3, [r3]
 1227 02c0 9A42     		cmp	r2, r3
 1228 02c2 0BD1     		bne	.L73
1980:Generated_Source\PSoC4/Bootloader.c ****                             {
1981:Generated_Source\PSoC4/Bootloader.c ****                                 startRow = (uint16) (*Bootloader_SizeBytesAccess / CY_FLASH_SIZEOF_
 1229              		.loc 1 1981 0
 1230 02c4 344B     		ldr	r3, .L114+44
 1231 02c6 1B68     		ldr	r3, [r3]
 1232 02c8 1B68     		ldr	r3, [r3]
 1233 02ca DB09     		lsrs	r3, r3, #7
 1234 02cc 9AB2     		uxth	r2, r3
 1235 02ce A723     		movs	r3, #167
 1236 02d0 9B00     		lsls	r3, r3, #2
 1237 02d2 FB18     		adds	r3, r7, r3
 1238 02d4 FF21     		movs	r1, #255
 1239 02d6 0A40     		ands	r2, r1
 1240 02d8 1A80     		strh	r2, [r3]
 1241 02da 14E0     		b	.L74
 1242              	.L73:
1982:Generated_Source\PSoC4/Bootloader.c ****                                             Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
1983:Generated_Source\PSoC4/Bootloader.c ****                             }
1984:Generated_Source\PSoC4/Bootloader.c ****                         #else /*Combination project type*/   
1985:Generated_Source\PSoC4/Bootloader.c ****                             btldrLastRow = (uint16)(Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAS
1986:Generated_Source\PSoC4/Bootloader.c ****                                                                                 Bootloader_MD_BTLDB
1987:Generated_Source\PSoC4/Bootloader.c ****                             arrayIdBtlderEnds = (uint8) (((uint32)btldrLastRow * CY_FLASH_SIZEOF_RO
1988:Generated_Source\PSoC4/Bootloader.c ****                             if (btldrData == arrayIdBtlderEnds)
1989:Generated_Source\PSoC4/Bootloader.c ****                             {
1990:Generated_Source\PSoC4/Bootloader.c ****                                 startRow = (uint16)((btldrLastRow) % Bootloader_NUMBER_OF_ROWS_IN_A
1991:Generated_Source\PSoC4/Bootloader.c ****                             }
1992:Generated_Source\PSoC4/Bootloader.c ****                         #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1993:Generated_Source\PSoC4/Bootloader.c ****                         
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 58


1994:Generated_Source\PSoC4/Bootloader.c ****                             else if (btldrData > arrayIdBtlderEnds)
 1243              		.loc 1 1994 0
 1244 02dc 2C4B     		ldr	r3, .L114+36
 1245 02de FA18     		adds	r2, r7, r3
 1246 02e0 A423     		movs	r3, #164
 1247 02e2 9B00     		lsls	r3, r3, #2
 1248 02e4 FB18     		adds	r3, r7, r3
 1249 02e6 1278     		ldrb	r2, [r2]
 1250 02e8 1B78     		ldrb	r3, [r3]
 1251 02ea 9A42     		cmp	r2, r3
 1252 02ec 05D9     		bls	.L75
1995:Generated_Source\PSoC4/Bootloader.c ****                             {
1996:Generated_Source\PSoC4/Bootloader.c ****                                 startRow = Bootloader_FIRST_ROW_IN_ARRAY;
 1253              		.loc 1 1996 0
 1254 02ee A723     		movs	r3, #167
 1255 02f0 9B00     		lsls	r3, r3, #2
 1256 02f2 FB18     		adds	r3, r7, r3
 1257 02f4 0022     		movs	r2, #0
 1258 02f6 1A80     		strh	r2, [r3]
 1259 02f8 05E0     		b	.L74
 1260              	.L75:
1997:Generated_Source\PSoC4/Bootloader.c ****                             }
1998:Generated_Source\PSoC4/Bootloader.c ****                             else /* (btldrData < ArrayIdBtlderEnds) */
1999:Generated_Source\PSoC4/Bootloader.c ****                             {
2000:Generated_Source\PSoC4/Bootloader.c ****                                 startRow = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
 1261              		.loc 1 2000 0
 1262 02fa A723     		movs	r3, #167
 1263 02fc 9B00     		lsls	r3, r3, #2
 1264 02fe FB18     		adds	r3, r7, r3
 1265 0300 8022     		movs	r2, #128
 1266 0302 5200     		lsls	r2, r2, #1
 1267 0304 1A80     		strh	r2, [r3]
 1268              	.L74:
2001:Generated_Source\PSoC4/Bootloader.c ****                             }
2002:Generated_Source\PSoC4/Bootloader.c **** 
2003:Generated_Source\PSoC4/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR]      = LO8(startRow);
 1269              		.loc 1 2003 0
 1270 0306 A723     		movs	r3, #167
 1271 0308 9B00     		lsls	r3, r3, #2
 1272 030a FB18     		adds	r3, r7, r3
 1273 030c 1B88     		ldrh	r3, [r3]
 1274 030e DAB2     		uxtb	r2, r3
 1275 0310 1C4B     		ldr	r3, .L114+24
 1276 0312 AA21     		movs	r1, #170
 1277 0314 8900     		lsls	r1, r1, #2
 1278 0316 8C46     		mov	ip, r1
 1279 0318 BC44     		add	ip, ip, r7
 1280 031a 6344     		add	r3, r3, ip
 1281 031c 1A71     		strb	r2, [r3, #4]
2004:Generated_Source\PSoC4/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 1u] = HI8(startRow);
 1282              		.loc 1 2004 0
 1283 031e A723     		movs	r3, #167
 1284 0320 9B00     		lsls	r3, r3, #2
 1285 0322 FB18     		adds	r3, r7, r3
 1286 0324 1B88     		ldrh	r3, [r3]
 1287 0326 1B0A     		lsrs	r3, r3, #8
 1288 0328 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 59


 1289 032a DAB2     		uxtb	r2, r3
 1290 032c 154B     		ldr	r3, .L114+24
 1291 032e AA21     		movs	r1, #170
 1292 0330 8900     		lsls	r1, r1, #2
 1293 0332 8C46     		mov	ip, r1
 1294 0334 BC44     		add	ip, ip, r7
 1295 0336 6344     		add	r3, r3, ip
 1296 0338 5A71     		strb	r2, [r3, #5]
2005:Generated_Source\PSoC4/Bootloader.c **** 
2006:Generated_Source\PSoC4/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 2u] =
 1297              		.loc 1 2006 0
 1298 033a 124B     		ldr	r3, .L114+24
 1299 033c AA22     		movs	r2, #170
 1300 033e 9200     		lsls	r2, r2, #2
 1301 0340 9446     		mov	ip, r2
 1302 0342 BC44     		add	ip, ip, r7
 1303 0344 6344     		add	r3, r3, ip
 1304 0346 FF22     		movs	r2, #255
 1305 0348 9A71     		strb	r2, [r3, #6]
2007:Generated_Source\PSoC4/Bootloader.c ****                                         LO8(Bootloader_NUMBER_OF_ROWS_IN_ARRAY - 1u);
2008:Generated_Source\PSoC4/Bootloader.c **** 
2009:Generated_Source\PSoC4/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 3u] =
 1306              		.loc 1 2009 0
 1307 034a 0E4B     		ldr	r3, .L114+24
 1308 034c AA22     		movs	r2, #170
 1309 034e 9200     		lsls	r2, r2, #2
 1310 0350 9446     		mov	ip, r2
 1311 0352 BC44     		add	ip, ip, r7
 1312 0354 6344     		add	r3, r3, ip
 1313 0356 0022     		movs	r2, #0
 1314 0358 DA71     		strb	r2, [r3, #7]
2010:Generated_Source\PSoC4/Bootloader.c ****                                         HI8(Bootloader_NUMBER_OF_ROWS_IN_ARRAY - 1u);
2011:Generated_Source\PSoC4/Bootloader.c **** 
2012:Generated_Source\PSoC4/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_FLASH_SIZE;
 1315              		.loc 1 2012 0
 1316 035a 0C4B     		ldr	r3, .L114+32
 1317 035c FB18     		adds	r3, r7, r3
 1318 035e 0422     		movs	r2, #4
 1319 0360 1A80     		strh	r2, [r3]
2013:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
 1320              		.loc 1 2013 0
 1321 0362 074B     		ldr	r3, .L114+20
 1322 0364 FB18     		adds	r3, r7, r3
 1323 0366 0022     		movs	r2, #0
 1324 0368 1A70     		strb	r2, [r3]
 1325              	.LBE6:
2014:Generated_Source\PSoC4/Bootloader.c ****                         }
2015:Generated_Source\PSoC4/Bootloader.c **** 
2016:Generated_Source\PSoC4/Bootloader.c ****                     }
2017:Generated_Source\PSoC4/Bootloader.c ****                     break;
 1326              		.loc 1 2017 0
 1327 036a AEE2     		b	.L107
 1328              	.L115:
 1329              		.align	2
 1330              	.L114:
 1331 036c 54FDFFFF 		.word	-684
 1332 0370 5FFDFFFF 		.word	-673
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 60


 1333 0374 A2020000 		.word	674
 1334 0378 A1020000 		.word	673
 1335 037c 9E020000 		.word	670
 1336 0380 A5020000 		.word	677
 1337 0384 ACFEFFFF 		.word	-340
 1338 0388 92020000 		.word	658
 1339 038c A6020000 		.word	678
 1340 0390 91020000 		.word	657
 1341 0394 08000000 		.word	.L63
 1342 0398 00000000 		.word	Bootloader_SizeBytesAccess
 1343              	.L65:
2018:Generated_Source\PSoC4/Bootloader.c **** 
2019:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_GET_FLASH_SIZE_AVAIL) */
2020:Generated_Source\PSoC4/Bootloader.c **** 
2021:Generated_Source\PSoC4/Bootloader.c **** 
2022:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2023:Generated_Source\PSoC4/Bootloader.c ****             *   Get application status (0x33)
2024:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2025:Generated_Source\PSoC4/Bootloader.c ****             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOAD
2026:Generated_Source\PSoC4/Bootloader.c **** 
2027:Generated_Source\PSoC4/Bootloader.c ****                 #if(0u != Bootloader_CMD_GET_APP_STATUS_AVAIL)
2028:Generated_Source\PSoC4/Bootloader.c **** 
2029:Generated_Source\PSoC4/Bootloader.c ****                     case Bootloader_COMMAND_APP_STATUS:
2030:Generated_Source\PSoC4/Bootloader.c **** 
2031:Generated_Source\PSoC4/Bootloader.c ****                         if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (1u == 
2032:Generated_Source\PSoC4/Bootloader.c ****                         {
2033:Generated_Source\PSoC4/Bootloader.c **** 
2034:Generated_Source\PSoC4/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR] =
2035:Generated_Source\PSoC4/Bootloader.c ****                                 (uint8)Bootloader_ValidateBootloadable(btldrData);
2036:Generated_Source\PSoC4/Bootloader.c **** 
2037:Generated_Source\PSoC4/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 1u] =
2038:Generated_Source\PSoC4/Bootloader.c ****                                 (uint8) Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, btldrDa
2039:Generated_Source\PSoC4/Bootloader.c **** 
2040:Generated_Source\PSoC4/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_APP_STATUS;
2041:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
2042:Generated_Source\PSoC4/Bootloader.c ****                         }
2043:Generated_Source\PSoC4/Bootloader.c ****                         break;
2044:Generated_Source\PSoC4/Bootloader.c **** 
2045:Generated_Source\PSoC4/Bootloader.c ****                 #endif  /* (0u != Bootloader_CMD_GET_APP_STATUS_AVAIL) */
2046:Generated_Source\PSoC4/Bootloader.c **** 
2047:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE
2048:Generated_Source\PSoC4/Bootloader.c **** 
2049:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2050:Generated_Source\PSoC4/Bootloader.c ****             *   Program / Erase row (0x39 / 0x34)
2051:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2052:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_PROGRAM:
2053:Generated_Source\PSoC4/Bootloader.c **** 
2054:Generated_Source\PSoC4/Bootloader.c ****             /* btldrData variable holds Flash Array ID */
2055:Generated_Source\PSoC4/Bootloader.c **** 
2056:Generated_Source\PSoC4/Bootloader.c ****         #if (0u != Bootloader_CMD_ERASE_ROW_AVAIL)
2057:Generated_Source\PSoC4/Bootloader.c **** 
2058:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_ERASE:
2059:Generated_Source\PSoC4/Bootloader.c ****                 if (Bootloader_COMMAND_ERASE == packetBuffer[Bootloader_CMD_ADDR])
 1344              		.loc 1 2059 0
 1345 039c C14B     		ldr	r3, .L116
 1346 039e AA22     		movs	r2, #170
 1347 03a0 9200     		lsls	r2, r2, #2
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 61


 1348 03a2 9446     		mov	ip, r2
 1349 03a4 BC44     		add	ip, ip, r7
 1350 03a6 6344     		add	r3, r3, ip
 1351 03a8 5B78     		ldrb	r3, [r3, #1]
 1352 03aa 342B     		cmp	r3, #52
 1353 03ac 19D1     		bne	.L76
2060:Generated_Source\PSoC4/Bootloader.c ****                 {
2061:Generated_Source\PSoC4/Bootloader.c ****                     if ((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize =
 1354              		.loc 1 2061 0
 1355 03ae A823     		movs	r3, #168
 1356 03b0 9B00     		lsls	r3, r3, #2
 1357 03b2 FB18     		adds	r3, r7, r3
 1358 03b4 1B78     		ldrb	r3, [r3]
 1359 03b6 012B     		cmp	r3, #1
 1360 03b8 00D0     		beq	.LCB1131
 1361 03ba 93E2     		b	.L60	@long jump
 1362              	.LCB1131:
 1363              		.loc 1 2061 0 is_stmt 0 discriminator 1
 1364 03bc BA4B     		ldr	r3, .L116+4
 1365 03be FB18     		adds	r3, r7, r3
 1366 03c0 1B88     		ldrh	r3, [r3]
 1367 03c2 032B     		cmp	r3, #3
 1368 03c4 00D0     		beq	.LCB1136
 1369 03c6 8DE2     		b	.L60	@long jump
 1370              	.LCB1136:
2062:Generated_Source\PSoC4/Bootloader.c ****                     {
2063:Generated_Source\PSoC4/Bootloader.c ****                         #if(!CY_PSOC4)
2064:Generated_Source\PSoC4/Bootloader.c ****                             if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
2065:Generated_Source\PSoC4/Bootloader.c ****                                (btldrData <= Bootloader_LAST_EE_ARRAYID))
2066:Generated_Source\PSoC4/Bootloader.c ****                             {
2067:Generated_Source\PSoC4/Bootloader.c ****                                 /* Size of EEPROM row */
2068:Generated_Source\PSoC4/Bootloader.c ****                                 dataOffset = CY_EEPROM_SIZEOF_ROW;
2069:Generated_Source\PSoC4/Bootloader.c ****                             }
2070:Generated_Source\PSoC4/Bootloader.c ****                             else
2071:Generated_Source\PSoC4/Bootloader.c ****                             {
2072:Generated_Source\PSoC4/Bootloader.c ****                                 /* Size of flash row (depends on ECC configuration) */
2073:Generated_Source\PSoC4/Bootloader.c ****                                 dataOffset = Bootloader_FROW_SIZE;
2074:Generated_Source\PSoC4/Bootloader.c ****                             }
2075:Generated_Source\PSoC4/Bootloader.c ****                         #else
2076:Generated_Source\PSoC4/Bootloader.c ****                             /* Size of flash row (no ECC available) */
2077:Generated_Source\PSoC4/Bootloader.c ****                             dataOffset = Bootloader_FROW_SIZE;
 1371              		.loc 1 2077 0 is_stmt 1
 1372 03c8 B84B     		ldr	r3, .L116+8
 1373 03ca FB18     		adds	r3, r7, r3
 1374 03cc 8022     		movs	r2, #128
 1375 03ce 1A80     		strh	r2, [r3]
2078:Generated_Source\PSoC4/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2079:Generated_Source\PSoC4/Bootloader.c **** 
2080:Generated_Source\PSoC4/Bootloader.c ****                         #if(CY_PSOC3)
2081:Generated_Source\PSoC4/Bootloader.c ****                             (void) memset(dataBuffer, (char8) 0, (int16) dataOffset);
2082:Generated_Source\PSoC4/Bootloader.c ****                         #else
2083:Generated_Source\PSoC4/Bootloader.c ****                             (void) memset(dataBuffer, 0, (uint32) dataOffset);
 1376              		.loc 1 2083 0
 1377 03d0 B64B     		ldr	r3, .L116+8
 1378 03d2 FB18     		adds	r3, r7, r3
 1379 03d4 1A88     		ldrh	r2, [r3]
 1380 03d6 2823     		movs	r3, #40
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 62


 1381 03d8 FB18     		adds	r3, r7, r3
 1382 03da 0021     		movs	r1, #0
 1383 03dc 1800     		movs	r0, r3
 1384 03de FFF7FEFF 		bl	memset
 1385              	.L76:
2084:Generated_Source\PSoC4/Bootloader.c ****                         #endif  /* (CY_PSOC3) */
2085:Generated_Source\PSoC4/Bootloader.c ****                     }
2086:Generated_Source\PSoC4/Bootloader.c ****                     else
2087:Generated_Source\PSoC4/Bootloader.c ****                     {
2088:Generated_Source\PSoC4/Bootloader.c ****                         break;
2089:Generated_Source\PSoC4/Bootloader.c ****                     }
2090:Generated_Source\PSoC4/Bootloader.c ****                 }
2091:Generated_Source\PSoC4/Bootloader.c **** 
2092:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (0u != Bootloader_CMD_ERASE_ROW_AVAIL) */
2093:Generated_Source\PSoC4/Bootloader.c **** 
2094:Generated_Source\PSoC4/Bootloader.c **** 
2095:Generated_Source\PSoC4/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize >= 3u)
 1386              		.loc 1 2095 0
 1387 03e2 A823     		movs	r3, #168
 1388 03e4 9B00     		lsls	r3, r3, #2
 1389 03e6 FB18     		adds	r3, r7, r3
 1390 03e8 1B78     		ldrb	r3, [r3]
 1391 03ea 012B     		cmp	r3, #1
 1392 03ec 00D0     		beq	.LCB1156
 1393 03ee 6EE2     		b	.L108	@long jump
 1394              	.LCB1156:
 1395              		.loc 1 2095 0 is_stmt 0 discriminator 1
 1396 03f0 AD4B     		ldr	r3, .L116+4
 1397 03f2 FB18     		adds	r3, r7, r3
 1398 03f4 1B88     		ldrh	r3, [r3]
 1399 03f6 022B     		cmp	r3, #2
 1400 03f8 00D8     		bhi	.LCB1161
 1401 03fa 68E2     		b	.L108	@long jump
 1402              	.LCB1161:
 1403              	.LBB7:
2096:Generated_Source\PSoC4/Bootloader.c ****                 {
2097:Generated_Source\PSoC4/Bootloader.c ****                     uint16 upperRange;
2098:Generated_Source\PSoC4/Bootloader.c **** 
2099:Generated_Source\PSoC4/Bootloader.c ****                     /* Command may be sent along with last block of data, to program row. */
2100:Generated_Source\PSoC4/Bootloader.c ****                     #if(CY_PSOC3)
2101:Generated_Source\PSoC4/Bootloader.c ****                         (void) memcpy(&dataBuffer[dataOffset],
2102:Generated_Source\PSoC4/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
2103:Generated_Source\PSoC4/Bootloader.c ****                                       (int16) pktSize - 3);
2104:Generated_Source\PSoC4/Bootloader.c ****                     #else
2105:Generated_Source\PSoC4/Bootloader.c ****                         (void) memcpy(&dataBuffer[dataOffset],
 1404              		.loc 1 2105 0 is_stmt 1
 1405 03fc AB4B     		ldr	r3, .L116+8
 1406 03fe FB18     		adds	r3, r7, r3
 1407 0400 1B88     		ldrh	r3, [r3]
 1408 0402 2822     		movs	r2, #40
 1409 0404 BA18     		adds	r2, r7, r2
 1410 0406 D018     		adds	r0, r2, r3
2106:Generated_Source\PSoC4/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
2107:Generated_Source\PSoC4/Bootloader.c ****                                       (uint32) pktSize - 3u);
 1411              		.loc 1 2107 0
 1412 0408 A74B     		ldr	r3, .L116+4
 1413 040a FB18     		adds	r3, r7, r3
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 63


 1414 040c 1B88     		ldrh	r3, [r3]
 1415 040e DA1E     		subs	r2, r3, #3
2105:Generated_Source\PSoC4/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
 1416              		.loc 1 2105 0
 1417 0410 AA23     		movs	r3, #170
 1418 0412 5B00     		lsls	r3, r3, #1
 1419 0414 FB18     		adds	r3, r7, r3
 1420 0416 0733     		adds	r3, r3, #7
 1421 0418 1900     		movs	r1, r3
 1422 041a FFF7FEFF 		bl	memcpy
2108:Generated_Source\PSoC4/Bootloader.c ****                     #endif  /* (CY_PSOC3) */
2109:Generated_Source\PSoC4/Bootloader.c **** 
2110:Generated_Source\PSoC4/Bootloader.c ****                     dataOffset += (pktSize - 3u);
 1423              		.loc 1 2110 0
 1424 041e A34B     		ldr	r3, .L116+8
 1425 0420 FA18     		adds	r2, r7, r3
 1426 0422 A14B     		ldr	r3, .L116+4
 1427 0424 FB18     		adds	r3, r7, r3
 1428 0426 1288     		ldrh	r2, [r2]
 1429 0428 1B88     		ldrh	r3, [r3]
 1430 042a D318     		adds	r3, r2, r3
 1431 042c 9AB2     		uxth	r2, r3
 1432 042e 9F4B     		ldr	r3, .L116+8
 1433 0430 FB18     		adds	r3, r7, r3
 1434 0432 033A     		subs	r2, r2, #3
 1435 0434 1A80     		strh	r2, [r3]
2111:Generated_Source\PSoC4/Bootloader.c **** 
2112:Generated_Source\PSoC4/Bootloader.c ****                     #if(!CY_PSOC4)
2113:Generated_Source\PSoC4/Bootloader.c ****                         if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
2114:Generated_Source\PSoC4/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
2115:Generated_Source\PSoC4/Bootloader.c ****                         {
2116:Generated_Source\PSoC4/Bootloader.c ****                             CyEEPROM_Start();
2117:Generated_Source\PSoC4/Bootloader.c **** 
2118:Generated_Source\PSoC4/Bootloader.c ****                             /* Size of EEPROM row */
2119:Generated_Source\PSoC4/Bootloader.c ****                             pktSize = CY_EEPROM_SIZEOF_ROW;                            
2120:Generated_Source\PSoC4/Bootloader.c ****                             upperRange = Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF
2121:Generated_Source\PSoC4/Bootloader.c ****                         }
2122:Generated_Source\PSoC4/Bootloader.c ****                         else
2123:Generated_Source\PSoC4/Bootloader.c ****                         {
2124:Generated_Source\PSoC4/Bootloader.c ****                             /* Size of flash row (depends on ECC configuration) */
2125:Generated_Source\PSoC4/Bootloader.c ****                             pktSize = Bootloader_FROW_SIZE;                            
2126:Generated_Source\PSoC4/Bootloader.c ****                             upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
2127:Generated_Source\PSoC4/Bootloader.c ****                         }
2128:Generated_Source\PSoC4/Bootloader.c ****                     #else
2129:Generated_Source\PSoC4/Bootloader.c ****                         /* Size of flash row (no ECC available) */
2130:Generated_Source\PSoC4/Bootloader.c ****                         pktSize = Bootloader_FROW_SIZE;                            
 1436              		.loc 1 2130 0
 1437 0436 9C4B     		ldr	r3, .L116+4
 1438 0438 FB18     		adds	r3, r7, r3
 1439 043a 8022     		movs	r2, #128
 1440 043c 1A80     		strh	r2, [r3]
2131:Generated_Source\PSoC4/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
 1441              		.loc 1 2131 0
 1442 043e 9C4B     		ldr	r3, .L116+12
 1443 0440 FB18     		adds	r3, r7, r3
 1444 0442 8022     		movs	r2, #128
 1445 0444 5200     		lsls	r2, r2, #1
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 64


 1446 0446 1A80     		strh	r2, [r3]
2132:Generated_Source\PSoC4/Bootloader.c ****                     #endif  /* (!CY_PSOC4) */
2133:Generated_Source\PSoC4/Bootloader.c **** 
2134:Generated_Source\PSoC4/Bootloader.c ****                     /* Check if we have all data to program */
2135:Generated_Source\PSoC4/Bootloader.c ****                     if(dataOffset == pktSize)
 1447              		.loc 1 2135 0
 1448 0448 984B     		ldr	r3, .L116+8
 1449 044a FA18     		adds	r2, r7, r3
 1450 044c 964B     		ldr	r3, .L116+4
 1451 044e FB18     		adds	r3, r7, r3
 1452 0450 1288     		ldrh	r2, [r2]
 1453 0452 1B88     		ldrh	r3, [r3]
 1454 0454 9A42     		cmp	r2, r3
 1455 0456 00D0     		beq	.LCB1207
 1456 0458 70E0     		b	.L78	@long jump
 1457              	.LCB1207:
 1458              	.LBB8:
2136:Generated_Source\PSoC4/Bootloader.c ****                     {
2137:Generated_Source\PSoC4/Bootloader.c ****                         uint16 row;
2138:Generated_Source\PSoC4/Bootloader.c ****                         uint16 firstRow;    
2139:Generated_Source\PSoC4/Bootloader.c ****                     #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) && \
2140:Generated_Source\PSoC4/Bootloader.c ****                           (1u == Bootloader_GOLDEN_IMAGE_AVAIL))
2141:Generated_Source\PSoC4/Bootloader.c ****                         cystatus goldenImageValid;
2142:Generated_Source\PSoC4/Bootloader.c ****                     #endif /*(((0u != Bootloader_DUAL_APP_BOOTLOADER) &&
2143:Generated_Source\PSoC4/Bootloader.c ****                                (1u == Bootloader_GOLDEN_IMAGE_AVAIL))*/
2144:Generated_Source\PSoC4/Bootloader.c **** 
2145:Generated_Source\PSoC4/Bootloader.c ****                         /* Get flash/EEPROM row number inside array */
2146:Generated_Source\PSoC4/Bootloader.c ****                         dataOffset = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u] << 8
 1459              		.loc 1 2146 0
 1460 045a 924B     		ldr	r3, .L116
 1461 045c AA22     		movs	r2, #170
 1462 045e 9200     		lsls	r2, r2, #2
 1463 0460 9446     		mov	ip, r2
 1464 0462 BC44     		add	ip, ip, r7
 1465 0464 6344     		add	r3, r3, ip
 1466 0466 9B79     		ldrb	r3, [r3, #6]
 1467 0468 9BB2     		uxth	r3, r3
 1468 046a 1B02     		lsls	r3, r3, #8
 1469 046c 99B2     		uxth	r1, r3
2147:Generated_Source\PSoC4/Bootloader.c ****                                               packetBuffer[Bootloader_DATA_ADDR + 1u];
 1470              		.loc 1 2147 0
 1471 046e 8D4B     		ldr	r3, .L116
 1472 0470 AA22     		movs	r2, #170
 1473 0472 9200     		lsls	r2, r2, #2
 1474 0474 9446     		mov	ip, r2
 1475 0476 BC44     		add	ip, ip, r7
 1476 0478 6344     		add	r3, r3, ip
 1477 047a 5B79     		ldrb	r3, [r3, #5]
2146:Generated_Source\PSoC4/Bootloader.c ****                                               packetBuffer[Bootloader_DATA_ADDR + 1u];
 1478              		.loc 1 2146 0
 1479 047c 9AB2     		uxth	r2, r3
 1480 047e 8B4B     		ldr	r3, .L116+8
 1481 0480 FB18     		adds	r3, r7, r3
 1482 0482 0A43     		orrs	r2, r1
 1483 0484 1A80     		strh	r2, [r3]
2148:Generated_Source\PSoC4/Bootloader.c **** 
2149:Generated_Source\PSoC4/Bootloader.c ****                         /*Checking if row number is within array address range*/
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 65


2150:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(dataOffset, upperRange);
 1484              		.loc 1 2150 0
 1485 0486 894B     		ldr	r3, .L116+8
 1486 0488 FA18     		adds	r2, r7, r3
 1487 048a 894B     		ldr	r3, .L116+12
 1488 048c FB18     		adds	r3, r7, r3
 1489 048e 1288     		ldrh	r2, [r2]
 1490 0490 1B88     		ldrh	r3, [r3]
 1491 0492 9A42     		cmp	r2, r3
 1492 0494 01D2     		bcs	.L79
 1493              		.loc 1 2150 0 is_stmt 0 discriminator 1
 1494 0496 0022     		movs	r2, #0
 1495 0498 00E0     		b	.L80
 1496              	.L79:
 1497              		.loc 1 2150 0 discriminator 2
 1498 049a 0A22     		movs	r2, #10
 1499              	.L80:
 1500              		.loc 1 2150 0 discriminator 4
 1501 049c 854B     		ldr	r3, .L116+16
 1502 049e FB18     		adds	r3, r7, r3
 1503 04a0 1A70     		strb	r2, [r3]
2151:Generated_Source\PSoC4/Bootloader.c ****                     
2152:Generated_Source\PSoC4/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
 1504              		.loc 1 2152 0 is_stmt 1 discriminator 4
 1505 04a2 844B     		ldr	r3, .L116+16
 1506 04a4 FB18     		adds	r3, r7, r3
 1507 04a6 1B78     		ldrb	r3, [r3]
 1508 04a8 002B     		cmp	r3, #0
 1509 04aa 00D0     		beq	.LCB1254
 1510 04ac 11E2     		b	.L109	@long jump
 1511              	.LCB1254:
2153:Generated_Source\PSoC4/Bootloader.c ****                         {
2154:Generated_Source\PSoC4/Bootloader.c ****                             break;
2155:Generated_Source\PSoC4/Bootloader.c ****                         }
2156:Generated_Source\PSoC4/Bootloader.c ****                         
2157:Generated_Source\PSoC4/Bootloader.c ****                         /* Metadata section resides in flash (cannot be in EEPROM). */
2158:Generated_Source\PSoC4/Bootloader.c ****                         #if(!CY_PSOC4)
2159:Generated_Source\PSoC4/Bootloader.c ****                             if(btldrData <= Bootloader_LAST_FLASH_ARRAYID)
2160:Generated_Source\PSoC4/Bootloader.c ****                             {
2161:Generated_Source\PSoC4/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2162:Generated_Source\PSoC4/Bootloader.c ****                 
2163:Generated_Source\PSoC4/Bootloader.c ****                         /* btldrData  - holds flash array Id sent by host */
2164:Generated_Source\PSoC4/Bootloader.c ****                         /* dataOffset - holds flash row Id sent by host   */
2165:Generated_Source\PSoC4/Bootloader.c ****                         row = (uint16)(btldrData * Bootloader_NUMBER_OF_ROWS_IN_ARRAY) + dataOffset
 1512              		.loc 1 2165 0
 1513 04ae 824B     		ldr	r3, .L116+20
 1514 04b0 FB18     		adds	r3, r7, r3
 1515 04b2 1B78     		ldrb	r3, [r3]
 1516 04b4 9BB2     		uxth	r3, r3
 1517 04b6 1B02     		lsls	r3, r3, #8
 1518 04b8 99B2     		uxth	r1, r3
 1519 04ba A323     		movs	r3, #163
 1520 04bc 9B00     		lsls	r3, r3, #2
 1521 04be FB18     		adds	r3, r7, r3
 1522 04c0 7A4A     		ldr	r2, .L116+8
 1523 04c2 BA18     		adds	r2, r7, r2
 1524 04c4 1288     		ldrh	r2, [r2]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 66


 1525 04c6 8A18     		adds	r2, r1, r2
 1526 04c8 1A80     		strh	r2, [r3]
2166:Generated_Source\PSoC4/Bootloader.c ****                 
2167:Generated_Source\PSoC4/Bootloader.c ****                         /**************************************************************************
2168:Generated_Source\PSoC4/Bootloader.c ****                         * Refuse to write to the row within range of the bootloader application
2169:Generated_Source\PSoC4/Bootloader.c ****                         ***************************************************************************
2170:Generated_Source\PSoC4/Bootloader.c **** 
2171:Generated_Source\PSoC4/Bootloader.c ****                         /* First empty flash row after Bootloader application */
2172:Generated_Source\PSoC4/Bootloader.c ****                         #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)    
2173:Generated_Source\PSoC4/Bootloader.c ****                             firstRow = (uint16) (*Bootloader_SizeBytesAccess / CYDEV_FLS_ROW_SIZE);
 1527              		.loc 1 2173 0
 1528 04ca 7C4B     		ldr	r3, .L116+24
 1529 04cc 1B68     		ldr	r3, [r3]
 1530 04ce 1B68     		ldr	r3, [r3]
 1531 04d0 DA09     		lsrs	r2, r3, #7
 1532 04d2 7B4B     		ldr	r3, .L116+28
 1533 04d4 FB18     		adds	r3, r7, r3
 1534 04d6 1A80     		strh	r2, [r3]
2174:Generated_Source\PSoC4/Bootloader.c ****                             if ((*Bootloader_SizeBytesAccess % CYDEV_FLS_ROW_SIZE) != 0u)
 1535              		.loc 1 2174 0
 1536 04d8 784B     		ldr	r3, .L116+24
 1537 04da 1B68     		ldr	r3, [r3]
 1538 04dc 1B68     		ldr	r3, [r3]
 1539 04de 7F22     		movs	r2, #127
 1540 04e0 1340     		ands	r3, r2
 1541 04e2 06D0     		beq	.L82
2175:Generated_Source\PSoC4/Bootloader.c ****                             {
2176:Generated_Source\PSoC4/Bootloader.c ****                                 firstRow++;
 1542              		.loc 1 2176 0
 1543 04e4 764B     		ldr	r3, .L116+28
 1544 04e6 FB18     		adds	r3, r7, r3
 1545 04e8 1A88     		ldrh	r2, [r3]
 1546 04ea 754B     		ldr	r3, .L116+28
 1547 04ec FB18     		adds	r3, r7, r3
 1548 04ee 0132     		adds	r2, r2, #1
 1549 04f0 1A80     		strh	r2, [r3]
 1550              	.L82:
2177:Generated_Source\PSoC4/Bootloader.c ****                             }
2178:Generated_Source\PSoC4/Bootloader.c ****                         #else /*Combination project type*/                       
2179:Generated_Source\PSoC4/Bootloader.c ****                             
2180:Generated_Source\PSoC4/Bootloader.c ****                             if (Bootloader_RUNNING_APPLICATION_0 == Bootloader_runningApp) 
2181:Generated_Source\PSoC4/Bootloader.c ****                             {
2182:Generated_Source\PSoC4/Bootloader.c ****                                 btldrLastRow = (uint16)Bootloader_GetMetadata(Bootloader_GET_BTLDR_
2183:Generated_Source\PSoC4/Bootloader.c ****                                                                             Bootloader_MD_BTLDB_ACT
2184:Generated_Source\PSoC4/Bootloader.c ****                             }    
2185:Generated_Source\PSoC4/Bootloader.c ****                             else /*(Bootloader_RUNNING_APPLICATION_1 == Bootloader_runningApp)*/
2186:Generated_Source\PSoC4/Bootloader.c ****                             {
2187:Generated_Source\PSoC4/Bootloader.c ****                                 btldrLastRow = (uint16)Bootloader_GetMetadata(Bootloader_GET_BTLDR_
2188:Generated_Source\PSoC4/Bootloader.c ****                                                                             Bootloader_MD_BTLDB_ACT
2189:Generated_Source\PSoC4/Bootloader.c ****                             }
2190:Generated_Source\PSoC4/Bootloader.c ****                                                 
2191:Generated_Source\PSoC4/Bootloader.c ****                             firstRow = (uint16)(btldrLastRow + 1u); 
2192:Generated_Source\PSoC4/Bootloader.c ****                         #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/      
2193:Generated_Source\PSoC4/Bootloader.c **** 
2194:Generated_Source\PSoC4/Bootloader.c ****                             /* Check to see if a row to be programmed will not corrupt the Bootload
2195:Generated_Source\PSoC4/Bootloader.c ****                             if(row < firstRow)
 1551              		.loc 1 2195 0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 67


 1552 04f2 A323     		movs	r3, #163
 1553 04f4 9B00     		lsls	r3, r3, #2
 1554 04f6 FA18     		adds	r2, r7, r3
 1555 04f8 714B     		ldr	r3, .L116+28
 1556 04fa FB18     		adds	r3, r7, r3
 1557 04fc 1288     		ldrh	r2, [r2]
 1558 04fe 1B88     		ldrh	r3, [r3]
 1559 0500 9A42     		cmp	r2, r3
 1560 0502 08D2     		bcs	.L83
2196:Generated_Source\PSoC4/Bootloader.c ****                             {
2197:Generated_Source\PSoC4/Bootloader.c ****                                 ackCode = Bootloader_ERR_ROW;
 1561              		.loc 1 2197 0
 1562 0504 6B4B     		ldr	r3, .L116+16
 1563 0506 FB18     		adds	r3, r7, r3
 1564 0508 0A22     		movs	r2, #10
 1565 050a 1A70     		strb	r2, [r3]
2198:Generated_Source\PSoC4/Bootloader.c ****                                 dataOffset = 0u;
 1566              		.loc 1 2198 0
 1567 050c 674B     		ldr	r3, .L116+8
 1568 050e FB18     		adds	r3, r7, r3
 1569 0510 0022     		movs	r2, #0
 1570 0512 1A80     		strh	r2, [r3]
2199:Generated_Source\PSoC4/Bootloader.c ****                                 break;
 1571              		.loc 1 2199 0
 1572 0514 E6E1     		b	.L60
 1573              	.L83:
2200:Generated_Source\PSoC4/Bootloader.c ****                             }
2201:Generated_Source\PSoC4/Bootloader.c ****                         
2202:Generated_Source\PSoC4/Bootloader.c ****                         #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2203:Generated_Source\PSoC4/Bootloader.c ****                              (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
2204:Generated_Source\PSoC4/Bootloader.c ****                             
2205:Generated_Source\PSoC4/Bootloader.c ****                             /**********************************************************************
2206:Generated_Source\PSoC4/Bootloader.c ****                             * No check is required in case when there is no app#1 present in Upgrad
2207:Generated_Source\PSoC4/Bootloader.c ****                             * use case (no user application downloaded yet).                       
2208:Generated_Source\PSoC4/Bootloader.c ****                             ***********************************************************************
2209:Generated_Source\PSoC4/Bootloader.c ****                             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2210:Generated_Source\PSoC4/Bootloader.c ****                             if (0u != app2StartAddress) 
2211:Generated_Source\PSoC4/Bootloader.c ****                             {
2212:Generated_Source\PSoC4/Bootloader.c ****                             #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
2213:Generated_Source\PSoC4/Bootloader.c ****                             
2214:Generated_Source\PSoC4/Bootloader.c ****                                 if(Bootloader_activeApp < Bootloader_MD_BTLDB_ACTIVE_NONE)    
2215:Generated_Source\PSoC4/Bootloader.c ****                                 {
2216:Generated_Source\PSoC4/Bootloader.c ****                                     /* Refuse to write to active image */
2217:Generated_Source\PSoC4/Bootloader.c ****                                     ackCode = Bootloader_CheckImage(Bootloader_activeApp, 
2218:Generated_Source\PSoC4/Bootloader.c ****                                                                        btldrData, /*array number*/
2219:Generated_Source\PSoC4/Bootloader.c ****                                                                        row,  /*row number*/
2220:Generated_Source\PSoC4/Bootloader.c ****                                                                        dataOffset); /*row number in
2221:Generated_Source\PSoC4/Bootloader.c ****                                 
2222:Generated_Source\PSoC4/Bootloader.c ****                                     if (Bootloader_ERR_ACTIVE == ackCode)
2223:Generated_Source\PSoC4/Bootloader.c ****                                     {
2224:Generated_Source\PSoC4/Bootloader.c ****                                         dataOffset = 0u;
2225:Generated_Source\PSoC4/Bootloader.c ****                                         break;                                
2226:Generated_Source\PSoC4/Bootloader.c ****                                     }
2227:Generated_Source\PSoC4/Bootloader.c ****                                 }
2228:Generated_Source\PSoC4/Bootloader.c ****                             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2229:Generated_Source\PSoC4/Bootloader.c ****                             }
2230:Generated_Source\PSoC4/Bootloader.c ****                             #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 68


2231:Generated_Source\PSoC4/Bootloader.c **** 
2232:Generated_Source\PSoC4/Bootloader.c ****                             /*This option is available for classic Dual-app bootloader only*/
2233:Generated_Source\PSoC4/Bootloader.c ****                             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) && \
2234:Generated_Source\PSoC4/Bootloader.c ****                                  (1u == Bootloader_GOLDEN_IMAGE_AVAIL))
2235:Generated_Source\PSoC4/Bootloader.c ****                             /* Check if this is an attempt to overwrite Golden image */
2236:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_CheckImage(Bootloader_GOLDEN_IMAGE, 
2237:Generated_Source\PSoC4/Bootloader.c ****                                                                   btldrData, /*array number*/
2238:Generated_Source\PSoC4/Bootloader.c ****                                                                   row, /*row number*/
2239:Generated_Source\PSoC4/Bootloader.c ****                                                                   dataOffset); /*row number in scop
2240:Generated_Source\PSoC4/Bootloader.c ****                             
2241:Generated_Source\PSoC4/Bootloader.c ****                             
2242:Generated_Source\PSoC4/Bootloader.c ****                             /**********************************************************************
2243:Generated_Source\PSoC4/Bootloader.c ****                             * If an image to write is intended to update the Golden image and Golde
2244:Generated_Source\PSoC4/Bootloader.c ****                             * itself is valid, then give an error that it is active/Golden, otherwi
2245:Generated_Source\PSoC4/Bootloader.c ****                             * (invalid Golden image) let the Golden image to be overwritten.
2246:Generated_Source\PSoC4/Bootloader.c ****                             ***********************************************************************
2247:Generated_Source\PSoC4/Bootloader.c ****                             goldenImageValid = Bootloader_ValidateBootloadable(Bootloader_GOLDEN_IM
2248:Generated_Source\PSoC4/Bootloader.c ****                             if ((Bootloader_ERR_ACTIVE == ackCode) && (CYRET_SUCCESS == goldenImage
2249:Generated_Source\PSoC4/Bootloader.c ****                             {
2250:Generated_Source\PSoC4/Bootloader.c ****                                 dataOffset = 0u;
2251:Generated_Source\PSoC4/Bootloader.c ****                                 break;                                
2252:Generated_Source\PSoC4/Bootloader.c ****                             }
2253:Generated_Source\PSoC4/Bootloader.c ****                             else /* It is OK to overwrite corrupted Golden image */
2254:Generated_Source\PSoC4/Bootloader.c ****                             {
2255:Generated_Source\PSoC4/Bootloader.c ****                                 ackCode = CYRET_SUCCESS;
2256:Generated_Source\PSoC4/Bootloader.c ****                             }
2257:Generated_Source\PSoC4/Bootloader.c ****                             #endif /*((0u != Bootloader_DUAL_APP_BOOTLOADER) &&
2258:Generated_Source\PSoC4/Bootloader.c ****                                       (1u == Bootloader_GOLDEN_IMAGE_AVAIL)) */
2259:Generated_Source\PSoC4/Bootloader.c ****                         #endif /*(0u != Bootloader_DUAL_APP_BOOTLOADER) ||
2260:Generated_Source\PSoC4/Bootloader.c ****                                  (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
2261:Generated_Source\PSoC4/Bootloader.c ****   
2262:Generated_Source\PSoC4/Bootloader.c **** 
2263:Generated_Source\PSoC4/Bootloader.c ****                         /**************************************************************************
2264:Generated_Source\PSoC4/Bootloader.c ****                         * Clear a row that contains metadata, when the "Fast bootloadable applicati
2265:Generated_Source\PSoC4/Bootloader.c ****                         * validation" option is enabled.
2266:Generated_Source\PSoC4/Bootloader.c ****                         *
2267:Generated_Source\PSoC4/Bootloader.c ****                         * If the "Fast bootloadable application validation" option is enabled, the
2268:Generated_Source\PSoC4/Bootloader.c ****                         * bootloader only computes the checksum the first time and assumes that it
2269:Generated_Source\PSoC4/Bootloader.c ****                         * remains valid in each future startup. The metadata row is cleared because
2270:Generated_Source\PSoC4/Bootloader.c ****                         * Bootloadable application might become corrupted during update, while
2271:Generated_Source\PSoC4/Bootloader.c ****                         * the "Bootloadable Application Verification Status" field will still repor
2272:Generated_Source\PSoC4/Bootloader.c ****                         * the application is valid.
2273:Generated_Source\PSoC4/Bootloader.c ****                         ***************************************************************************
2274:Generated_Source\PSoC4/Bootloader.c ****                         #if(0u != Bootloader_FAST_APP_VALIDATION)
2275:Generated_Source\PSoC4/Bootloader.c **** 
2276:Generated_Source\PSoC4/Bootloader.c ****                             if(0u == clearedMetaData)
2277:Generated_Source\PSoC4/Bootloader.c ****                             {
2278:Generated_Source\PSoC4/Bootloader.c ****                                 /* Metadata section must be filled with zeros */
2279:Generated_Source\PSoC4/Bootloader.c **** 
2280:Generated_Source\PSoC4/Bootloader.c ****                                 uint8 erase[Bootloader_FROW_SIZE];
2281:Generated_Source\PSoC4/Bootloader.c ****                                 uint8 Bootloader_notActiveApp;
2282:Generated_Source\PSoC4/Bootloader.c **** 
2283:Generated_Source\PSoC4/Bootloader.c **** 
2284:Generated_Source\PSoC4/Bootloader.c ****                                 #if(CY_PSOC3)
2285:Generated_Source\PSoC4/Bootloader.c ****                                     (void) memset(erase, (char8) 0, (int16) Bootloader_FROW_SIZE);
2286:Generated_Source\PSoC4/Bootloader.c ****                                 #else
2287:Generated_Source\PSoC4/Bootloader.c ****                                     (void) memset(erase, 0, Bootloader_FROW_SIZE);
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 69


2288:Generated_Source\PSoC4/Bootloader.c ****                                 #endif  /* (CY_PSOC3) */
2289:Generated_Source\PSoC4/Bootloader.c **** 
2290:Generated_Source\PSoC4/Bootloader.c **** 
2291:Generated_Source\PSoC4/Bootloader.c ****                                 #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2292:Generated_Source\PSoC4/Bootloader.c ****                                      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
2293:Generated_Source\PSoC4/Bootloader.c ****                                     if (Bootloader_MD_BTLDB_ACTIVE_0 == Bootloader_activeApp)
2294:Generated_Source\PSoC4/Bootloader.c ****                                     {
2295:Generated_Source\PSoC4/Bootloader.c ****                                         Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_1;
2296:Generated_Source\PSoC4/Bootloader.c ****                                     }
2297:Generated_Source\PSoC4/Bootloader.c ****                                     else
2298:Generated_Source\PSoC4/Bootloader.c ****                                     {
2299:Generated_Source\PSoC4/Bootloader.c ****                                         Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_0;
2300:Generated_Source\PSoC4/Bootloader.c ****                                     }
2301:Generated_Source\PSoC4/Bootloader.c ****                                 #else
2302:Generated_Source\PSoC4/Bootloader.c ****                                     Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_0;
2303:Generated_Source\PSoC4/Bootloader.c ****                                 #endif /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
2304:Generated_Source\PSoC4/Bootloader.c **** 
2305:Generated_Source\PSoC4/Bootloader.c **** 
2306:Generated_Source\PSoC4/Bootloader.c ****                                 #if(CY_PSOC4)
2307:Generated_Source\PSoC4/Bootloader.c ****                                     (void) CySysFlashWriteRow(
2308:Generated_Source\PSoC4/Bootloader.c ****                                             Bootloader_MD_ROW_NUM(Bootloader_notActiveApp),
2309:Generated_Source\PSoC4/Bootloader.c ****                                             erase);
2310:Generated_Source\PSoC4/Bootloader.c ****                                 #else
2311:Generated_Source\PSoC4/Bootloader.c ****                                     (void) CyWriteRowFull(
2312:Generated_Source\PSoC4/Bootloader.c ****                                             (uint8)  Bootloader_MD_FLASH_ARRAY_NUM,
2313:Generated_Source\PSoC4/Bootloader.c ****                                             (uint16) Bootloader_MD_ROW_NUM(Bootloader_notActiveApp)
2314:Generated_Source\PSoC4/Bootloader.c ****                                             erase,
2315:Generated_Source\PSoC4/Bootloader.c ****                                             Bootloader_FROW_SIZE);
2316:Generated_Source\PSoC4/Bootloader.c ****                                 #endif  /* (CY_PSOC4) */
2317:Generated_Source\PSoC4/Bootloader.c **** 
2318:Generated_Source\PSoC4/Bootloader.c ****                                 /* PSoC 5: Do not care about flushing cache as flash row has been e
2319:Generated_Source\PSoC4/Bootloader.c **** 
2320:Generated_Source\PSoC4/Bootloader.c ****                                 /* Set up flag that metadata was cleared */
2321:Generated_Source\PSoC4/Bootloader.c ****                                 clearedMetaData = 1u;
2322:Generated_Source\PSoC4/Bootloader.c ****                             }
2323:Generated_Source\PSoC4/Bootloader.c **** 
2324:Generated_Source\PSoC4/Bootloader.c ****                         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
2325:Generated_Source\PSoC4/Bootloader.c **** 
2326:Generated_Source\PSoC4/Bootloader.c **** 
2327:Generated_Source\PSoC4/Bootloader.c ****                         #if(!CY_PSOC4)
2328:Generated_Source\PSoC4/Bootloader.c ****                             }   /* (btldrData <= Bootloader_LAST_FLASH_ARRAYID) */
2329:Generated_Source\PSoC4/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2330:Generated_Source\PSoC4/Bootloader.c **** 
2331:Generated_Source\PSoC4/Bootloader.c **** 
2332:Generated_Source\PSoC4/Bootloader.c ****                         #if(CY_PSOC4)
2333:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = (CYRET_SUCCESS != CySysFlashWriteRow((uint32) row, dataBuffer
 1574              		.loc 1 2333 0
 1575 0516 A323     		movs	r3, #163
 1576 0518 9B00     		lsls	r3, r3, #2
 1577 051a FB18     		adds	r3, r7, r3
 1578 051c 1B88     		ldrh	r3, [r3]
 1579 051e 2822     		movs	r2, #40
 1580 0520 BA18     		adds	r2, r7, r2
 1581 0522 1100     		movs	r1, r2
 1582 0524 1800     		movs	r0, r3
 1583 0526 FFF7FEFF 		bl	CySysFlashWriteRow
 1584 052a 031E     		subs	r3, r0, #0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 70


 1585 052c 01D0     		beq	.L84
 1586              		.loc 1 2333 0 is_stmt 0 discriminator 1
 1587 052e 0A22     		movs	r2, #10
 1588 0530 00E0     		b	.L85
 1589              	.L84:
 1590              		.loc 1 2333 0 discriminator 2
 1591 0532 0022     		movs	r2, #0
 1592              	.L85:
 1593              		.loc 1 2333 0 discriminator 4
 1594 0534 5F4B     		ldr	r3, .L116+16
 1595 0536 FB18     		adds	r3, r7, r3
 1596 0538 1A70     		strb	r2, [r3]
 1597              	.LBE8:
 1598 053a 03E0     		b	.L86
 1599              	.L78:
2334:Generated_Source\PSoC4/Bootloader.c ****                                 ? Bootloader_ERR_ROW \
2335:Generated_Source\PSoC4/Bootloader.c ****                                 : CYRET_SUCCESS;
2336:Generated_Source\PSoC4/Bootloader.c ****                         #else
2337:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = (CYRET_SUCCESS != CyWriteRowFull(btldrData, dataOffset, dataB
2338:Generated_Source\PSoC4/Bootloader.c ****                                 ? Bootloader_ERR_ROW \
2339:Generated_Source\PSoC4/Bootloader.c ****                                 : CYRET_SUCCESS;
2340:Generated_Source\PSoC4/Bootloader.c ****                         #endif  /* (CY_PSOC4) */
2341:Generated_Source\PSoC4/Bootloader.c **** 
2342:Generated_Source\PSoC4/Bootloader.c **** 
2343:Generated_Source\PSoC4/Bootloader.c ****                         #if(CY_PSOC5)
2344:Generated_Source\PSoC4/Bootloader.c ****                             /**********************************************************************
2345:Generated_Source\PSoC4/Bootloader.c ****                             * When writing to flash, data in the instruction cache can become stale
2346:Generated_Source\PSoC4/Bootloader.c ****                             * Therefore, the cache data does not correlate to the data just written
2347:Generated_Source\PSoC4/Bootloader.c ****                             * flash. A call to CyFlushCache() is required to invalidate the data in
2348:Generated_Source\PSoC4/Bootloader.c ****                             * cache and force fresh information to be loaded from flash.
2349:Generated_Source\PSoC4/Bootloader.c ****                             ***********************************************************************
2350:Generated_Source\PSoC4/Bootloader.c ****                             CyFlushCache();
2351:Generated_Source\PSoC4/Bootloader.c ****                         #endif /* (CY_PSOC5) */
2352:Generated_Source\PSoC4/Bootloader.c **** 
2353:Generated_Source\PSoC4/Bootloader.c ****                     }
2354:Generated_Source\PSoC4/Bootloader.c ****                     else
2355:Generated_Source\PSoC4/Bootloader.c ****                     {
2356:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_ERR_LENGTH;
 1600              		.loc 1 2356 0 is_stmt 1
 1601 053c 5D4B     		ldr	r3, .L116+16
 1602 053e FB18     		adds	r3, r7, r3
 1603 0540 0322     		movs	r2, #3
 1604 0542 1A70     		strb	r2, [r3]
 1605              	.L86:
2357:Generated_Source\PSoC4/Bootloader.c ****                     }
2358:Generated_Source\PSoC4/Bootloader.c **** 
2359:Generated_Source\PSoC4/Bootloader.c ****                     dataOffset = 0u;
 1606              		.loc 1 2359 0
 1607 0544 594B     		ldr	r3, .L116+8
 1608 0546 FB18     		adds	r3, r7, r3
 1609 0548 0022     		movs	r2, #0
 1610 054a 1A80     		strh	r2, [r3]
 1611              	.LBE7:
2360:Generated_Source\PSoC4/Bootloader.c ****                 }
2361:Generated_Source\PSoC4/Bootloader.c ****                 break;
 1612              		.loc 1 2361 0
 1613 054c BFE1     		b	.L108
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 71


 1614              	.L66:
2362:Generated_Source\PSoC4/Bootloader.c **** 
2363:Generated_Source\PSoC4/Bootloader.c **** 
2364:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2365:Generated_Source\PSoC4/Bootloader.c ****             *   Sync bootloader (0x35)
2366:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2367:Generated_Source\PSoC4/Bootloader.c ****             #if(0u != Bootloader_CMD_SYNC_BOOTLOADER_AVAIL)
2368:Generated_Source\PSoC4/Bootloader.c **** 
2369:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_SYNC:
2370:Generated_Source\PSoC4/Bootloader.c **** 
2371:Generated_Source\PSoC4/Bootloader.c ****                 if(Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState)
 1615              		.loc 1 2371 0
 1616 054e A823     		movs	r3, #168
 1617 0550 9B00     		lsls	r3, r3, #2
 1618 0552 FB18     		adds	r3, r7, r3
 1619 0554 1B78     		ldrb	r3, [r3]
 1620 0556 012B     		cmp	r3, #1
 1621 0558 00D0     		beq	.LCB1361
 1622 055a BCE1     		b	.L110	@long jump
 1623              	.LCB1361:
2372:Generated_Source\PSoC4/Bootloader.c ****                 {
2373:Generated_Source\PSoC4/Bootloader.c ****                     /* If something failed, Host would send this command to reset Bootloader. */
2374:Generated_Source\PSoC4/Bootloader.c ****                     dataOffset = 0u;
 1624              		.loc 1 2374 0
 1625 055c 534B     		ldr	r3, .L116+8
 1626 055e FB18     		adds	r3, r7, r3
 1627 0560 0022     		movs	r2, #0
 1628 0562 1A80     		strh	r2, [r3]
2375:Generated_Source\PSoC4/Bootloader.c **** 
2376:Generated_Source\PSoC4/Bootloader.c ****                     /* Don't acknowledge the packet, just get ready to accept the next one */
2377:Generated_Source\PSoC4/Bootloader.c ****                     continue;
 1629              		.loc 1 2377 0
 1630 0564 CCE1     		b	.L53
 1631              	.L67:
2378:Generated_Source\PSoC4/Bootloader.c ****                 }
2379:Generated_Source\PSoC4/Bootloader.c ****                 break;
2380:Generated_Source\PSoC4/Bootloader.c **** 
2381:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_SYNC_BOOTLOADER_AVAIL) */
2382:Generated_Source\PSoC4/Bootloader.c **** 
2383:Generated_Source\PSoC4/Bootloader.c **** 
2384:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2385:Generated_Source\PSoC4/Bootloader.c ****             *   Set an active application (0x36)
2386:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2387:Generated_Source\PSoC4/Bootloader.c ****             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2388:Generated_Source\PSoC4/Bootloader.c ****                  (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))    
2389:Generated_Source\PSoC4/Bootloader.c **** 
2390:Generated_Source\PSoC4/Bootloader.c ****                 case Bootloader_COMMAND_APP_ACTIVE:
2391:Generated_Source\PSoC4/Bootloader.c **** 
2392:Generated_Source\PSoC4/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
2393:Generated_Source\PSoC4/Bootloader.c ****                     {
2394:Generated_Source\PSoC4/Bootloader.c ****                         if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(btldrData))
2395:Generated_Source\PSoC4/Bootloader.c ****                         {
2396:Generated_Source\PSoC4/Bootloader.c ****                             Bootloader_SetActiveAppInMetadata(btldrData);
2397:Generated_Source\PSoC4/Bootloader.c ****                             Bootloader_activeApp = btldrData;
2398:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
2399:Generated_Source\PSoC4/Bootloader.c ****                         }
2400:Generated_Source\PSoC4/Bootloader.c ****                         else
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 72


2401:Generated_Source\PSoC4/Bootloader.c ****                         {
2402:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
2403:Generated_Source\PSoC4/Bootloader.c ****                         }
2404:Generated_Source\PSoC4/Bootloader.c ****                     }
2405:Generated_Source\PSoC4/Bootloader.c ****                     break;
2406:Generated_Source\PSoC4/Bootloader.c **** 
2407:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || 
2408:Generated_Source\PSoC4/Bootloader.c ****                        (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
2409:Generated_Source\PSoC4/Bootloader.c **** 
2410:Generated_Source\PSoC4/Bootloader.c **** 
2411:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2412:Generated_Source\PSoC4/Bootloader.c ****             *   Send data (0x37)
2413:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2414:Generated_Source\PSoC4/Bootloader.c ****             #if (0u != Bootloader_CMD_SEND_DATA_AVAIL)
2415:Generated_Source\PSoC4/Bootloader.c **** 
2416:Generated_Source\PSoC4/Bootloader.c ****                 case Bootloader_COMMAND_DATA:
2417:Generated_Source\PSoC4/Bootloader.c **** 
2418:Generated_Source\PSoC4/Bootloader.c ****                     if(Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState)
 1632              		.loc 1 2418 0
 1633 0566 A823     		movs	r3, #168
 1634 0568 9B00     		lsls	r3, r3, #2
 1635 056a FB18     		adds	r3, r7, r3
 1636 056c 1B78     		ldrb	r3, [r3]
 1637 056e 012B     		cmp	r3, #1
 1638 0570 00D0     		beq	.LCB1375
 1639 0572 B2E1     		b	.L111	@long jump
 1640              	.LCB1375:
2419:Generated_Source\PSoC4/Bootloader.c ****                     {
2420:Generated_Source\PSoC4/Bootloader.c ****                         /*  Make sure that dataOffset is valid before copying data */
2421:Generated_Source\PSoC4/Bootloader.c ****                         if((dataOffset + pktSize) <= Bootloader_SIZEOF_COMMAND_BUFFER)
 1641              		.loc 1 2421 0
 1642 0574 4D4B     		ldr	r3, .L116+8
 1643 0576 FB18     		adds	r3, r7, r3
 1644 0578 1A88     		ldrh	r2, [r3]
 1645 057a 4B4B     		ldr	r3, .L116+4
 1646 057c FB18     		adds	r3, r7, r3
 1647 057e 1B88     		ldrh	r3, [r3]
 1648 0580 D318     		adds	r3, r2, r3
 1649 0582 1A00     		movs	r2, r3
 1650 0584 9623     		movs	r3, #150
 1651 0586 5B00     		lsls	r3, r3, #1
 1652 0588 9A42     		cmp	r2, r3
 1653 058a 1ED8     		bhi	.L89
2422:Generated_Source\PSoC4/Bootloader.c ****                         {
2423:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
 1654              		.loc 1 2423 0
 1655 058c 494B     		ldr	r3, .L116+16
 1656 058e FB18     		adds	r3, r7, r3
 1657 0590 0022     		movs	r2, #0
 1658 0592 1A70     		strb	r2, [r3]
2424:Generated_Source\PSoC4/Bootloader.c **** 
2425:Generated_Source\PSoC4/Bootloader.c ****                             #if(CY_PSOC3)
2426:Generated_Source\PSoC4/Bootloader.c ****                                 (void) memcpy(&dataBuffer[dataOffset],
2427:Generated_Source\PSoC4/Bootloader.c ****                                               &packetBuffer[Bootloader_DATA_ADDR],
2428:Generated_Source\PSoC4/Bootloader.c ****                                               ( int16 )pktSize);
2429:Generated_Source\PSoC4/Bootloader.c ****                             #else
2430:Generated_Source\PSoC4/Bootloader.c ****                                 (void) memcpy(&dataBuffer[dataOffset],
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 73


 1659              		.loc 1 2430 0
 1660 0594 454B     		ldr	r3, .L116+8
 1661 0596 FB18     		adds	r3, r7, r3
 1662 0598 1B88     		ldrh	r3, [r3]
 1663 059a 2822     		movs	r2, #40
 1664 059c BA18     		adds	r2, r7, r2
 1665 059e D018     		adds	r0, r2, r3
 1666 05a0 414B     		ldr	r3, .L116+4
 1667 05a2 FB18     		adds	r3, r7, r3
 1668 05a4 1A88     		ldrh	r2, [r3]
 1669 05a6 AA23     		movs	r3, #170
 1670 05a8 5B00     		lsls	r3, r3, #1
 1671 05aa FB18     		adds	r3, r7, r3
 1672 05ac 0433     		adds	r3, r3, #4
 1673 05ae 1900     		movs	r1, r3
 1674 05b0 FFF7FEFF 		bl	memcpy
2431:Generated_Source\PSoC4/Bootloader.c ****                                               &packetBuffer[Bootloader_DATA_ADDR],
2432:Generated_Source\PSoC4/Bootloader.c ****                                               (uint32) pktSize);
2433:Generated_Source\PSoC4/Bootloader.c ****                             #endif  /* (CY_PSOC3) */
2434:Generated_Source\PSoC4/Bootloader.c **** 
2435:Generated_Source\PSoC4/Bootloader.c ****                             dataOffset += pktSize;
 1675              		.loc 1 2435 0
 1676 05b4 3D4B     		ldr	r3, .L116+8
 1677 05b6 FB18     		adds	r3, r7, r3
 1678 05b8 3C4A     		ldr	r2, .L116+8
 1679 05ba B918     		adds	r1, r7, r2
 1680 05bc 3A4A     		ldr	r2, .L116+4
 1681 05be BA18     		adds	r2, r7, r2
 1682 05c0 0988     		ldrh	r1, [r1]
 1683 05c2 1288     		ldrh	r2, [r2]
 1684 05c4 8A18     		adds	r2, r1, r2
 1685 05c6 1A80     		strh	r2, [r3]
2436:Generated_Source\PSoC4/Bootloader.c ****                         }
2437:Generated_Source\PSoC4/Bootloader.c ****                         else
2438:Generated_Source\PSoC4/Bootloader.c ****                         {
2439:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_ERR_LENGTH;
2440:Generated_Source\PSoC4/Bootloader.c ****                         }
2441:Generated_Source\PSoC4/Bootloader.c ****                     }
2442:Generated_Source\PSoC4/Bootloader.c **** 
2443:Generated_Source\PSoC4/Bootloader.c ****                     break;
 1686              		.loc 1 2443 0
 1687 05c8 87E1     		b	.L111
 1688              	.L89:
2439:Generated_Source\PSoC4/Bootloader.c ****                         }
 1689              		.loc 1 2439 0
 1690 05ca 3A4B     		ldr	r3, .L116+16
 1691 05cc FB18     		adds	r3, r7, r3
 1692 05ce 0322     		movs	r2, #3
 1693 05d0 1A70     		strb	r2, [r3]
 1694              		.loc 1 2443 0
 1695 05d2 82E1     		b	.L111
 1696              	.L68:
2444:Generated_Source\PSoC4/Bootloader.c **** 
2445:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_SEND_DATA_AVAIL) */
2446:Generated_Source\PSoC4/Bootloader.c **** 
2447:Generated_Source\PSoC4/Bootloader.c **** 
2448:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 74


2449:Generated_Source\PSoC4/Bootloader.c ****             *   Enter bootloader (0x38)
2450:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2451:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_ENTER:
2452:Generated_Source\PSoC4/Bootloader.c **** 
2453:Generated_Source\PSoC4/Bootloader.c ****         #if (Bootloader_SECURITY_KEY_AVAIL == 1u)    
2454:Generated_Source\PSoC4/Bootloader.c ****             if(pktSize == 6u) /*Security key*/
2455:Generated_Source\PSoC4/Bootloader.c ****         #else    
2456:Generated_Source\PSoC4/Bootloader.c ****             if(pktSize == 0u) /*Security key is not demanded*/
 1697              		.loc 1 2456 0
 1698 05d4 344B     		ldr	r3, .L116+4
 1699 05d6 FB18     		adds	r3, r7, r3
 1700 05d8 1B88     		ldrh	r3, [r3]
 1701 05da 002B     		cmp	r3, #0
 1702 05dc 26D1     		bne	.L90
 1703              	.LBB10:
2457:Generated_Source\PSoC4/Bootloader.c ****         #endif /*(Bootloader_SECURITY_KEY_AVAIL == 1u)*/   
2458:Generated_Source\PSoC4/Bootloader.c ****                 {
2459:Generated_Source\PSoC4/Bootloader.c ****                     #if(CY_PSOC3)
2460:Generated_Source\PSoC4/Bootloader.c **** 
2461:Generated_Source\PSoC4/Bootloader.c ****                         Bootloader_ENTER CYDATA BtldrVersion =
2462:Generated_Source\PSoC4/Bootloader.c ****                             {CYSWAP_ENDIAN32(CYDEV_CHIP_JTAG_ID), CYDEV_CHIP_REV_EXPECT, Bootloader
2463:Generated_Source\PSoC4/Bootloader.c **** 
2464:Generated_Source\PSoC4/Bootloader.c ****                     #else
2465:Generated_Source\PSoC4/Bootloader.c **** 
2466:Generated_Source\PSoC4/Bootloader.c ****                         Bootloader_ENTER CYDATA BtldrVersion =
 1704              		.loc 1 2466 0
 1705 05de 394B     		ldr	r3, .L116+32
 1706 05e0 AA22     		movs	r2, #170
 1707 05e2 9200     		lsls	r2, r2, #2
 1708 05e4 9446     		mov	ip, r2
 1709 05e6 BC44     		add	ip, ip, r7
 1710 05e8 6344     		add	r3, r3, ip
 1711 05ea 374A     		ldr	r2, .L116+36
 1712 05ec 03CA     		ldmia	r2!, {r0, r1}
 1713 05ee 03C3     		stmia	r3!, {r0, r1}
2467:Generated_Source\PSoC4/Bootloader.c ****                             {CYDEV_CHIP_JTAG_ID, CYDEV_CHIP_REV_EXPECT, Bootloader_VERSION};
2468:Generated_Source\PSoC4/Bootloader.c ****             #endif  /* (CY_PSOC3) */
2469:Generated_Source\PSoC4/Bootloader.c **** 
2470:Generated_Source\PSoC4/Bootloader.c ****             #if (Bootloader_SECURITY_KEY_AVAIL == 1u)
2471:Generated_Source\PSoC4/Bootloader.c ****                 
2472:Generated_Source\PSoC4/Bootloader.c ****                 /*Security key checking*/
2473:Generated_Source\PSoC4/Bootloader.c ****                 uint8 idx = Bootloader_SECURITY_KEY_LENGTH;
2474:Generated_Source\PSoC4/Bootloader.c ****                 ackCode = CYRET_SUCCESS;
2475:Generated_Source\PSoC4/Bootloader.c ****                 
2476:Generated_Source\PSoC4/Bootloader.c ****                 do
2477:Generated_Source\PSoC4/Bootloader.c ****                 {
2478:Generated_Source\PSoC4/Bootloader.c ****                     idx--;                     
2479:Generated_Source\PSoC4/Bootloader.c ****                     if (Bootloader_securityKey[idx] != packetBuffer[Bootloader_DATA_ADDR + idx])
2480:Generated_Source\PSoC4/Bootloader.c ****                     {
2481:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_ERR_DATA;
2482:Generated_Source\PSoC4/Bootloader.c ****                         break;
2483:Generated_Source\PSoC4/Bootloader.c ****                     }
2484:Generated_Source\PSoC4/Bootloader.c ****                     
2485:Generated_Source\PSoC4/Bootloader.c ****                 } while(0u != idx);
2486:Generated_Source\PSoC4/Bootloader.c ****                 
2487:Generated_Source\PSoC4/Bootloader.c ****                 if (Bootloader_ERR_DATA == ackCode)
2488:Generated_Source\PSoC4/Bootloader.c ****                 {
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 75


2489:Generated_Source\PSoC4/Bootloader.c ****                     break;
2490:Generated_Source\PSoC4/Bootloader.c ****                 }
2491:Generated_Source\PSoC4/Bootloader.c ****             #endif /*(Bootloader_SECURITY_KEY_AVAIL == 1u)*/
2492:Generated_Source\PSoC4/Bootloader.c ****                 
2493:Generated_Source\PSoC4/Bootloader.c ****                 #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
2494:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_isBootloading = Bootloader_BOOTLOADING_IN_PROGRESS;
2495:Generated_Source\PSoC4/Bootloader.c ****                 #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
2496:Generated_Source\PSoC4/Bootloader.c ****                 
2497:Generated_Source\PSoC4/Bootloader.c ****                     communicationState = Bootloader_COMMUNICATION_STATE_ACTIVE;
 1714              		.loc 1 2497 0
 1715 05f0 A823     		movs	r3, #168
 1716 05f2 9B00     		lsls	r3, r3, #2
 1717 05f4 FB18     		adds	r3, r7, r3
 1718 05f6 0122     		movs	r2, #1
 1719 05f8 1A70     		strb	r2, [r3]
2498:Generated_Source\PSoC4/Bootloader.c **** 
2499:Generated_Source\PSoC4/Bootloader.c ****                     rspSize = sizeof(Bootloader_ENTER);
 1720              		.loc 1 2499 0
 1721 05fa 344B     		ldr	r3, .L116+40
 1722 05fc FB18     		adds	r3, r7, r3
 1723 05fe 0822     		movs	r2, #8
 1724 0600 1A80     		strh	r2, [r3]
2500:Generated_Source\PSoC4/Bootloader.c ****                     dataOffset = 0u; 
 1725              		.loc 1 2500 0
 1726 0602 2A4B     		ldr	r3, .L116+8
 1727 0604 FB18     		adds	r3, r7, r3
 1728 0606 0022     		movs	r2, #0
 1729 0608 1A80     		strh	r2, [r3]
2501:Generated_Source\PSoC4/Bootloader.c ****                     
2502:Generated_Source\PSoC4/Bootloader.c ****                     #if(CY_PSOC3)
2503:Generated_Source\PSoC4/Bootloader.c ****                         (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
2504:Generated_Source\PSoC4/Bootloader.c ****                                       &BtldrVersion,
2505:Generated_Source\PSoC4/Bootloader.c ****                                       ( int16 )rspSize);
2506:Generated_Source\PSoC4/Bootloader.c ****                     #else
2507:Generated_Source\PSoC4/Bootloader.c ****                         (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
 1730              		.loc 1 2507 0
 1731 060a 304B     		ldr	r3, .L116+40
 1732 060c FB18     		adds	r3, r7, r3
 1733 060e 1A88     		ldrh	r2, [r3]
 1734 0610 2023     		movs	r3, #32
 1735 0612 F918     		adds	r1, r7, r3
 1736 0614 AA23     		movs	r3, #170
 1737 0616 5B00     		lsls	r3, r3, #1
 1738 0618 FB18     		adds	r3, r7, r3
 1739 061a 0433     		adds	r3, r3, #4
 1740 061c 1800     		movs	r0, r3
 1741 061e FFF7FEFF 		bl	memcpy
2508:Generated_Source\PSoC4/Bootloader.c ****                                       &BtldrVersion,
2509:Generated_Source\PSoC4/Bootloader.c ****                                       (uint32) rspSize);
2510:Generated_Source\PSoC4/Bootloader.c ****                     #endif  /* (CY_PSOC3) */
2511:Generated_Source\PSoC4/Bootloader.c **** 
2512:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1742              		.loc 1 2512 0
 1743 0622 244B     		ldr	r3, .L116+16
 1744 0624 FB18     		adds	r3, r7, r3
 1745 0626 0022     		movs	r2, #0
 1746 0628 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 76


 1747              	.LBE10:
2513:Generated_Source\PSoC4/Bootloader.c ****                 }
2514:Generated_Source\PSoC4/Bootloader.c ****                 else /* Packet length does not match*/
2515:Generated_Source\PSoC4/Bootloader.c ****                 {
2516:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = Bootloader_ERR_DATA;
2517:Generated_Source\PSoC4/Bootloader.c ****                 }
2518:Generated_Source\PSoC4/Bootloader.c ****                 break;
 1748              		.loc 1 2518 0
 1749 062a 5BE1     		b	.L60
 1750              	.L90:
2516:Generated_Source\PSoC4/Bootloader.c ****                 }
 1751              		.loc 1 2516 0
 1752 062c 214B     		ldr	r3, .L116+16
 1753 062e FB18     		adds	r3, r7, r3
 1754 0630 0422     		movs	r2, #4
 1755 0632 1A70     		strb	r2, [r3]
 1756              		.loc 1 2518 0
 1757 0634 56E1     		b	.L60
 1758              	.L69:
2519:Generated_Source\PSoC4/Bootloader.c **** 
2520:Generated_Source\PSoC4/Bootloader.c **** 
2521:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2522:Generated_Source\PSoC4/Bootloader.c ****             *   Get row checksum (0x3A)
2523:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2524:Generated_Source\PSoC4/Bootloader.c ****             #if (0u != Bootloader_CMD_GET_ROW_CHKSUM_AVAIL)
2525:Generated_Source\PSoC4/Bootloader.c **** 
2526:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_GET_ROW_CHKSUM:
2527:Generated_Source\PSoC4/Bootloader.c **** 
2528:Generated_Source\PSoC4/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize == 3u)
 1759              		.loc 1 2528 0
 1760 0636 A823     		movs	r3, #168
 1761 0638 9B00     		lsls	r3, r3, #2
 1762 063a FB18     		adds	r3, r7, r3
 1763 063c 1B78     		ldrb	r3, [r3]
 1764 063e 012B     		cmp	r3, #1
 1765 0640 00D0     		beq	.LCB1489
 1766 0642 4CE1     		b	.L112	@long jump
 1767              	.LCB1489:
 1768              		.loc 1 2528 0 is_stmt 0 discriminator 1
 1769 0644 184B     		ldr	r3, .L116+4
 1770 0646 FB18     		adds	r3, r7, r3
 1771 0648 1B88     		ldrh	r3, [r3]
 1772 064a 032B     		cmp	r3, #3
 1773 064c 00D0     		beq	.LCB1494
 1774 064e 46E1     		b	.L112	@long jump
 1775              	.LCB1494:
 1776              	.LBB11:
2529:Generated_Source\PSoC4/Bootloader.c ****                 {
2530:Generated_Source\PSoC4/Bootloader.c ****                     /* Get flash/EEPROM row number */
2531:Generated_Source\PSoC4/Bootloader.c ****                     uint16 CYDATA rowNum = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u
 1777              		.loc 1 2531 0 is_stmt 1
 1778 0650 144B     		ldr	r3, .L116
 1779 0652 AA22     		movs	r2, #170
 1780 0654 9200     		lsls	r2, r2, #2
 1781 0656 9446     		mov	ip, r2
 1782 0658 BC44     		add	ip, ip, r7
 1783 065a 6344     		add	r3, r3, ip
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 77


 1784 065c 9B79     		ldrb	r3, [r3, #6]
 1785 065e 9BB2     		uxth	r3, r3
 1786 0660 1B02     		lsls	r3, r3, #8
 1787 0662 99B2     		uxth	r1, r3
2532:Generated_Source\PSoC4/Bootloader.c ****                                                     packetBuffer[Bootloader_DATA_ADDR + 1u];
 1788              		.loc 1 2532 0
 1789 0664 0F4B     		ldr	r3, .L116
 1790 0666 AA22     		movs	r2, #170
 1791 0668 9200     		lsls	r2, r2, #2
 1792 066a 9446     		mov	ip, r2
 1793 066c BC44     		add	ip, ip, r7
 1794 066e 6344     		add	r3, r3, ip
 1795 0670 5B79     		ldrb	r3, [r3, #5]
2531:Generated_Source\PSoC4/Bootloader.c ****                                                     packetBuffer[Bootloader_DATA_ADDR + 1u];
 1796              		.loc 1 2531 0
 1797 0672 9AB2     		uxth	r2, r3
 1798 0674 164B     		ldr	r3, .L116+44
 1799 0676 FB18     		adds	r3, r7, r3
 1800 0678 0A43     		orrs	r2, r1
 1801 067a 1A80     		strh	r2, [r3]
2533:Generated_Source\PSoC4/Bootloader.c ****                     
2534:Generated_Source\PSoC4/Bootloader.c ****                     uint16 CYDATA tmpRowNum; 
2535:Generated_Source\PSoC4/Bootloader.c ****                     #if(!CY_PSOC4)
2536:Generated_Source\PSoC4/Bootloader.c **** 
2537:Generated_Source\PSoC4/Bootloader.c ****                         uint32 CYDATA rowAddr;
2538:Generated_Source\PSoC4/Bootloader.c ****                         uint8 CYDATA checksum;
2539:Generated_Source\PSoC4/Bootloader.c **** 
2540:Generated_Source\PSoC4/Bootloader.c ****                         if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
2541:Generated_Source\PSoC4/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
2542:Generated_Source\PSoC4/Bootloader.c ****                         {
2543:Generated_Source\PSoC4/Bootloader.c ****                             /* EEPROM */
2544:Generated_Source\PSoC4/Bootloader.c ****                             CyEEPROM_Start();
2545:Generated_Source\PSoC4/Bootloader.c ****                             /* Both PSoC 3 and PSoC 5LP architecture have one EEPROM array. */
2546:Generated_Source\PSoC4/Bootloader.c ****                             rowAddr = (uint32)rowNum * CYDEV_EEPROM_ROW_SIZE;
2547:Generated_Source\PSoC4/Bootloader.c ****                             
2548:Generated_Source\PSoC4/Bootloader.c ****                             /* Checking if row number is within array address range */
2549:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
2550:Generated_Source\PSoC4/Bootloader.c ****                                 (Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF_ROWS_IN
2551:Generated_Source\PSoC4/Bootloader.c ****                     
2552:Generated_Source\PSoC4/Bootloader.c ****                             if (CYRET_SUCCESS != ackCode)
2553:Generated_Source\PSoC4/Bootloader.c ****                             {
2554:Generated_Source\PSoC4/Bootloader.c ****                                 break;
2555:Generated_Source\PSoC4/Bootloader.c ****                             }
2556:Generated_Source\PSoC4/Bootloader.c **** 
2557:Generated_Source\PSoC4/Bootloader.c ****                             checksum = Bootloader_Calc8BitSum(CY_EEPROM_BASE, rowAddr, CYDEV_EEPROM
2558:Generated_Source\PSoC4/Bootloader.c ****                         }
2559:Generated_Source\PSoC4/Bootloader.c ****                         else
2560:Generated_Source\PSoC4/Bootloader.c ****                         {
2561:Generated_Source\PSoC4/Bootloader.c ****                             /* flash */ 
2562:Generated_Source\PSoC4/Bootloader.c ****                             rowAddr = ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
2563:Generated_Source\PSoC4/Bootloader.c ****                                        + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
2564:Generated_Source\PSoC4/Bootloader.c **** 
2565:Generated_Source\PSoC4/Bootloader.c ****                             /* Checking if row number is within array address range */
2566:Generated_Source\PSoC4/Bootloader.c ****                             ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
2567:Generated_Source\PSoC4/Bootloader.c ****                                                        Bootloader_NUMBER_OF_ROWS_IN_ARRAY);
2568:Generated_Source\PSoC4/Bootloader.c ****                     
2569:Generated_Source\PSoC4/Bootloader.c ****                             if (CYRET_SUCCESS != ackCode)
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 78


2570:Generated_Source\PSoC4/Bootloader.c ****                             {
2571:Generated_Source\PSoC4/Bootloader.c ****                                 break;
2572:Generated_Source\PSoC4/Bootloader.c ****                             }                            
2573:Generated_Source\PSoC4/Bootloader.c **** 
2574:Generated_Source\PSoC4/Bootloader.c ****                             checksum = Bootloader_Calc8BitSum(CY_FLASH_BASE, rowAddr, CYDEV_FLS_ROW
2575:Generated_Source\PSoC4/Bootloader.c ****                         }
2576:Generated_Source\PSoC4/Bootloader.c **** 
2577:Generated_Source\PSoC4/Bootloader.c ****                     #else
2578:Generated_Source\PSoC4/Bootloader.c **** 
2579:Generated_Source\PSoC4/Bootloader.c ****                         uint32 CYDATA rowAddr = ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
 1802              		.loc 1 2579 0
 1803 067c 0E4B     		ldr	r3, .L116+20
 1804 067e FB18     		adds	r3, r7, r3
 1805 0680 1B78     		ldrb	r3, [r3]
2580:Generated_Source\PSoC4/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
 1806              		.loc 1 2580 0
 1807 0682 1A02     		lsls	r2, r3, #8
 1808 0684 124B     		ldr	r3, .L116+44
 1809 0686 FB18     		adds	r3, r7, r3
 1810 0688 1B88     		ldrh	r3, [r3]
 1811 068a D318     		adds	r3, r2, r3
2579:Generated_Source\PSoC4/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
 1812              		.loc 1 2579 0
 1813 068c DB01     		lsls	r3, r3, #7
 1814 068e A122     		movs	r2, #161
 1815 0690 9200     		lsls	r2, r2, #2
 1816 0692 BA18     		adds	r2, r7, r2
 1817 0694 1360     		str	r3, [r2]
2581:Generated_Source\PSoC4/Bootloader.c ****                         
2582:Generated_Source\PSoC4/Bootloader.c ****                         uint8 CYDATA checksum;
2583:Generated_Source\PSoC4/Bootloader.c ****                          
2584:Generated_Source\PSoC4/Bootloader.c ****                         /* Checking if row number is within array address range */
2585:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
 1818              		.loc 1 2585 0
 1819 0696 0E4B     		ldr	r3, .L116+44
 1820 0698 FB18     		adds	r3, r7, r3
 1821 069a 1B88     		ldrh	r3, [r3]
 1822 069c FF2B     		cmp	r3, #255
 1823 069e 19D8     		bhi	.L93
 1824              		.loc 1 2585 0 is_stmt 0 discriminator 1
 1825 06a0 0022     		movs	r2, #0
 1826 06a2 18E0     		b	.L94
 1827              	.L117:
 1828              		.align	2
 1829              	.L116:
 1830 06a4 ACFEFFFF 		.word	-340
 1831 06a8 A2020000 		.word	674
 1832 06ac 9E020000 		.word	670
 1833 06b0 8E020000 		.word	654
 1834 06b4 A5020000 		.word	677
 1835 06b8 91020000 		.word	657
 1836 06bc 00000000 		.word	Bootloader_SizeBytesAccess
 1837 06c0 9A020000 		.word	666
 1838 06c4 78FDFFFF 		.word	-648
 1839 06c8 00000000 		.word	.LC0
 1840 06cc A6020000 		.word	678
 1841 06d0 8A020000 		.word	650
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 79


 1842              	.L93:
 1843              		.loc 1 2585 0 discriminator 2
 1844 06d4 0A22     		movs	r2, #10
 1845              	.L94:
 1846              		.loc 1 2585 0 discriminator 4
 1847 06d6 974B     		ldr	r3, .L118
 1848 06d8 FB18     		adds	r3, r7, r3
 1849 06da 1A70     		strb	r2, [r3]
2586:Generated_Source\PSoC4/Bootloader.c ****                                                        Bootloader_NUMBER_OF_ROWS_IN_ARRAY);
2587:Generated_Source\PSoC4/Bootloader.c ****                     
2588:Generated_Source\PSoC4/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
 1850              		.loc 1 2588 0 is_stmt 1 discriminator 4
 1851 06dc 954B     		ldr	r3, .L118
 1852 06de FB18     		adds	r3, r7, r3
 1853 06e0 1B78     		ldrb	r3, [r3]
 1854 06e2 002B     		cmp	r3, #0
 1855 06e4 00D0     		beq	.LCB1568
 1856 06e6 FCE0     		b	.L113	@long jump
 1857              	.LCB1568:
2589:Generated_Source\PSoC4/Bootloader.c ****                         {
2590:Generated_Source\PSoC4/Bootloader.c ****                             break;
2591:Generated_Source\PSoC4/Bootloader.c ****                         }                     
2592:Generated_Source\PSoC4/Bootloader.c **** 
2593:Generated_Source\PSoC4/Bootloader.c ****                         checksum = Bootloader_Calc8BitSum(CY_FLASH_BASE, rowAddr, CYDEV_FLS_ROW_SIZ
 1858              		.loc 1 2593 0
 1859 06e8 934B     		ldr	r3, .L118+4
 1860 06ea FC18     		adds	r4, r7, r3
 1861 06ec A123     		movs	r3, #161
 1862 06ee 9B00     		lsls	r3, r3, #2
 1863 06f0 FB18     		adds	r3, r7, r3
 1864 06f2 1B68     		ldr	r3, [r3]
 1865 06f4 8022     		movs	r2, #128
 1866 06f6 1900     		movs	r1, r3
 1867 06f8 0020     		movs	r0, #0
 1868 06fa FFF7FEFF 		bl	Bootloader_Calc8BitSum
 1869 06fe 0300     		movs	r3, r0
 1870 0700 2370     		strb	r3, [r4]
2594:Generated_Source\PSoC4/Bootloader.c **** 
2595:Generated_Source\PSoC4/Bootloader.c ****                     #endif  /* (!CY_PSOC4) */
2596:Generated_Source\PSoC4/Bootloader.c **** 
2597:Generated_Source\PSoC4/Bootloader.c **** 
2598:Generated_Source\PSoC4/Bootloader.c ****                     /* Calculate checksum on data from ECC */
2599:Generated_Source\PSoC4/Bootloader.c ****                     #if(!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u)
2600:Generated_Source\PSoC4/Bootloader.c **** 
2601:Generated_Source\PSoC4/Bootloader.c ****                         if(btldrData <= Bootloader_LAST_FLASH_ARRAYID)
2602:Generated_Source\PSoC4/Bootloader.c ****                         {
2603:Generated_Source\PSoC4/Bootloader.c ****                             uint16 CYDATA tmpIndex;
2604:Generated_Source\PSoC4/Bootloader.c **** 
2605:Generated_Source\PSoC4/Bootloader.c ****                             rowAddr = CYDEV_ECC_BASE + ((uint32)btldrData * (CYDEV_FLS_SECTOR_SIZE 
2606:Generated_Source\PSoC4/Bootloader.c ****                                         + ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
2607:Generated_Source\PSoC4/Bootloader.c **** 
2608:Generated_Source\PSoC4/Bootloader.c ****                             for(tmpIndex = 0u; tmpIndex < CYDEV_ECC_ROW_SIZE; tmpIndex++)
2609:Generated_Source\PSoC4/Bootloader.c ****                             {
2610:Generated_Source\PSoC4/Bootloader.c ****                                 checksum += CY_GET_XTND_REG8((uint8 CYFAR *)(rowAddr + tmpIndex));
2611:Generated_Source\PSoC4/Bootloader.c ****                             }
2612:Generated_Source\PSoC4/Bootloader.c ****                         }
2613:Generated_Source\PSoC4/Bootloader.c **** 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 80


2614:Generated_Source\PSoC4/Bootloader.c ****                     #endif  /* (!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u) */
2615:Generated_Source\PSoC4/Bootloader.c **** 
2616:Generated_Source\PSoC4/Bootloader.c **** 
2617:Generated_Source\PSoC4/Bootloader.c ****                     /******************************************************************************
2618:Generated_Source\PSoC4/Bootloader.c ****                     * App Verified & App Active are information updated in flash at the runtime.
2619:Generated_Source\PSoC4/Bootloader.c ****                     * Remove these items from the checksum to allow the host to verify if everythin
2620:Generated_Source\PSoC4/Bootloader.c ****                     * correct.
2621:Generated_Source\PSoC4/Bootloader.c ****                      ******************************************************************************
2622:Generated_Source\PSoC4/Bootloader.c ****                     #if(!CY_PSOC4)
2623:Generated_Source\PSoC4/Bootloader.c ****                         tmpRowNum = rowNum; 
2624:Generated_Source\PSoC4/Bootloader.c ****                     #else
2625:Generated_Source\PSoC4/Bootloader.c ****                         tmpRowNum = rowNum + ((uint16)(Bootloader_NUMBER_OF_ROWS_IN_ARRAY * btldrDa
 1871              		.loc 1 2625 0
 1872 0702 8E4B     		ldr	r3, .L118+8
 1873 0704 FB18     		adds	r3, r7, r3
 1874 0706 1B78     		ldrb	r3, [r3]
 1875 0708 9BB2     		uxth	r3, r3
 1876 070a 1B02     		lsls	r3, r3, #8
 1877 070c 99B2     		uxth	r1, r3
 1878 070e 8C4B     		ldr	r3, .L118+12
 1879 0710 FB18     		adds	r3, r7, r3
 1880 0712 8C4A     		ldr	r2, .L118+16
 1881 0714 BA18     		adds	r2, r7, r2
 1882 0716 1288     		ldrh	r2, [r2]
 1883 0718 8A18     		adds	r2, r1, r2
 1884 071a 1A80     		strh	r2, [r3]
2626:Generated_Source\PSoC4/Bootloader.c ****                     #endif
2627:Generated_Source\PSoC4/Bootloader.c ****                     
2628:Generated_Source\PSoC4/Bootloader.c ****                     if((Bootloader_MD_FLASH_ARRAY_NUM == btldrData) && (Bootloader_CONTAIN_METADATA
 1885              		.loc 1 2628 0
 1886 071c 874B     		ldr	r3, .L118+8
 1887 071e FB18     		adds	r3, r7, r3
 1888 0720 1B78     		ldrb	r3, [r3]
 1889 0722 002B     		cmp	r3, #0
 1890 0724 1ED1     		bne	.L96
 1891              		.loc 1 2628 0 is_stmt 0 discriminator 1
 1892 0726 864B     		ldr	r3, .L118+12
 1893 0728 FB18     		adds	r3, r7, r3
 1894 072a 1B88     		ldrh	r3, [r3]
 1895 072c FF2B     		cmp	r3, #255
 1896 072e 19D1     		bne	.L96
2629:Generated_Source\PSoC4/Bootloader.c ****                     {
2630:Generated_Source\PSoC4/Bootloader.c **** 
2631:Generated_Source\PSoC4/Bootloader.c ****                         checksum -= (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE,
 1897              		.loc 1 2631 0 is_stmt 1
 1898 0730 0021     		movs	r1, #0
 1899 0732 0520     		movs	r0, #5
 1900 0734 FFF7FEFF 		bl	Bootloader_GetMetadata
 1901 0738 0300     		movs	r3, r0
 1902 073a DAB2     		uxtb	r2, r3
 1903 073c 7E4B     		ldr	r3, .L118+4
 1904 073e FB18     		adds	r3, r7, r3
 1905 0740 7D49     		ldr	r1, .L118+4
 1906 0742 7918     		adds	r1, r7, r1
 1907 0744 0978     		ldrb	r1, [r1]
 1908 0746 8A1A     		subs	r2, r1, r2
 1909 0748 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 81


2632:Generated_Source\PSoC4/Bootloader.c ****                                                                  Bootloader_GET_APP_ID(tmpRowNum));
2633:Generated_Source\PSoC4/Bootloader.c **** 
2634:Generated_Source\PSoC4/Bootloader.c ****                         checksum -= (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_STATUS,
 1910              		.loc 1 2634 0
 1911 074a 0021     		movs	r1, #0
 1912 074c 0620     		movs	r0, #6
 1913 074e FFF7FEFF 		bl	Bootloader_GetMetadata
 1914 0752 0300     		movs	r3, r0
 1915 0754 DAB2     		uxtb	r2, r3
 1916 0756 784B     		ldr	r3, .L118+4
 1917 0758 FB18     		adds	r3, r7, r3
 1918 075a 7749     		ldr	r1, .L118+4
 1919 075c 7918     		adds	r1, r7, r1
 1920 075e 0978     		ldrb	r1, [r1]
 1921 0760 8A1A     		subs	r2, r1, r2
 1922 0762 1A70     		strb	r2, [r3]
 1923              	.L96:
2635:Generated_Source\PSoC4/Bootloader.c ****                                                                  Bootloader_GET_APP_ID(tmpRowNum));
2636:Generated_Source\PSoC4/Bootloader.c ****                     }
2637:Generated_Source\PSoC4/Bootloader.c **** 
2638:Generated_Source\PSoC4/Bootloader.c ****                     packetBuffer[Bootloader_DATA_ADDR] = (uint8)1u + (uint8)(~checksum);
 1924              		.loc 1 2638 0
 1925 0764 744B     		ldr	r3, .L118+4
 1926 0766 FB18     		adds	r3, r7, r3
 1927 0768 1B78     		ldrb	r3, [r3]
 1928 076a 5B42     		rsbs	r3, r3, #0
 1929 076c DAB2     		uxtb	r2, r3
 1930 076e 764B     		ldr	r3, .L118+20
 1931 0770 AA21     		movs	r1, #170
 1932 0772 8900     		lsls	r1, r1, #2
 1933 0774 8C46     		mov	ip, r1
 1934 0776 BC44     		add	ip, ip, r7
 1935 0778 6344     		add	r3, r3, ip
 1936 077a 1A71     		strb	r2, [r3, #4]
2639:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1937              		.loc 1 2639 0
 1938 077c 6D4B     		ldr	r3, .L118
 1939 077e FB18     		adds	r3, r7, r3
 1940 0780 0022     		movs	r2, #0
 1941 0782 1A70     		strb	r2, [r3]
2640:Generated_Source\PSoC4/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_VERIFY_ROW_CHKSM;
 1942              		.loc 1 2640 0
 1943 0784 714B     		ldr	r3, .L118+24
 1944 0786 FB18     		adds	r3, r7, r3
 1945 0788 0122     		movs	r2, #1
 1946 078a 1A80     		strh	r2, [r3]
 1947              	.LBE11:
2641:Generated_Source\PSoC4/Bootloader.c ****                 }
2642:Generated_Source\PSoC4/Bootloader.c ****                 break;
 1948              		.loc 1 2642 0
 1949 078c A7E0     		b	.L112
 1950              	.L70:
2643:Generated_Source\PSoC4/Bootloader.c **** 
2644:Generated_Source\PSoC4/Bootloader.c ****             #endif /* (0u != Bootloader_CMD_GET_ROW_CHKSUM_AVAIL) */
2645:Generated_Source\PSoC4/Bootloader.c **** 
2646:Generated_Source\PSoC4/Bootloader.c **** 
2647:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 82


2648:Generated_Source\PSoC4/Bootloader.c ****             *   Exit bootloader (0x3B)
2649:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2650:Generated_Source\PSoC4/Bootloader.c ****             case Bootloader_COMMAND_EXIT:
2651:Generated_Source\PSoC4/Bootloader.c **** 
2652:Generated_Source\PSoC4/Bootloader.c ****                 /*******************************************************************************
2653:Generated_Source\PSoC4/Bootloader.c ****                 * Currently the copy flag is checked in the metadata for the second application. 
2654:Generated_Source\PSoC4/Bootloader.c ****                 * If it is set, then the copy operation is required and Launcher (BTLDR) should 
2655:Generated_Source\PSoC4/Bootloader.c ****                 * be scheduled.
2656:Generated_Source\PSoC4/Bootloader.c ****                 *******************************************************************************/
2657:Generated_Source\PSoC4/Bootloader.c ****             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2658:Generated_Source\PSoC4/Bootloader.c ****                 needToCopyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, 
2659:Generated_Source\PSoC4/Bootloader.c ****                                                         Bootloader_MD_BTLDB_ACTIVE_1);             
2660:Generated_Source\PSoC4/Bootloader.c ****         
2661:Generated_Source\PSoC4/Bootloader.c ****                 /* Checking "Need to copy" flag in metadata#1 */
2662:Generated_Source\PSoC4/Bootloader.c ****                 if (0u != (needToCopyFlag & Bootloader_NEED_TO_COPY_MASK))
2663:Generated_Source\PSoC4/Bootloader.c ****                 {  
2664:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR);
2665:Generated_Source\PSoC4/Bootloader.c ****                 }
2666:Generated_Source\PSoC4/Bootloader.c ****                 else
2667:Generated_Source\PSoC4/Bootloader.c ****             #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
2668:Generated_Source\PSoC4/Bootloader.c ****         
2669:Generated_Source\PSoC4/Bootloader.c ****                 if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(Bootloader_activeApp))
 1951              		.loc 1 2669 0
 1952 078e 0020     		movs	r0, #0
 1953 0790 FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 1954 0794 031E     		subs	r3, r0, #0
 1955 0796 02D1     		bne	.L97
2670:Generated_Source\PSoC4/Bootloader.c ****                 {
2671:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 1956              		.loc 1 2671 0
 1957 0798 6D4B     		ldr	r3, .L118+28
 1958 079a 8022     		movs	r2, #128
 1959 079c 1A60     		str	r2, [r3]
 1960              	.L97:
2672:Generated_Source\PSoC4/Bootloader.c ****                 }
2673:Generated_Source\PSoC4/Bootloader.c ****                 
2674:Generated_Source\PSoC4/Bootloader.c ****             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2675:Generated_Source\PSoC4/Bootloader.c ****                 Bootloader_isBootloading = Bootloader_BOOTLOADING_COMPLETED;
2676:Generated_Source\PSoC4/Bootloader.c ****             #endif /* CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER */    
2677:Generated_Source\PSoC4/Bootloader.c ****             
2678:Generated_Source\PSoC4/Bootloader.c ****                 CyBtldrCommStop();
 1961              		.loc 1 2678 0
 1962 079e FFF7FEFF 		bl	I2C_Slave_I2CCyBtldrCommStop
2679:Generated_Source\PSoC4/Bootloader.c ****                         
2680:Generated_Source\PSoC4/Bootloader.c ****                 CySoftwareReset();
 1963              		.loc 1 2680 0
 1964 07a2 FFF7FEFF 		bl	CySoftwareReset
2681:Generated_Source\PSoC4/Bootloader.c **** 
2682:Generated_Source\PSoC4/Bootloader.c ****                 /* Will never get here */
2683:Generated_Source\PSoC4/Bootloader.c ****                 break;
 1965              		.loc 1 2683 0
 1966 07a6 9DE0     		b	.L60
 1967              	.L61:
2684:Generated_Source\PSoC4/Bootloader.c **** 
2685:Generated_Source\PSoC4/Bootloader.c **** 
2686:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2687:Generated_Source\PSoC4/Bootloader.c ****             *   Unsupported command
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 83


2688:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2689:Generated_Source\PSoC4/Bootloader.c ****             default:
2690:Generated_Source\PSoC4/Bootloader.c ****             
2691:Generated_Source\PSoC4/Bootloader.c ****             #if (!CY_PSOC3)
2692:Generated_Source\PSoC4/Bootloader.c ****                 if ((NULL != Bootloader_callback) && (Bootloader_COMMUNICATION_STATE_ACTIVE == comm
 1968              		.loc 1 2692 0
 1969 07a8 6A4B     		ldr	r3, .L118+32
 1970 07aa 1B68     		ldr	r3, [r3]
 1971 07ac 002B     		cmp	r3, #0
 1972 07ae 00D1     		bne	.LCB1674
 1973 07b0 83E0     		b	.L98	@long jump
 1974              	.LCB1674:
 1975              		.loc 1 2692 0 is_stmt 0 discriminator 1
 1976 07b2 A823     		movs	r3, #168
 1977 07b4 9B00     		lsls	r3, r3, #2
 1978 07b6 FB18     		adds	r3, r7, r3
 1979 07b8 1B78     		ldrb	r3, [r3]
 1980 07ba 012B     		cmp	r3, #1
 1981 07bc 00D0     		beq	.LCB1680
 1982 07be 7CE0     		b	.L98	@long jump
 1983              	.LCB1680:
 1984              	.LBB12:
2693:Generated_Source\PSoC4/Bootloader.c ****                 {
2694:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
2695:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_out_packet_type Bootloader_outPacket;
2696:Generated_Source\PSoC4/Bootloader.c **** 
2697:Generated_Source\PSoC4/Bootloader.c ****                     /* Initializing input packet */
2698:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_inPacket.command = packetBuffer[Bootloader_CMD_ADDR];
 1985              		.loc 1 2698 0 is_stmt 1
 1986 07c0 614B     		ldr	r3, .L118+20
 1987 07c2 AA22     		movs	r2, #170
 1988 07c4 9200     		lsls	r2, r2, #2
 1989 07c6 9446     		mov	ip, r2
 1990 07c8 BC44     		add	ip, ip, r7
 1991 07ca 6344     		add	r3, r3, ip
 1992 07cc 5A78     		ldrb	r2, [r3, #1]
 1993 07ce 624B     		ldr	r3, .L118+36
 1994 07d0 AA21     		movs	r1, #170
 1995 07d2 8900     		lsls	r1, r1, #2
 1996 07d4 8C46     		mov	ip, r1
 1997 07d6 BC44     		add	ip, ip, r7
 1998 07d8 6344     		add	r3, r3, ip
 1999 07da 1A70     		strb	r2, [r3]
2699:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_inPacket.packetLength = pktSize;
 2000              		.loc 1 2699 0
 2001 07dc 5E4B     		ldr	r3, .L118+36
 2002 07de AA22     		movs	r2, #170
 2003 07e0 9200     		lsls	r2, r2, #2
 2004 07e2 9446     		mov	ip, r2
 2005 07e4 BC44     		add	ip, ip, r7
 2006 07e6 6344     		add	r3, r3, ip
 2007 07e8 5C4A     		ldr	r2, .L118+40
 2008 07ea BA18     		adds	r2, r7, r2
 2009 07ec 1288     		ldrh	r2, [r2]
 2010 07ee 5A80     		strh	r2, [r3, #2]
2700:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_inPacket.pInputBuffer = &packetBuffer[Bootloader_DATA_ADDR];
 2011              		.loc 1 2700 0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 84


 2012 07f0 594B     		ldr	r3, .L118+36
 2013 07f2 AA22     		movs	r2, #170
 2014 07f4 9200     		lsls	r2, r2, #2
 2015 07f6 9446     		mov	ip, r2
 2016 07f8 BC44     		add	ip, ip, r7
 2017 07fa 6344     		add	r3, r3, ip
 2018 07fc AA22     		movs	r2, #170
 2019 07fe 5200     		lsls	r2, r2, #1
 2020 0800 BA18     		adds	r2, r7, r2
 2021 0802 0432     		adds	r2, r2, #4
 2022 0804 5A60     		str	r2, [r3, #4]
2701:Generated_Source\PSoC4/Bootloader.c ****                                         
2702:Generated_Source\PSoC4/Bootloader.c ****                     /* Clearing and setting output packet */
2703:Generated_Source\PSoC4/Bootloader.c ****                     (void) memset(&Bootloader_outPacket, 0, sizeof(Bootloader_outPacket));
 2023              		.loc 1 2703 0
 2024 0806 0C23     		movs	r3, #12
 2025 0808 FB18     		adds	r3, r7, r3
 2026 080a 0C22     		movs	r2, #12
 2027 080c 0021     		movs	r1, #0
 2028 080e 1800     		movs	r0, r3
 2029 0810 FFF7FEFF 		bl	memset
2704:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_outPacket.pOutputBuffer = &packetBuffer[Bootloader_DATA_ADDR];
 2030              		.loc 1 2704 0
 2031 0814 524B     		ldr	r3, .L118+44
 2032 0816 AA22     		movs	r2, #170
 2033 0818 9200     		lsls	r2, r2, #2
 2034 081a 9446     		mov	ip, r2
 2035 081c BC44     		add	ip, ip, r7
 2036 081e 6344     		add	r3, r3, ip
 2037 0820 AA22     		movs	r2, #170
 2038 0822 5200     		lsls	r2, r2, #1
 2039 0824 BA18     		adds	r2, r7, r2
 2040 0826 0432     		adds	r2, r2, #4
 2041 0828 9A60     		str	r2, [r3, #8]
2705:Generated_Source\PSoC4/Bootloader.c ****                     
2706:Generated_Source\PSoC4/Bootloader.c ****                     /* Callback */
2707:Generated_Source\PSoC4/Bootloader.c ****                     (void) Bootloader_callback(&Bootloader_inPacket, &Bootloader_outPacket);
 2042              		.loc 1 2707 0
 2043 082a 4A4B     		ldr	r3, .L118+32
 2044 082c 1B68     		ldr	r3, [r3]
 2045 082e 0C22     		movs	r2, #12
 2046 0830 B918     		adds	r1, r7, r2
 2047 0832 1822     		movs	r2, #24
 2048 0834 BA18     		adds	r2, r7, r2
 2049 0836 1000     		movs	r0, r2
 2050 0838 9847     		blx	r3
2708:Generated_Source\PSoC4/Bootloader.c **** 
2709:Generated_Source\PSoC4/Bootloader.c ****                     rspSize = Bootloader_outPacket.packetLength;
 2051              		.loc 1 2709 0
 2052 083a 444B     		ldr	r3, .L118+24
 2053 083c FB18     		adds	r3, r7, r3
 2054 083e 484A     		ldr	r2, .L118+44
 2055 0840 AA21     		movs	r1, #170
 2056 0842 8900     		lsls	r1, r1, #2
 2057 0844 8C46     		mov	ip, r1
 2058 0846 BC44     		add	ip, ip, r7
 2059 0848 6244     		add	r2, r2, ip
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 85


 2060 084a 9288     		ldrh	r2, [r2, #4]
 2061 084c 1A80     		strh	r2, [r3]
2710:Generated_Source\PSoC4/Bootloader.c ****                     if (((rspSize > (Bootloader_SIZEOF_COMMAND_BUFFER - Bootloader_MIN_PKT_SIZE)) &
 2062              		.loc 1 2710 0
 2063 084e 3F4B     		ldr	r3, .L118+24
 2064 0850 FB18     		adds	r3, r7, r3
 2065 0852 1A88     		ldrh	r2, [r3]
 2066 0854 2623     		movs	r3, #38
 2067 0856 FF33     		adds	r3, r3, #255
 2068 0858 9A42     		cmp	r2, r3
 2069 085a 0CD9     		bls	.L99
2711:Generated_Source\PSoC4/Bootloader.c ****                          (Bootloader_outPacket.pOutputBuffer == &packetBuffer[Bootloader_DATA_ADDR]
 2070              		.loc 1 2711 0 discriminator 1
 2071 085c 404B     		ldr	r3, .L118+44
 2072 085e AA22     		movs	r2, #170
 2073 0860 9200     		lsls	r2, r2, #2
 2074 0862 9446     		mov	ip, r2
 2075 0864 BC44     		add	ip, ip, r7
 2076 0866 6344     		add	r3, r3, ip
 2077 0868 9A68     		ldr	r2, [r3, #8]
2710:Generated_Source\PSoC4/Bootloader.c ****                     if (((rspSize > (Bootloader_SIZEOF_COMMAND_BUFFER - Bootloader_MIN_PKT_SIZE)) &
 2078              		.loc 1 2710 0 discriminator 1
 2079 086a AA23     		movs	r3, #170
 2080 086c 5B00     		lsls	r3, r3, #1
 2081 086e FB18     		adds	r3, r7, r3
 2082 0870 0433     		adds	r3, r3, #4
 2083 0872 9A42     		cmp	r2, r3
 2084 0874 0DD0     		beq	.L100
 2085              	.L99:
2712:Generated_Source\PSoC4/Bootloader.c ****                         ((NULL == Bootloader_outPacket.pOutputBuffer) && (0u != rspSize)))
 2086              		.loc 1 2712 0
 2087 0876 3A4B     		ldr	r3, .L118+44
 2088 0878 AA22     		movs	r2, #170
 2089 087a 9200     		lsls	r2, r2, #2
 2090 087c 9446     		mov	ip, r2
 2091 087e BC44     		add	ip, ip, r7
 2092 0880 6344     		add	r3, r3, ip
 2093 0882 9B68     		ldr	r3, [r3, #8]
2711:Generated_Source\PSoC4/Bootloader.c ****                          (Bootloader_outPacket.pOutputBuffer == &packetBuffer[Bootloader_DATA_ADDR]
 2094              		.loc 1 2711 0
 2095 0884 002B     		cmp	r3, #0
 2096 0886 0DD1     		bne	.L101
 2097              		.loc 1 2712 0
 2098 0888 304B     		ldr	r3, .L118+24
 2099 088a FB18     		adds	r3, r7, r3
 2100 088c 1B88     		ldrh	r3, [r3]
 2101 088e 002B     		cmp	r3, #0
 2102 0890 08D0     		beq	.L101
 2103              	.L100:
2713:Generated_Source\PSoC4/Bootloader.c ****                     {                    
2714:Generated_Source\PSoC4/Bootloader.c ****                         /* One of returned parameters is wrong */
2715:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = Bootloader_ERR_CALLBACK;
 2104              		.loc 1 2715 0
 2105 0892 284B     		ldr	r3, .L118
 2106 0894 FB18     		adds	r3, r7, r3
 2107 0896 0E22     		movs	r2, #14
 2108 0898 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 86


2716:Generated_Source\PSoC4/Bootloader.c ****                         rspSize = 0u;
 2109              		.loc 1 2716 0
 2110 089a 2C4B     		ldr	r3, .L118+24
 2111 089c FB18     		adds	r3, r7, r3
 2112 089e 0022     		movs	r2, #0
 2113 08a0 1A80     		strh	r2, [r3]
 2114              	.LBE12:
2693:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
 2115              		.loc 1 2693 0
 2116 08a2 0FE0     		b	.L103
 2117              	.L101:
 2118              	.LBB13:
2717:Generated_Source\PSoC4/Bootloader.c ****                     }
2718:Generated_Source\PSoC4/Bootloader.c ****                     else /* Everything is OK */
2719:Generated_Source\PSoC4/Bootloader.c ****                     {
2720:Generated_Source\PSoC4/Bootloader.c ****                         ackCode = (uint8)Bootloader_outPacket.status;
 2119              		.loc 1 2720 0
 2120 08a4 2E4B     		ldr	r3, .L118+44
 2121 08a6 AA22     		movs	r2, #170
 2122 08a8 9200     		lsls	r2, r2, #2
 2123 08aa 9446     		mov	ip, r2
 2124 08ac BC44     		add	ip, ip, r7
 2125 08ae 6344     		add	r3, r3, ip
 2126 08b0 1A68     		ldr	r2, [r3]
 2127 08b2 204B     		ldr	r3, .L118
 2128 08b4 FB18     		adds	r3, r7, r3
 2129 08b6 1A70     		strb	r2, [r3]
 2130              	.LBE13:
2693:Generated_Source\PSoC4/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
 2131              		.loc 1 2693 0
 2132 08b8 04E0     		b	.L103
 2133              	.L98:
2721:Generated_Source\PSoC4/Bootloader.c ****                     }
2722:Generated_Source\PSoC4/Bootloader.c ****                 }    
2723:Generated_Source\PSoC4/Bootloader.c ****                 else /* No callback function defined, so return "Error Command" status */
2724:Generated_Source\PSoC4/Bootloader.c ****             #endif /* (!CY_PSOC3) */
2725:Generated_Source\PSoC4/Bootloader.c ****                 {
2726:Generated_Source\PSoC4/Bootloader.c ****                     ackCode = Bootloader_ERR_CMD;
 2134              		.loc 1 2726 0
 2135 08ba 1E4B     		ldr	r3, .L118
 2136 08bc FB18     		adds	r3, r7, r3
 2137 08be 0522     		movs	r2, #5
 2138 08c0 1A70     		strb	r2, [r3]
2727:Generated_Source\PSoC4/Bootloader.c ****                 }    
2728:Generated_Source\PSoC4/Bootloader.c ****                 break;
 2139              		.loc 1 2728 0
 2140 08c2 0FE0     		b	.L60
 2141              	.L103:
 2142              		.loc 1 2728 0 is_stmt 0 discriminator 2
 2143 08c4 0EE0     		b	.L60
 2144              	.L106:
1828:Generated_Source\PSoC4/Bootloader.c ****         #endif /* (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL) */
 2145              		.loc 1 1828 0 is_stmt 1
 2146 08c6 C046     		nop
 2147 08c8 0CE0     		b	.L60
 2148              	.L107:
2017:Generated_Source\PSoC4/Bootloader.c **** 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 87


 2149              		.loc 1 2017 0
 2150 08ca C046     		nop
 2151 08cc 0AE0     		b	.L60
 2152              	.L108:
2361:Generated_Source\PSoC4/Bootloader.c **** 
 2153              		.loc 1 2361 0
 2154 08ce C046     		nop
 2155 08d0 08E0     		b	.L60
 2156              	.L109:
 2157              	.LBB14:
 2158              	.LBB9:
2154:Generated_Source\PSoC4/Bootloader.c ****                         }
 2159              		.loc 1 2154 0
 2160 08d2 C046     		nop
 2161 08d4 06E0     		b	.L60
 2162              	.L110:
 2163              	.LBE9:
 2164              	.LBE14:
2379:Generated_Source\PSoC4/Bootloader.c **** 
 2165              		.loc 1 2379 0
 2166 08d6 C046     		nop
 2167 08d8 04E0     		b	.L60
 2168              	.L111:
2443:Generated_Source\PSoC4/Bootloader.c **** 
 2169              		.loc 1 2443 0
 2170 08da C046     		nop
 2171 08dc 02E0     		b	.L60
 2172              	.L112:
2642:Generated_Source\PSoC4/Bootloader.c **** 
 2173              		.loc 1 2642 0
 2174 08de C046     		nop
 2175 08e0 00E0     		b	.L60
 2176              	.L113:
 2177              	.LBB15:
2590:Generated_Source\PSoC4/Bootloader.c ****                         }                     
 2178              		.loc 1 2590 0
 2179 08e2 C046     		nop
 2180              	.L60:
 2181              	.LBE15:
 2182              	.LBE5:
2729:Generated_Source\PSoC4/Bootloader.c ****             }
2730:Generated_Source\PSoC4/Bootloader.c ****         }
2731:Generated_Source\PSoC4/Bootloader.c **** 
2732:Generated_Source\PSoC4/Bootloader.c ****         /* Reply with acknowledge or not acknowledge packet */
2733:Generated_Source\PSoC4/Bootloader.c ****         (void) Bootloader_WritePacket(ackCode, packetBuffer, rspSize);
 2183              		.loc 1 2733 0
 2184 08e4 194B     		ldr	r3, .L118+24
 2185 08e6 FB18     		adds	r3, r7, r3
 2186 08e8 1A88     		ldrh	r2, [r3]
 2187 08ea AA23     		movs	r3, #170
 2188 08ec 5B00     		lsls	r3, r3, #1
 2189 08ee F918     		adds	r1, r7, r3
 2190 08f0 104B     		ldr	r3, .L118
 2191 08f2 FB18     		adds	r3, r7, r3
 2192 08f4 1B78     		ldrb	r3, [r3]
 2193 08f6 1800     		movs	r0, r3
 2194 08f8 FFF7FEFF 		bl	Bootloader_WritePacket
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 88


 2195 08fc 00E0     		b	.L53
 2196              	.L105:
1722:Generated_Source\PSoC4/Bootloader.c ****         }
 2197              		.loc 1 1722 0
 2198 08fe C046     		nop
 2199              	.L53:
2734:Generated_Source\PSoC4/Bootloader.c ****    
2735:Generated_Source\PSoC4/Bootloader.c ****     } while ((0u == timeOut) || (Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState));
 2200              		.loc 1 2735 0
 2201 0900 184B     		ldr	r3, .L118+48
 2202 0902 AA22     		movs	r2, #170
 2203 0904 9200     		lsls	r2, r2, #2
 2204 0906 9446     		mov	ip, r2
 2205 0908 BC44     		add	ip, ip, r7
 2206 090a 6344     		add	r3, r3, ip
 2207 090c 1B78     		ldrb	r3, [r3]
 2208 090e 002B     		cmp	r3, #0
 2209 0910 01D1     		bne	.LCB1900
 2210 0912 FFF795FB 		bl	.L104	@far jump
 2211              	.LCB1900:
 2212              		.loc 1 2735 0 is_stmt 0 discriminator 1
 2213 0916 A823     		movs	r3, #168
 2214 0918 9B00     		lsls	r3, r3, #2
 2215 091a FB18     		adds	r3, r7, r3
 2216 091c 1B78     		ldrb	r3, [r3]
 2217 091e 012B     		cmp	r3, #1
 2218 0920 01D1     		bne	.LCB1906
 2219 0922 FFF78DFB 		bl	.L104	@far jump
 2220              	.LCB1906:
2736:Generated_Source\PSoC4/Bootloader.c **** }
 2221              		.loc 1 2736 0 is_stmt 1
 2222 0926 C046     		nop
 2223 0928 BD46     		mov	sp, r7
 2224 092a AB23     		movs	r3, #171
 2225 092c 9B00     		lsls	r3, r3, #2
 2226 092e 9D44     		add	sp, sp, r3
 2227              		@ sp needed
 2228 0930 90BD     		pop	{r4, r7, pc}
 2229              	.L119:
 2230 0932 C046     		.align	2
 2231              	.L118:
 2232 0934 A5020000 		.word	677
 2233 0938 99020000 		.word	665
 2234 093c 91020000 		.word	657
 2235 0940 82020000 		.word	642
 2236 0944 8A020000 		.word	650
 2237 0948 ACFEFFFF 		.word	-340
 2238 094c A6020000 		.word	678
 2239 0950 00000000 		.word	cyBtldrRunType
 2240 0954 00000000 		.word	Bootloader_callback
 2241 0958 70FDFFFF 		.word	-656
 2242 095c A2020000 		.word	674
 2243 0960 64FDFFFF 		.word	-668
 2244 0964 5FFDFFFF 		.word	-673
 2245              		.cfi_endproc
 2246              	.LFE41:
 2247              		.size	Bootloader_HostLink, .-Bootloader_HostLink
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 89


 2248              		.section	.text.Bootloader_WritePacket,"ax",%progbits
 2249              		.align	2
 2250              		.code	16
 2251              		.thumb_func
 2252              		.type	Bootloader_WritePacket, %function
 2253              	Bootloader_WritePacket:
 2254              	.LFB42:
2737:Generated_Source\PSoC4/Bootloader.c **** 
2738:Generated_Source\PSoC4/Bootloader.c **** 
2739:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
2740:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_WritePacket
2741:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
2742:Generated_Source\PSoC4/Bootloader.c **** * \internal
2743:Generated_Source\PSoC4/Bootloader.c **** *
2744:Generated_Source\PSoC4/Bootloader.c **** * \brief
2745:Generated_Source\PSoC4/Bootloader.c **** *  Creates a bootloader response packet and transmits it back to the bootloader
2746:Generated_Source\PSoC4/Bootloader.c **** *  host application over the already established communications protocol.
2747:Generated_Source\PSoC4/Bootloader.c **** *
2748:Generated_Source\PSoC4/Bootloader.c **** *  \param status
2749:Generated_Source\PSoC4/Bootloader.c **** *      The status code to pass back as the second byte of the packet.
2750:Generated_Source\PSoC4/Bootloader.c **** *  \param buffer
2751:Generated_Source\PSoC4/Bootloader.c **** *      The buffer containing the data portion of the packet.
2752:Generated_Source\PSoC4/Bootloader.c **** *  \param size
2753:Generated_Source\PSoC4/Bootloader.c **** *      The number of bytes contained within the buffer to pass back.
2754:Generated_Source\PSoC4/Bootloader.c **** *
2755:Generated_Source\PSoC4/Bootloader.c **** * \return
2756:Generated_Source\PSoC4/Bootloader.c **** *   CYRET_SUCCESS if successful. Any other non-zero value if a failure occurred.
2757:Generated_Source\PSoC4/Bootloader.c **** *
2758:Generated_Source\PSoC4/Bootloader.c **** * \endinternal
2759:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
2760:Generated_Source\PSoC4/Bootloader.c **** static cystatus Bootloader_WritePacket(uint8 status, uint8 buffer[], uint16 size) CYSMALL \
2761:Generated_Source\PSoC4/Bootloader.c ****                                             
2762:Generated_Source\PSoC4/Bootloader.c **** {
 2255              		.loc 1 2762 0
 2256              		.cfi_startproc
 2257              		@ args = 0, pretend = 0, frame = 16
 2258              		@ frame_needed = 1, uses_anonymous_args = 0
 2259 0000 90B5     		push	{r4, r7, lr}
 2260              		.cfi_def_cfa_offset 12
 2261              		.cfi_offset 4, -12
 2262              		.cfi_offset 7, -8
 2263              		.cfi_offset 14, -4
 2264 0002 85B0     		sub	sp, sp, #20
 2265              		.cfi_def_cfa_offset 32
 2266 0004 00AF     		add	r7, sp, #0
 2267              		.cfi_def_cfa_register 7
 2268 0006 3960     		str	r1, [r7]
 2269 0008 1100     		movs	r1, r2
 2270 000a FB1D     		adds	r3, r7, #7
 2271 000c 021C     		adds	r2, r0, #0
 2272 000e 1A70     		strb	r2, [r3]
 2273 0010 3B1D     		adds	r3, r7, #4
 2274 0012 0A1C     		adds	r2, r1, #0
 2275 0014 1A80     		strh	r2, [r3]
2763:Generated_Source\PSoC4/Bootloader.c ****     uint16 CYDATA checksum;
2764:Generated_Source\PSoC4/Bootloader.c **** 
2765:Generated_Source\PSoC4/Bootloader.c ****     /* Start of packet. */
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 90


2766:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_SOP_ADDR]      = Bootloader_SOP;
 2276              		.loc 1 2766 0
 2277 0016 3B68     		ldr	r3, [r7]
 2278 0018 0122     		movs	r2, #1
 2279 001a 1A70     		strb	r2, [r3]
2767:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_CMD_ADDR]      = status;
 2280              		.loc 1 2767 0
 2281 001c 3B68     		ldr	r3, [r7]
 2282 001e 0133     		adds	r3, r3, #1
 2283 0020 FA1D     		adds	r2, r7, #7
 2284 0022 1278     		ldrb	r2, [r2]
 2285 0024 1A70     		strb	r2, [r3]
2768:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_SIZE_ADDR]     = LO8(size);
 2286              		.loc 1 2768 0
 2287 0026 3B68     		ldr	r3, [r7]
 2288 0028 0233     		adds	r3, r3, #2
 2289 002a 3A1D     		adds	r2, r7, #4
 2290 002c 1288     		ldrh	r2, [r2]
 2291 002e D2B2     		uxtb	r2, r2
 2292 0030 1A70     		strb	r2, [r3]
2769:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_SIZE_ADDR + 1u] = HI8(size);
 2293              		.loc 1 2769 0
 2294 0032 3B68     		ldr	r3, [r7]
 2295 0034 0333     		adds	r3, r3, #3
 2296 0036 3A1D     		adds	r2, r7, #4
 2297 0038 1288     		ldrh	r2, [r2]
 2298 003a 120A     		lsrs	r2, r2, #8
 2299 003c 92B2     		uxth	r2, r2
 2300 003e D2B2     		uxtb	r2, r2
 2301 0040 1A70     		strb	r2, [r3]
2770:Generated_Source\PSoC4/Bootloader.c **** 
2771:Generated_Source\PSoC4/Bootloader.c ****     /* Compute checksum. */
2772:Generated_Source\PSoC4/Bootloader.c ****     checksum = Bootloader_CalcPacketChecksum(buffer, size + Bootloader_DATA_ADDR);
 2302              		.loc 1 2772 0
 2303 0042 3B1D     		adds	r3, r7, #4
 2304 0044 1B88     		ldrh	r3, [r3]
 2305 0046 0433     		adds	r3, r3, #4
 2306 0048 9AB2     		uxth	r2, r3
 2307 004a 0E23     		movs	r3, #14
 2308 004c FC18     		adds	r4, r7, r3
 2309 004e 3B68     		ldr	r3, [r7]
 2310 0050 1100     		movs	r1, r2
 2311 0052 1800     		movs	r0, r3
 2312 0054 FFF7FEFF 		bl	Bootloader_CalcPacketChecksum
 2313 0058 0300     		movs	r3, r0
 2314 005a 2380     		strh	r3, [r4]
2773:Generated_Source\PSoC4/Bootloader.c **** 
2774:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_CHK_ADDR(size)]     = LO8(checksum);
 2315              		.loc 1 2774 0
 2316 005c 3B1D     		adds	r3, r7, #4
 2317 005e 1B88     		ldrh	r3, [r3]
 2318 0060 0433     		adds	r3, r3, #4
 2319 0062 3A68     		ldr	r2, [r7]
 2320 0064 D318     		adds	r3, r2, r3
 2321 0066 0E22     		movs	r2, #14
 2322 0068 BA18     		adds	r2, r7, r2
 2323 006a 1288     		ldrh	r2, [r2]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 91


 2324 006c D2B2     		uxtb	r2, r2
 2325 006e 1A70     		strb	r2, [r3]
2775:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_CHK_ADDR(1u + size)] = HI8(checksum);
 2326              		.loc 1 2775 0
 2327 0070 3B1D     		adds	r3, r7, #4
 2328 0072 1B88     		ldrh	r3, [r3]
 2329 0074 0533     		adds	r3, r3, #5
 2330 0076 3A68     		ldr	r2, [r7]
 2331 0078 D318     		adds	r3, r2, r3
 2332 007a 0E22     		movs	r2, #14
 2333 007c BA18     		adds	r2, r7, r2
 2334 007e 1288     		ldrh	r2, [r2]
 2335 0080 120A     		lsrs	r2, r2, #8
 2336 0082 92B2     		uxth	r2, r2
 2337 0084 D2B2     		uxtb	r2, r2
 2338 0086 1A70     		strb	r2, [r3]
2776:Generated_Source\PSoC4/Bootloader.c ****     buffer[Bootloader_EOP_ADDR(size)]     = Bootloader_EOP;
 2339              		.loc 1 2776 0
 2340 0088 3B1D     		adds	r3, r7, #4
 2341 008a 1B88     		ldrh	r3, [r3]
 2342 008c 0633     		adds	r3, r3, #6
 2343 008e 3A68     		ldr	r2, [r7]
 2344 0090 D318     		adds	r3, r2, r3
 2345 0092 1722     		movs	r2, #23
 2346 0094 1A70     		strb	r2, [r3]
2777:Generated_Source\PSoC4/Bootloader.c **** 
2778:Generated_Source\PSoC4/Bootloader.c ****     /* Start packet transmit. */
2779:Generated_Source\PSoC4/Bootloader.c ****     return(CyBtldrCommWrite(buffer, size + Bootloader_MIN_PKT_SIZE, &size, 150u));
 2347              		.loc 1 2779 0
 2348 0096 3B1D     		adds	r3, r7, #4
 2349 0098 1B88     		ldrh	r3, [r3]
 2350 009a 0733     		adds	r3, r3, #7
 2351 009c 99B2     		uxth	r1, r3
 2352 009e 3A1D     		adds	r2, r7, #4
 2353 00a0 3868     		ldr	r0, [r7]
 2354 00a2 9623     		movs	r3, #150
 2355 00a4 FFF7FEFF 		bl	I2C_Slave_I2CCyBtldrCommWrite
 2356 00a8 0300     		movs	r3, r0
2780:Generated_Source\PSoC4/Bootloader.c **** }
 2357              		.loc 1 2780 0
 2358 00aa 1800     		movs	r0, r3
 2359 00ac BD46     		mov	sp, r7
 2360 00ae 05B0     		add	sp, sp, #20
 2361              		@ sp needed
 2362 00b0 90BD     		pop	{r4, r7, pc}
 2363              		.cfi_endproc
 2364              	.LFE42:
 2365              		.size	Bootloader_WritePacket, .-Bootloader_WritePacket
 2366 00b2 C046     		.section	.text.Bootloader_SetFlashByte,"ax",%progbits
 2367              		.align	2
 2368              		.global	Bootloader_SetFlashByte
 2369              		.code	16
 2370              		.thumb_func
 2371              		.type	Bootloader_SetFlashByte, %function
 2372              	Bootloader_SetFlashByte:
 2373              	.LFB43:
2781:Generated_Source\PSoC4/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)*/
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 92


2782:Generated_Source\PSoC4/Bootloader.c **** 
2783:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
2784:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_SetFlashByte
2785:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
2786:Generated_Source\PSoC4/Bootloader.c **** *
2787:Generated_Source\PSoC4/Bootloader.c **** * \brief
2788:Generated_Source\PSoC4/Bootloader.c **** *  Writes a byte to the specified flash memory location.
2789:Generated_Source\PSoC4/Bootloader.c **** *
2790:Generated_Source\PSoC4/Bootloader.c **** * \param address
2791:Generated_Source\PSoC4/Bootloader.c **** *      The address in flash memory where data will be written.
2792:Generated_Source\PSoC4/Bootloader.c **** * \param runType:
2793:Generated_Source\PSoC4/Bootloader.c **** *      The byte to be written.
2794:Generated_Source\PSoC4/Bootloader.c **** *
2795:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
2796:Generated_Source\PSoC4/Bootloader.c **** void Bootloader_SetFlashByte(uint32 address, uint8 runType) 
2797:Generated_Source\PSoC4/Bootloader.c **** {
 2374              		.loc 1 2797 0
 2375              		.cfi_startproc
 2376              		@ args = 0, pretend = 0, frame = 152
 2377              		@ frame_needed = 1, uses_anonymous_args = 0
 2378 0000 80B5     		push	{r7, lr}
 2379              		.cfi_def_cfa_offset 8
 2380              		.cfi_offset 7, -8
 2381              		.cfi_offset 14, -4
 2382 0002 A6B0     		sub	sp, sp, #152
 2383              		.cfi_def_cfa_offset 160
 2384 0004 00AF     		add	r7, sp, #0
 2385              		.cfi_def_cfa_register 7
 2386 0006 7860     		str	r0, [r7, #4]
 2387 0008 0A00     		movs	r2, r1
 2388 000a FB1C     		adds	r3, r7, #3
 2389 000c 1A70     		strb	r2, [r3]
2798:Generated_Source\PSoC4/Bootloader.c ****     uint32 flsAddr = address - CYDEV_FLASH_BASE;
 2390              		.loc 1 2798 0
 2391 000e 7B68     		ldr	r3, [r7, #4]
 2392 0010 9022     		movs	r2, #144
 2393 0012 BA18     		adds	r2, r7, r2
 2394 0014 1360     		str	r3, [r2]
2799:Generated_Source\PSoC4/Bootloader.c ****     uint8  rowData[CYDEV_FLS_ROW_SIZE];
2800:Generated_Source\PSoC4/Bootloader.c **** 
2801:Generated_Source\PSoC4/Bootloader.c ****     #if !(CY_PSOC4)
2802:Generated_Source\PSoC4/Bootloader.c ****         uint8 arrayId = ( uint8 )(flsAddr / CYDEV_FLS_SECTOR_SIZE);
2803:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* !(CY_PSOC4) */
2804:Generated_Source\PSoC4/Bootloader.c **** 
2805:Generated_Source\PSoC4/Bootloader.c ****     #if (CY_PSOC4)
2806:Generated_Source\PSoC4/Bootloader.c ****         uint16 rowNum = ( uint16 )(flsAddr / CYDEV_FLS_ROW_SIZE);
 2395              		.loc 1 2806 0
 2396 0016 9023     		movs	r3, #144
 2397 0018 FB18     		adds	r3, r7, r3
 2398 001a 1B68     		ldr	r3, [r3]
 2399 001c DA09     		lsrs	r2, r3, #7
 2400 001e 8E23     		movs	r3, #142
 2401 0020 FB18     		adds	r3, r7, r3
 2402 0022 1A80     		strh	r2, [r3]
2807:Generated_Source\PSoC4/Bootloader.c ****     #else
2808:Generated_Source\PSoC4/Bootloader.c ****         uint16 rowNum = ( uint16 )((flsAddr % CYDEV_FLS_SECTOR_SIZE) / CYDEV_FLS_ROW_SIZE);
2809:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (CY_PSOC4) */
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 93


2810:Generated_Source\PSoC4/Bootloader.c **** 
2811:Generated_Source\PSoC4/Bootloader.c ****     uint32 baseAddr = address - (address % CYDEV_FLS_ROW_SIZE);
 2403              		.loc 1 2811 0
 2404 0024 7B68     		ldr	r3, [r7, #4]
 2405 0026 7F22     		movs	r2, #127
 2406 0028 9343     		bics	r3, r2
 2407 002a 8822     		movs	r2, #136
 2408 002c BA18     		adds	r2, r7, r2
 2409 002e 1360     		str	r3, [r2]
2812:Generated_Source\PSoC4/Bootloader.c ****     uint16 idx;
2813:Generated_Source\PSoC4/Bootloader.c **** 
2814:Generated_Source\PSoC4/Bootloader.c ****     for(idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 2410              		.loc 1 2814 0
 2411 0030 9623     		movs	r3, #150
 2412 0032 FB18     		adds	r3, r7, r3
 2413 0034 0022     		movs	r2, #0
 2414 0036 1A80     		strh	r2, [r3]
 2415 0038 14E0     		b	.L123
 2416              	.L124:
2815:Generated_Source\PSoC4/Bootloader.c ****     {
2816:Generated_Source\PSoC4/Bootloader.c ****         rowData[idx] = Bootloader_GET_CODE_BYTE(baseAddr + idx);
 2417              		.loc 1 2816 0 discriminator 3
 2418 003a 9623     		movs	r3, #150
 2419 003c FB18     		adds	r3, r7, r3
 2420 003e 1B88     		ldrh	r3, [r3]
 2421 0040 9622     		movs	r2, #150
 2422 0042 BA18     		adds	r2, r7, r2
 2423 0044 1188     		ldrh	r1, [r2]
 2424 0046 8822     		movs	r2, #136
 2425 0048 BA18     		adds	r2, r7, r2
 2426 004a 1268     		ldr	r2, [r2]
 2427 004c 8A18     		adds	r2, r1, r2
 2428 004e 1178     		ldrb	r1, [r2]
 2429 0050 0822     		movs	r2, #8
 2430 0052 BA18     		adds	r2, r7, r2
 2431 0054 D154     		strb	r1, [r2, r3]
2814:Generated_Source\PSoC4/Bootloader.c ****     {
 2432              		.loc 1 2814 0 discriminator 3
 2433 0056 9623     		movs	r3, #150
 2434 0058 FB18     		adds	r3, r7, r3
 2435 005a 1A88     		ldrh	r2, [r3]
 2436 005c 9623     		movs	r3, #150
 2437 005e FB18     		adds	r3, r7, r3
 2438 0060 0132     		adds	r2, r2, #1
 2439 0062 1A80     		strh	r2, [r3]
 2440              	.L123:
2814:Generated_Source\PSoC4/Bootloader.c ****     {
 2441              		.loc 1 2814 0 is_stmt 0 discriminator 1
 2442 0064 9623     		movs	r3, #150
 2443 0066 FB18     		adds	r3, r7, r3
 2444 0068 1B88     		ldrh	r3, [r3]
 2445 006a 7F2B     		cmp	r3, #127
 2446 006c E5D9     		bls	.L124
2817:Generated_Source\PSoC4/Bootloader.c ****     }
2818:Generated_Source\PSoC4/Bootloader.c **** 
2819:Generated_Source\PSoC4/Bootloader.c ****     /* Check flash content to avoid unnecessary write to flash */
2820:Generated_Source\PSoC4/Bootloader.c ****     if (rowData[address % CYDEV_FLS_ROW_SIZE] != runType)
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 94


 2447              		.loc 1 2820 0 is_stmt 1
 2448 006e 7B68     		ldr	r3, [r7, #4]
 2449 0070 7F22     		movs	r2, #127
 2450 0072 1340     		ands	r3, r2
 2451 0074 0822     		movs	r2, #8
 2452 0076 BA18     		adds	r2, r7, r2
 2453 0078 D35C     		ldrb	r3, [r2, r3]
 2454 007a FA1C     		adds	r2, r7, #3
 2455 007c 1278     		ldrb	r2, [r2]
 2456 007e 9A42     		cmp	r2, r3
 2457 0080 10D0     		beq	.L126
2821:Generated_Source\PSoC4/Bootloader.c ****     {
2822:Generated_Source\PSoC4/Bootloader.c ****         rowData[address % CYDEV_FLS_ROW_SIZE] = runType;
 2458              		.loc 1 2822 0
 2459 0082 7B68     		ldr	r3, [r7, #4]
 2460 0084 7F22     		movs	r2, #127
 2461 0086 1340     		ands	r3, r2
 2462 0088 0822     		movs	r2, #8
 2463 008a BA18     		adds	r2, r7, r2
 2464 008c F91C     		adds	r1, r7, #3
 2465 008e 0978     		ldrb	r1, [r1]
 2466 0090 D154     		strb	r1, [r2, r3]
2823:Generated_Source\PSoC4/Bootloader.c **** 
2824:Generated_Source\PSoC4/Bootloader.c ****         #if(CY_PSOC4)
2825:Generated_Source\PSoC4/Bootloader.c ****             (void) CySysFlashWriteRow((uint32) rowNum, rowData);
 2467              		.loc 1 2825 0
 2468 0092 8E23     		movs	r3, #142
 2469 0094 FB18     		adds	r3, r7, r3
 2470 0096 1B88     		ldrh	r3, [r3]
 2471 0098 0822     		movs	r2, #8
 2472 009a BA18     		adds	r2, r7, r2
 2473 009c 1100     		movs	r1, r2
 2474 009e 1800     		movs	r0, r3
 2475 00a0 FFF7FEFF 		bl	CySysFlashWriteRow
 2476              	.L126:
2826:Generated_Source\PSoC4/Bootloader.c ****         #else
2827:Generated_Source\PSoC4/Bootloader.c ****             (void) CyWriteRowData(arrayId, rowNum, rowData);
2828:Generated_Source\PSoC4/Bootloader.c ****         #endif  /* (CY_PSOC4) */
2829:Generated_Source\PSoC4/Bootloader.c **** 
2830:Generated_Source\PSoC4/Bootloader.c ****         #if(CY_PSOC5)
2831:Generated_Source\PSoC4/Bootloader.c ****             /***************************************************************************
2832:Generated_Source\PSoC4/Bootloader.c ****             * When writing to flash, data in the instruction cache can become stale.
2833:Generated_Source\PSoC4/Bootloader.c ****             * Therefore, the cache data does not correlate to the data just written to
2834:Generated_Source\PSoC4/Bootloader.c ****             * flash. A call to CyFlushCache() is required to invalidate the data in the
2835:Generated_Source\PSoC4/Bootloader.c ****             * cache and force fresh information to be loaded from flash.
2836:Generated_Source\PSoC4/Bootloader.c ****             ***************************************************************************/
2837:Generated_Source\PSoC4/Bootloader.c ****             CyFlushCache();
2838:Generated_Source\PSoC4/Bootloader.c ****         #endif /* (CY_PSOC5) */
2839:Generated_Source\PSoC4/Bootloader.c ****     }
2840:Generated_Source\PSoC4/Bootloader.c **** }
 2477              		.loc 1 2840 0
 2478 00a4 C046     		nop
 2479 00a6 BD46     		mov	sp, r7
 2480 00a8 26B0     		add	sp, sp, #152
 2481              		@ sp needed
 2482 00aa 80BD     		pop	{r7, pc}
 2483              		.cfi_endproc
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 95


 2484              	.LFE43:
 2485              		.size	Bootloader_SetFlashByte, .-Bootloader_SetFlashByte
 2486              		.section	.text.Bootloader_GetMetadata,"ax",%progbits
 2487              		.align	2
 2488              		.global	Bootloader_GetMetadata
 2489              		.code	16
 2490              		.thumb_func
 2491              		.type	Bootloader_GetMetadata, %function
 2492              	Bootloader_GetMetadata:
 2493              	.LFB44:
2841:Generated_Source\PSoC4/Bootloader.c **** 
2842:Generated_Source\PSoC4/Bootloader.c **** 
2843:Generated_Source\PSoC4/Bootloader.c **** /*******************************************************************************
2844:Generated_Source\PSoC4/Bootloader.c **** * Function Name: Bootloader_GetMetadata
2845:Generated_Source\PSoC4/Bootloader.c **** ****************************************************************************//**
2846:Generated_Source\PSoC4/Bootloader.c **** *
2847:Generated_Source\PSoC4/Bootloader.c **** * \brief
2848:Generated_Source\PSoC4/Bootloader.c **** *    Returns the value of the specified field of the metadata section.
2849:Generated_Source\PSoC4/Bootloader.c **** *
2850:Generated_Source\PSoC4/Bootloader.c **** * \param field \ref group_metadataFields
2851:Generated_Source\PSoC4/Bootloader.c **** *    Identifies the specific field of metadata.
2852:Generated_Source\PSoC4/Bootloader.c **** *
2853:Generated_Source\PSoC4/Bootloader.c **** * \param appId
2854:Generated_Source\PSoC4/Bootloader.c **** *    The number of the Bootloadable/Combination application. Should be 0 for 
2855:Generated_Source\PSoC4/Bootloader.c **** *    the normal bootloader and 0 or 1 for the Dual-application bootloader.
2856:Generated_Source\PSoC4/Bootloader.c **** *
2857:Generated_Source\PSoC4/Bootloader.c **** * \return
2858:Generated_Source\PSoC4/Bootloader.c **** *    The value of the specified field of the specified application.
2859:Generated_Source\PSoC4/Bootloader.c **** *
2860:Generated_Source\PSoC4/Bootloader.c **** *******************************************************************************/
2861:Generated_Source\PSoC4/Bootloader.c **** uint32 Bootloader_GetMetadata(uint8 field, uint8 appId)
2862:Generated_Source\PSoC4/Bootloader.c **** {
 2494              		.loc 1 2862 0
 2495              		.cfi_startproc
 2496              		@ args = 0, pretend = 0, frame = 24
 2497              		@ frame_needed = 1, uses_anonymous_args = 0
 2498 0000 80B5     		push	{r7, lr}
 2499              		.cfi_def_cfa_offset 8
 2500              		.cfi_offset 7, -8
 2501              		.cfi_offset 14, -4
 2502 0002 86B0     		sub	sp, sp, #24
 2503              		.cfi_def_cfa_offset 32
 2504 0004 00AF     		add	r7, sp, #0
 2505              		.cfi_def_cfa_register 7
 2506 0006 0200     		movs	r2, r0
 2507 0008 FB1D     		adds	r3, r7, #7
 2508 000a 1A70     		strb	r2, [r3]
 2509 000c BB1D     		adds	r3, r7, #6
 2510 000e 0A1C     		adds	r2, r1, #0
 2511 0010 1A70     		strb	r2, [r3]
2863:Generated_Source\PSoC4/Bootloader.c ****     uint32 fieldPtr;
2864:Generated_Source\PSoC4/Bootloader.c ****     uint8  fieldSize = 2u;
 2512              		.loc 1 2864 0
 2513 0012 1323     		movs	r3, #19
 2514 0014 FB18     		adds	r3, r7, r3
 2515 0016 0222     		movs	r2, #2
 2516 0018 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 96


2865:Generated_Source\PSoC4/Bootloader.c ****     uint32 result = 0u;
 2517              		.loc 1 2865 0
 2518 001a 0023     		movs	r3, #0
 2519 001c FB60     		str	r3, [r7, #12]
2866:Generated_Source\PSoC4/Bootloader.c **** 
2867:Generated_Source\PSoC4/Bootloader.c ****     switch (field)
 2520              		.loc 1 2867 0
 2521 001e FB1D     		adds	r3, r7, #7
 2522 0020 1B78     		ldrb	r3, [r3]
 2523 0022 0C2B     		cmp	r3, #12
 2524 0024 00D9     		bls	.LCB2177
 2525 0026 A8E0     		b	.L128	@long jump
 2526              	.LCB2177:
 2527 0028 9A00     		lsls	r2, r3, #2
 2528 002a 774B     		ldr	r3, .L147
 2529 002c D318     		adds	r3, r2, r3
 2530 002e 1B68     		ldr	r3, [r3]
 2531 0030 9F46     		mov	pc, r3
 2532              		.section	.rodata
 2533              		.align	2
 2534              	.L130:
 2535 0034 7A010000 		.word	.L128
 2536 0038 32000000 		.word	.L129
 2537 003c 50000000 		.word	.L131
 2538 0040 6E000000 		.word	.L132
 2539 0044 84000000 		.word	.L133
 2540 0048 A2000000 		.word	.L134
 2541 004c C0000000 		.word	.L135
 2542 0050 F4000000 		.word	.L136
 2543 0054 DE000000 		.word	.L137
 2544 0058 0A010000 		.word	.L138
 2545 005c 20010000 		.word	.L139
 2546 0060 3E010000 		.word	.L140
 2547 0064 5C010000 		.word	.L141
 2548              		.section	.text.Bootloader_GetMetadata
 2549              	.L129:
2868:Generated_Source\PSoC4/Bootloader.c ****     {
2869:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_CHECKSUM:
2870:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_CHECKSUM_OFFSET(appId);
 2550              		.loc 1 2870 0
 2551 0032 BB1D     		adds	r3, r7, #6
 2552 0034 1A78     		ldrb	r2, [r3]
 2553 0036 1300     		movs	r3, r2
 2554 0038 5B06     		lsls	r3, r3, #25
 2555 003a 9B1A     		subs	r3, r3, r2
 2556 003c DB01     		lsls	r3, r3, #7
 2557 003e 734A     		ldr	r2, .L147+4
 2558 0040 9446     		mov	ip, r2
 2559 0042 6344     		add	r3, r3, ip
 2560 0044 7B61     		str	r3, [r7, #20]
2871:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 1u;
 2561              		.loc 1 2871 0
 2562 0046 1323     		movs	r3, #19
 2563 0048 FB18     		adds	r3, r7, r3
 2564 004a 0122     		movs	r2, #1
 2565 004c 1A70     		strb	r2, [r3]
2872:Generated_Source\PSoC4/Bootloader.c ****         break;   
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 97


 2566              		.loc 1 2872 0
 2567 004e 9AE0     		b	.L142
 2568              	.L131:
2873:Generated_Source\PSoC4/Bootloader.c **** 
2874:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_ADDR:
2875:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_ADDR_OFFSET(appId);
 2569              		.loc 1 2875 0
 2570 0050 BB1D     		adds	r3, r7, #6
 2571 0052 1A78     		ldrb	r2, [r3]
 2572 0054 1300     		movs	r3, r2
 2573 0056 5B06     		lsls	r3, r3, #25
 2574 0058 9B1A     		subs	r3, r3, r2
 2575 005a DB01     		lsls	r3, r3, #7
 2576 005c 6C4A     		ldr	r2, .L147+8
 2577 005e 9446     		mov	ip, r2
 2578 0060 6344     		add	r3, r3, ip
 2579 0062 7B61     		str	r3, [r7, #20]
2876:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC3)
2877:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 4u;
 2580              		.loc 1 2877 0
 2581 0064 1323     		movs	r3, #19
 2582 0066 FB18     		adds	r3, r7, r3
 2583 0068 0422     		movs	r2, #4
 2584 006a 1A70     		strb	r2, [r3]
2878:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (!CY_PSOC3) */
2879:Generated_Source\PSoC4/Bootloader.c ****         break;
 2585              		.loc 1 2879 0
 2586 006c 8BE0     		b	.L142
 2587              	.L132:
2880:Generated_Source\PSoC4/Bootloader.c **** 
2881:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDR_LAST_ROW:
2882:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDR_LAST_ROW_OFFSET(appId);
 2588              		.loc 1 2882 0
 2589 006e BB1D     		adds	r3, r7, #6
 2590 0070 1A78     		ldrb	r2, [r3]
 2591 0072 1300     		movs	r3, r2
 2592 0074 5B06     		lsls	r3, r3, #25
 2593 0076 9B1A     		subs	r3, r3, r2
 2594 0078 DB01     		lsls	r3, r3, #7
 2595 007a 664A     		ldr	r2, .L147+12
 2596 007c 9446     		mov	ip, r2
 2597 007e 6344     		add	r3, r3, ip
 2598 0080 7B61     		str	r3, [r7, #20]
2883:Generated_Source\PSoC4/Bootloader.c ****         break;
 2599              		.loc 1 2883 0
 2600 0082 80E0     		b	.L142
 2601              	.L133:
2884:Generated_Source\PSoC4/Bootloader.c **** 
2885:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_LENGTH:
2886:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_LENGTH_OFFSET(appId);
 2602              		.loc 1 2886 0
 2603 0084 BB1D     		adds	r3, r7, #6
 2604 0086 1A78     		ldrb	r2, [r3]
 2605 0088 1300     		movs	r3, r2
 2606 008a 5B06     		lsls	r3, r3, #25
 2607 008c 9B1A     		subs	r3, r3, r2
 2608 008e DB01     		lsls	r3, r3, #7
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 98


 2609 0090 614A     		ldr	r2, .L147+16
 2610 0092 9446     		mov	ip, r2
 2611 0094 6344     		add	r3, r3, ip
 2612 0096 7B61     		str	r3, [r7, #20]
2887:Generated_Source\PSoC4/Bootloader.c ****     #if(!CY_PSOC3)
2888:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 4u;
 2613              		.loc 1 2888 0
 2614 0098 1323     		movs	r3, #19
 2615 009a FB18     		adds	r3, r7, r3
 2616 009c 0422     		movs	r2, #4
 2617 009e 1A70     		strb	r2, [r3]
2889:Generated_Source\PSoC4/Bootloader.c ****     #endif  /* (!CY_PSOC3) */
2890:Generated_Source\PSoC4/Bootloader.c ****         break;
 2618              		.loc 1 2890 0
 2619 00a0 71E0     		b	.L142
 2620              	.L134:
2891:Generated_Source\PSoC4/Bootloader.c **** 
2892:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_ACTIVE:
2893:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_ACTIVE_OFFSET(appId);
 2621              		.loc 1 2893 0
 2622 00a2 BB1D     		adds	r3, r7, #6
 2623 00a4 1A78     		ldrb	r2, [r3]
 2624 00a6 1300     		movs	r3, r2
 2625 00a8 5B06     		lsls	r3, r3, #25
 2626 00aa 9B1A     		subs	r3, r3, r2
 2627 00ac DB01     		lsls	r3, r3, #7
 2628 00ae 5B4A     		ldr	r2, .L147+20
 2629 00b0 9446     		mov	ip, r2
 2630 00b2 6344     		add	r3, r3, ip
 2631 00b4 7B61     		str	r3, [r7, #20]
2894:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 1u;
 2632              		.loc 1 2894 0
 2633 00b6 1323     		movs	r3, #19
 2634 00b8 FB18     		adds	r3, r7, r3
 2635 00ba 0122     		movs	r2, #1
 2636 00bc 1A70     		strb	r2, [r3]
2895:Generated_Source\PSoC4/Bootloader.c ****         break;
 2637              		.loc 1 2895 0
 2638 00be 62E0     		b	.L142
 2639              	.L135:
2896:Generated_Source\PSoC4/Bootloader.c **** 
2897:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_STATUS:
2898:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_VERIFIED_OFFSET(appId);
 2640              		.loc 1 2898 0
 2641 00c0 BB1D     		adds	r3, r7, #6
 2642 00c2 1A78     		ldrb	r2, [r3]
 2643 00c4 1300     		movs	r3, r2
 2644 00c6 5B06     		lsls	r3, r3, #25
 2645 00c8 9B1A     		subs	r3, r3, r2
 2646 00ca DB01     		lsls	r3, r3, #7
 2647 00cc 544A     		ldr	r2, .L147+24
 2648 00ce 9446     		mov	ip, r2
 2649 00d0 6344     		add	r3, r3, ip
 2650 00d2 7B61     		str	r3, [r7, #20]
2899:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 1u;
 2651              		.loc 1 2899 0
 2652 00d4 1323     		movs	r3, #19
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 99


 2653 00d6 FB18     		adds	r3, r7, r3
 2654 00d8 0122     		movs	r2, #1
 2655 00da 1A70     		strb	r2, [r3]
2900:Generated_Source\PSoC4/Bootloader.c ****         break;
 2656              		.loc 1 2900 0
 2657 00dc 53E0     		b	.L142
 2658              	.L137:
2901:Generated_Source\PSoC4/Bootloader.c **** 
2902:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_VERSION:
2903:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_VERSION_OFFSET(appId);
 2659              		.loc 1 2903 0
 2660 00de BB1D     		adds	r3, r7, #6
 2661 00e0 1A78     		ldrb	r2, [r3]
 2662 00e2 1300     		movs	r3, r2
 2663 00e4 5B06     		lsls	r3, r3, #25
 2664 00e6 9B1A     		subs	r3, r3, r2
 2665 00e8 DB01     		lsls	r3, r3, #7
 2666 00ea 4E4A     		ldr	r2, .L147+28
 2667 00ec 9446     		mov	ip, r2
 2668 00ee 6344     		add	r3, r3, ip
 2669 00f0 7B61     		str	r3, [r7, #20]
2904:Generated_Source\PSoC4/Bootloader.c ****         break;
 2670              		.loc 1 2904 0
 2671 00f2 48E0     		b	.L142
 2672              	.L136:
2905:Generated_Source\PSoC4/Bootloader.c **** 
2906:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDR_APP_VERSION:
2907:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDR_APP_VERSION_OFFSET(appId);
 2673              		.loc 1 2907 0
 2674 00f4 BB1D     		adds	r3, r7, #6
 2675 00f6 1A78     		ldrb	r2, [r3]
 2676 00f8 1300     		movs	r3, r2
 2677 00fa 5B06     		lsls	r3, r3, #25
 2678 00fc 9B1A     		subs	r3, r3, r2
 2679 00fe DB01     		lsls	r3, r3, #7
 2680 0100 494A     		ldr	r2, .L147+32
 2681 0102 9446     		mov	ip, r2
 2682 0104 6344     		add	r3, r3, ip
 2683 0106 7B61     		str	r3, [r7, #20]
2908:Generated_Source\PSoC4/Bootloader.c ****         break;
 2684              		.loc 1 2908 0
 2685 0108 3DE0     		b	.L142
 2686              	.L138:
2909:Generated_Source\PSoC4/Bootloader.c **** 
2910:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_ID:
2911:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_ID_OFFSET(appId);
 2687              		.loc 1 2911 0
 2688 010a BB1D     		adds	r3, r7, #6
 2689 010c 1A78     		ldrb	r2, [r3]
 2690 010e 1300     		movs	r3, r2
 2691 0110 5B06     		lsls	r3, r3, #25
 2692 0112 9B1A     		subs	r3, r3, r2
 2693 0114 DB01     		lsls	r3, r3, #7
 2694 0116 454A     		ldr	r2, .L147+36
 2695 0118 9446     		mov	ip, r2
 2696 011a 6344     		add	r3, r3, ip
 2697 011c 7B61     		str	r3, [r7, #20]
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 100


2912:Generated_Source\PSoC4/Bootloader.c ****         break;
 2698              		.loc 1 2912 0
 2699 011e 32E0     		b	.L142
 2700              	.L139:
2913:Generated_Source\PSoC4/Bootloader.c **** 
2914:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_CUST_ID:
2915:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_CUST_ID_OFFSET(appId);
 2701              		.loc 1 2915 0
 2702 0120 BB1D     		adds	r3, r7, #6
 2703 0122 1A78     		ldrb	r2, [r3]
 2704 0124 1300     		movs	r3, r2
 2705 0126 5B06     		lsls	r3, r3, #25
 2706 0128 9B1A     		subs	r3, r3, r2
 2707 012a DB01     		lsls	r3, r3, #7
 2708 012c 404A     		ldr	r2, .L147+40
 2709 012e 9446     		mov	ip, r2
 2710 0130 6344     		add	r3, r3, ip
 2711 0132 7B61     		str	r3, [r7, #20]
2916:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 4u;
 2712              		.loc 1 2916 0
 2713 0134 1323     		movs	r3, #19
 2714 0136 FB18     		adds	r3, r7, r3
 2715 0138 0422     		movs	r2, #4
 2716 013a 1A70     		strb	r2, [r3]
2917:Generated_Source\PSoC4/Bootloader.c ****         break;
 2717              		.loc 1 2917 0
 2718 013c 23E0     		b	.L142
 2719              	.L140:
2918:Generated_Source\PSoC4/Bootloader.c ****         
2919:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_COPY_FLAG:
2920:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr = Bootloader_MD_BTLDB_COPY_FLAG_OFFSET(appId);
 2720              		.loc 1 2920 0
 2721 013e BB1D     		adds	r3, r7, #6
 2722 0140 1A78     		ldrb	r2, [r3]
 2723 0142 1300     		movs	r3, r2
 2724 0144 5B06     		lsls	r3, r3, #25
 2725 0146 9B1A     		subs	r3, r3, r2
 2726 0148 DB01     		lsls	r3, r3, #7
 2727 014a 3A4A     		ldr	r2, .L147+44
 2728 014c 9446     		mov	ip, r2
 2729 014e 6344     		add	r3, r3, ip
 2730 0150 7B61     		str	r3, [r7, #20]
2921:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 1u;
 2731              		.loc 1 2921 0
 2732 0152 1323     		movs	r3, #19
 2733 0154 FB18     		adds	r3, r7, r3
 2734 0156 0122     		movs	r2, #1
 2735 0158 1A70     		strb	r2, [r3]
2922:Generated_Source\PSoC4/Bootloader.c ****         break;        
 2736              		.loc 1 2922 0
 2737 015a 14E0     		b	.L142
 2738              	.L141:
2923:Generated_Source\PSoC4/Bootloader.c **** 
2924:Generated_Source\PSoC4/Bootloader.c ****     case Bootloader_GET_BTLDB_USER_DATA:
2925:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr = Bootloader_MD_BTLDB_USER_DATA_OFFSET(appId);
 2739              		.loc 1 2925 0
 2740 015c BB1D     		adds	r3, r7, #6
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 101


 2741 015e 1A78     		ldrb	r2, [r3]
 2742 0160 1300     		movs	r3, r2
 2743 0162 5B06     		lsls	r3, r3, #25
 2744 0164 9B1A     		subs	r3, r3, r2
 2745 0166 DB01     		lsls	r3, r3, #7
 2746 0168 334A     		ldr	r2, .L147+48
 2747 016a 9446     		mov	ip, r2
 2748 016c 6344     		add	r3, r3, ip
 2749 016e 7B61     		str	r3, [r7, #20]
2926:Generated_Source\PSoC4/Bootloader.c ****         fieldSize = 4u;
 2750              		.loc 1 2926 0
 2751 0170 1323     		movs	r3, #19
 2752 0172 FB18     		adds	r3, r7, r3
 2753 0174 0422     		movs	r2, #4
 2754 0176 1A70     		strb	r2, [r3]
2927:Generated_Source\PSoC4/Bootloader.c ****         break;        
 2755              		.loc 1 2927 0
 2756 0178 05E0     		b	.L142
 2757              	.L128:
2928:Generated_Source\PSoC4/Bootloader.c **** 
2929:Generated_Source\PSoC4/Bootloader.c ****     default:
2930:Generated_Source\PSoC4/Bootloader.c ****         /* Should never be here */
2931:Generated_Source\PSoC4/Bootloader.c ****         CYASSERT(0u != 0u);
 2758              		.loc 1 2931 0
 2759 017a 0020     		movs	r0, #0
 2760 017c FFF7FEFF 		bl	CyHalt
2932:Generated_Source\PSoC4/Bootloader.c ****         fieldPtr  = 0u;
 2761              		.loc 1 2932 0
 2762 0180 0023     		movs	r3, #0
 2763 0182 7B61     		str	r3, [r7, #20]
2933:Generated_Source\PSoC4/Bootloader.c ****         break;
 2764              		.loc 1 2933 0
 2765 0184 C046     		nop
 2766              	.L142:
2934:Generated_Source\PSoC4/Bootloader.c ****     }
2935:Generated_Source\PSoC4/Bootloader.c **** 
2936:Generated_Source\PSoC4/Bootloader.c **** 
2937:Generated_Source\PSoC4/Bootloader.c ****     if (1u == fieldSize)
 2767              		.loc 1 2937 0
 2768 0186 1323     		movs	r3, #19
 2769 0188 FB18     		adds	r3, r7, r3
 2770 018a 1B78     		ldrb	r3, [r3]
 2771 018c 012B     		cmp	r3, #1
 2772 018e 03D1     		bne	.L143
2938:Generated_Source\PSoC4/Bootloader.c ****     {
2939:Generated_Source\PSoC4/Bootloader.c ****         result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)fieldPtr);
 2773              		.loc 1 2939 0
 2774 0190 7B69     		ldr	r3, [r7, #20]
 2775 0192 1B78     		ldrb	r3, [r3]
 2776 0194 DBB2     		uxtb	r3, r3
 2777 0196 FB60     		str	r3, [r7, #12]
 2778              	.L143:
2940:Generated_Source\PSoC4/Bootloader.c ****     }
2941:Generated_Source\PSoC4/Bootloader.c **** 
2942:Generated_Source\PSoC4/Bootloader.c ****     #if(CY_PSOC3)   /* Big-endian */
2943:Generated_Source\PSoC4/Bootloader.c **** 
2944:Generated_Source\PSoC4/Bootloader.c ****         if (2u == fieldSize)
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 102


2945:Generated_Source\PSoC4/Bootloader.c ****         {
2946:Generated_Source\PSoC4/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u));
2947:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     )) <<  8u;
2948:Generated_Source\PSoC4/Bootloader.c ****         }
2949:Generated_Source\PSoC4/Bootloader.c **** 
2950:Generated_Source\PSoC4/Bootloader.c ****         if (4u == fieldSize)
2951:Generated_Source\PSoC4/Bootloader.c ****         {
2952:Generated_Source\PSoC4/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 3u));
2953:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 2u)) <<  8u;
2954:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u)) << 16u;
2955:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     )) << 24u;
2956:Generated_Source\PSoC4/Bootloader.c ****         }
2957:Generated_Source\PSoC4/Bootloader.c **** 
2958:Generated_Source\PSoC4/Bootloader.c ****     #else   /* PSoC 4 and PSoC 5: Little-endian */
2959:Generated_Source\PSoC4/Bootloader.c **** 
2960:Generated_Source\PSoC4/Bootloader.c ****         if (2u == fieldSize)
 2779              		.loc 1 2960 0
 2780 0198 1323     		movs	r3, #19
 2781 019a FB18     		adds	r3, r7, r3
 2782 019c 1B78     		ldrb	r3, [r3]
 2783 019e 022B     		cmp	r3, #2
 2784 01a0 0BD1     		bne	.L144
2961:Generated_Source\PSoC4/Bootloader.c ****         {
2962:Generated_Source\PSoC4/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *) (fieldPtr     ));
 2785              		.loc 1 2962 0
 2786 01a2 7B69     		ldr	r3, [r7, #20]
 2787 01a4 1B78     		ldrb	r3, [r3]
 2788 01a6 DBB2     		uxtb	r3, r3
 2789 01a8 FB60     		str	r3, [r7, #12]
2963:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *) (fieldPtr + 1u)) <<  8u;
 2790              		.loc 1 2963 0
 2791 01aa 7B69     		ldr	r3, [r7, #20]
 2792 01ac 0133     		adds	r3, r3, #1
 2793 01ae 1B78     		ldrb	r3, [r3]
 2794 01b0 DBB2     		uxtb	r3, r3
 2795 01b2 1B02     		lsls	r3, r3, #8
 2796 01b4 FA68     		ldr	r2, [r7, #12]
 2797 01b6 1343     		orrs	r3, r2
 2798 01b8 FB60     		str	r3, [r7, #12]
 2799              	.L144:
2964:Generated_Source\PSoC4/Bootloader.c ****         }
2965:Generated_Source\PSoC4/Bootloader.c **** 
2966:Generated_Source\PSoC4/Bootloader.c ****         if (4u == fieldSize)
 2800              		.loc 1 2966 0
 2801 01ba 1323     		movs	r3, #19
 2802 01bc FB18     		adds	r3, r7, r3
 2803 01be 1B78     		ldrb	r3, [r3]
 2804 01c0 042B     		cmp	r3, #4
 2805 01c2 1BD1     		bne	.L145
2967:Generated_Source\PSoC4/Bootloader.c ****         {
2968:Generated_Source\PSoC4/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     ));
 2806              		.loc 1 2968 0
 2807 01c4 7B69     		ldr	r3, [r7, #20]
 2808 01c6 1B78     		ldrb	r3, [r3]
 2809 01c8 DBB2     		uxtb	r3, r3
 2810 01ca FB60     		str	r3, [r7, #12]
2969:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u)) <<  8u;
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 103


 2811              		.loc 1 2969 0
 2812 01cc 7B69     		ldr	r3, [r7, #20]
 2813 01ce 0133     		adds	r3, r3, #1
 2814 01d0 1B78     		ldrb	r3, [r3]
 2815 01d2 DBB2     		uxtb	r3, r3
 2816 01d4 1B02     		lsls	r3, r3, #8
 2817 01d6 FA68     		ldr	r2, [r7, #12]
 2818 01d8 1343     		orrs	r3, r2
 2819 01da FB60     		str	r3, [r7, #12]
2970:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 2u)) << 16u;
 2820              		.loc 1 2970 0
 2821 01dc 7B69     		ldr	r3, [r7, #20]
 2822 01de 0233     		adds	r3, r3, #2
 2823 01e0 1B78     		ldrb	r3, [r3]
 2824 01e2 DBB2     		uxtb	r3, r3
 2825 01e4 1B04     		lsls	r3, r3, #16
 2826 01e6 FA68     		ldr	r2, [r7, #12]
 2827 01e8 1343     		orrs	r3, r2
 2828 01ea FB60     		str	r3, [r7, #12]
2971:Generated_Source\PSoC4/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 3u)) << 24u;
 2829              		.loc 1 2971 0
 2830 01ec 7B69     		ldr	r3, [r7, #20]
 2831 01ee 0333     		adds	r3, r3, #3
 2832 01f0 1B78     		ldrb	r3, [r3]
 2833 01f2 DBB2     		uxtb	r3, r3
 2834 01f4 1B06     		lsls	r3, r3, #24
 2835 01f6 FA68     		ldr	r2, [r7, #12]
 2836 01f8 1343     		orrs	r3, r2
 2837 01fa FB60     		str	r3, [r7, #12]
 2838              	.L145:
2972:Generated_Source\PSoC4/Bootloader.c ****         }
2973:Generated_Source\PSoC4/Bootloader.c **** 
2974:Generated_Source\PSoC4/Bootloader.c ****     #endif /* (CY_PSOC3) */
2975:Generated_Source\PSoC4/Bootloader.c **** 
2976:Generated_Source\PSoC4/Bootloader.c ****     return (result);
 2839              		.loc 1 2976 0
 2840 01fc FB68     		ldr	r3, [r7, #12]
2977:Generated_Source\PSoC4/Bootloader.c **** }
 2841              		.loc 1 2977 0
 2842 01fe 1800     		movs	r0, r3
 2843 0200 BD46     		mov	sp, r7
 2844 0202 06B0     		add	sp, sp, #24
 2845              		@ sp needed
 2846 0204 80BD     		pop	{r7, pc}
 2847              	.L148:
 2848 0206 C046     		.align	2
 2849              	.L147:
 2850 0208 34000000 		.word	.L130
 2851 020c C07F0000 		.word	32704
 2852 0210 C17F0000 		.word	32705
 2853 0214 C57F0000 		.word	32709
 2854 0218 C97F0000 		.word	32713
 2855 021c D07F0000 		.word	32720
 2856 0220 D17F0000 		.word	32721
 2857 0224 D67F0000 		.word	32726
 2858 0228 D27F0000 		.word	32722
 2859 022c D47F0000 		.word	32724
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 104


 2860 0230 D87F0000 		.word	32728
 2861 0234 DC7F0000 		.word	32732
 2862 0238 E07F0000 		.word	32736
 2863              		.cfi_endproc
 2864              	.LFE44:
 2865              		.size	Bootloader_GetMetadata, .-Bootloader_GetMetadata
 2866              		.text
 2867              	.Letext0:
 2868              		.file 2 "Generated_Source\\PSoC4\\cytypes.h"
 2869              		.file 3 "Generated_Source\\PSoC4\\Bootloader.h"
 2870              		.file 4 "Generated_Source\\PSoC4\\Bootloader_PVT.h"
 2871              		.section	.debug_info,"",%progbits
 2872              	.Ldebug_info0:
 2873 0000 98070000 		.4byte	0x798
 2874 0004 0400     		.2byte	0x4
 2875 0006 00000000 		.4byte	.Ldebug_abbrev0
 2876 000a 04       		.byte	0x4
 2877 000b 01       		.uleb128 0x1
 2878 000c FC010000 		.4byte	.LASF94
 2879 0010 0C       		.byte	0xc
 2880 0011 9E040000 		.4byte	.LASF95
 2881 0015 93000000 		.4byte	.LASF96
 2882 0019 60000000 		.4byte	.Ldebug_ranges0+0x60
 2883 001d 00000000 		.4byte	0
 2884 0021 00000000 		.4byte	.Ldebug_line0
 2885 0025 02       		.uleb128 0x2
 2886 0026 01       		.byte	0x1
 2887 0027 06       		.byte	0x6
 2888 0028 0C030000 		.4byte	.LASF0
 2889 002c 02       		.uleb128 0x2
 2890 002d 01       		.byte	0x1
 2891 002e 08       		.byte	0x8
 2892 002f C6020000 		.4byte	.LASF1
 2893 0033 02       		.uleb128 0x2
 2894 0034 02       		.byte	0x2
 2895 0035 05       		.byte	0x5
 2896 0036 3A000000 		.4byte	.LASF2
 2897 003a 02       		.uleb128 0x2
 2898 003b 02       		.byte	0x2
 2899 003c 07       		.byte	0x7
 2900 003d C7030000 		.4byte	.LASF3
 2901 0041 02       		.uleb128 0x2
 2902 0042 04       		.byte	0x4
 2903 0043 05       		.byte	0x5
 2904 0044 83010000 		.4byte	.LASF4
 2905 0048 02       		.uleb128 0x2
 2906 0049 04       		.byte	0x4
 2907 004a 07       		.byte	0x7
 2908 004b 76030000 		.4byte	.LASF5
 2909 004f 02       		.uleb128 0x2
 2910 0050 08       		.byte	0x8
 2911 0051 05       		.byte	0x5
 2912 0052 5E010000 		.4byte	.LASF6
 2913 0056 02       		.uleb128 0x2
 2914 0057 08       		.byte	0x8
 2915 0058 07       		.byte	0x7
 2916 0059 25030000 		.4byte	.LASF7
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 105


 2917 005d 03       		.uleb128 0x3
 2918 005e 04       		.byte	0x4
 2919 005f 05       		.byte	0x5
 2920 0060 696E7400 		.ascii	"int\000"
 2921 0064 02       		.uleb128 0x2
 2922 0065 04       		.byte	0x4
 2923 0066 07       		.byte	0x7
 2924 0067 D0050000 		.4byte	.LASF8
 2925 006b 04       		.uleb128 0x4
 2926 006c 18010000 		.4byte	.LASF9
 2927 0070 02       		.byte	0x2
 2928 0071 E401     		.2byte	0x1e4
 2929 0073 2C000000 		.4byte	0x2c
 2930 0077 04       		.uleb128 0x4
 2931 0078 00010000 		.4byte	.LASF10
 2932 007c 02       		.byte	0x2
 2933 007d E501     		.2byte	0x1e5
 2934 007f 3A000000 		.4byte	0x3a
 2935 0083 04       		.uleb128 0x4
 2936 0084 92040000 		.4byte	.LASF11
 2937 0088 02       		.byte	0x2
 2938 0089 E601     		.2byte	0x1e6
 2939 008b 48000000 		.4byte	0x48
 2940 008f 02       		.uleb128 0x2
 2941 0090 04       		.byte	0x4
 2942 0091 04       		.byte	0x4
 2943 0092 13000000 		.4byte	.LASF12
 2944 0096 02       		.uleb128 0x2
 2945 0097 08       		.byte	0x8
 2946 0098 04       		.byte	0x4
 2947 0099 CA040000 		.4byte	.LASF13
 2948 009d 02       		.uleb128 0x2
 2949 009e 01       		.byte	0x1
 2950 009f 08       		.byte	0x8
 2951 00a0 17040000 		.4byte	.LASF14
 2952 00a4 04       		.uleb128 0x4
 2953 00a5 29040000 		.4byte	.LASF15
 2954 00a9 02       		.byte	0x2
 2955 00aa 8602     		.2byte	0x286
 2956 00ac 48000000 		.4byte	0x48
 2957 00b0 04       		.uleb128 0x4
 2958 00b1 99040000 		.4byte	.LASF16
 2959 00b5 02       		.byte	0x2
 2960 00b6 8E02     		.2byte	0x28e
 2961 00b8 BC000000 		.4byte	0xbc
 2962 00bc 05       		.uleb128 0x5
 2963 00bd 6B000000 		.4byte	0x6b
 2964 00c1 04       		.uleb128 0x4
 2965 00c2 BA030000 		.4byte	.LASF17
 2966 00c6 02       		.byte	0x2
 2967 00c7 9002     		.2byte	0x290
 2968 00c9 CD000000 		.4byte	0xcd
 2969 00cd 05       		.uleb128 0x5
 2970 00ce 83000000 		.4byte	0x83
 2971 00d2 02       		.uleb128 0x2
 2972 00d3 08       		.byte	0x8
 2973 00d4 04       		.byte	0x4
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 106


 2974 00d5 B4020000 		.4byte	.LASF18
 2975 00d9 02       		.uleb128 0x2
 2976 00da 04       		.byte	0x4
 2977 00db 07       		.byte	0x7
 2978 00dc 4C000000 		.4byte	.LASF19
 2979 00e0 06       		.uleb128 0x6
 2980 00e1 08       		.byte	0x8
 2981 00e2 03       		.byte	0x3
 2982 00e3 50       		.byte	0x50
 2983 00e4 0D010000 		.4byte	0x10d
 2984 00e8 07       		.uleb128 0x7
 2985 00e9 66050000 		.4byte	.LASF20
 2986 00ed 03       		.byte	0x3
 2987 00ee 52       		.byte	0x52
 2988 00ef 6B000000 		.4byte	0x6b
 2989 00f3 00       		.byte	0
 2990 00f4 07       		.uleb128 0x7
 2991 00f5 76010000 		.4byte	.LASF21
 2992 00f9 03       		.byte	0x3
 2993 00fa 53       		.byte	0x53
 2994 00fb 77000000 		.4byte	0x77
 2995 00ff 02       		.byte	0x2
 2996 0100 07       		.uleb128 0x7
 2997 0101 18030000 		.4byte	.LASF22
 2998 0105 03       		.byte	0x3
 2999 0106 54       		.byte	0x54
 3000 0107 0D010000 		.4byte	0x10d
 3001 010b 04       		.byte	0x4
 3002 010c 00       		.byte	0
 3003 010d 08       		.uleb128 0x8
 3004 010e 04       		.byte	0x4
 3005 010f 6B000000 		.4byte	0x6b
 3006 0113 09       		.uleb128 0x9
 3007 0114 3C050000 		.4byte	.LASF23
 3008 0118 03       		.byte	0x3
 3009 0119 55       		.byte	0x55
 3010 011a E0000000 		.4byte	0xe0
 3011 011e 06       		.uleb128 0x6
 3012 011f 0C       		.byte	0xc
 3013 0120 03       		.byte	0x3
 3014 0121 57       		.byte	0x57
 3015 0122 4B010000 		.4byte	0x14b
 3016 0126 07       		.uleb128 0x7
 3017 0127 C0030000 		.4byte	.LASF24
 3018 012b 03       		.byte	0x3
 3019 012c 59       		.byte	0x59
 3020 012d A4000000 		.4byte	0xa4
 3021 0131 00       		.byte	0
 3022 0132 07       		.uleb128 0x7
 3023 0133 76010000 		.4byte	.LASF21
 3024 0137 03       		.byte	0x3
 3025 0138 5A       		.byte	0x5a
 3026 0139 77000000 		.4byte	0x77
 3027 013d 04       		.byte	0x4
 3028 013e 07       		.uleb128 0x7
 3029 013f 30010000 		.4byte	.LASF25
 3030 0143 03       		.byte	0x3
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 107


 3031 0144 5B       		.byte	0x5b
 3032 0145 0D010000 		.4byte	0x10d
 3033 0149 08       		.byte	0x8
 3034 014a 00       		.byte	0
 3035 014b 09       		.uleb128 0x9
 3036 014c DA030000 		.4byte	.LASF26
 3037 0150 03       		.byte	0x3
 3038 0151 5C       		.byte	0x5c
 3039 0152 1E010000 		.4byte	0x11e
 3040 0156 09       		.uleb128 0x9
 3041 0157 3B040000 		.4byte	.LASF27
 3042 015b 03       		.byte	0x3
 3043 015c 60       		.byte	0x60
 3044 015d 61010000 		.4byte	0x161
 3045 0161 08       		.uleb128 0x8
 3046 0162 04       		.byte	0x4
 3047 0163 67010000 		.4byte	0x167
 3048 0167 0A       		.uleb128 0xa
 3049 0168 77010000 		.4byte	0x177
 3050 016c 0B       		.uleb128 0xb
 3051 016d 77010000 		.4byte	0x177
 3052 0171 0B       		.uleb128 0xb
 3053 0172 7D010000 		.4byte	0x17d
 3054 0176 00       		.byte	0
 3055 0177 08       		.uleb128 0x8
 3056 0178 04       		.byte	0x4
 3057 0179 13010000 		.4byte	0x113
 3058 017d 08       		.uleb128 0x8
 3059 017e 04       		.byte	0x4
 3060 017f 4B010000 		.4byte	0x14b
 3061 0183 06       		.uleb128 0x6
 3062 0184 08       		.byte	0x8
 3063 0185 04       		.byte	0x4
 3064 0186 16       		.byte	0x16
 3065 0187 B0010000 		.4byte	0x1b0
 3066 018b 07       		.uleb128 0x7
 3067 018c 81040000 		.4byte	.LASF28
 3068 0190 04       		.byte	0x4
 3069 0191 18       		.byte	0x18
 3070 0192 83000000 		.4byte	0x83
 3071 0196 00       		.byte	0
 3072 0197 07       		.uleb128 0x7
 3073 0198 6E050000 		.4byte	.LASF29
 3074 019c 04       		.byte	0x4
 3075 019d 19       		.byte	0x19
 3076 019e 6B000000 		.4byte	0x6b
 3077 01a2 04       		.byte	0x4
 3078 01a3 07       		.uleb128 0x7
 3079 01a4 1E010000 		.4byte	.LASF30
 3080 01a8 04       		.byte	0x4
 3081 01a9 1A       		.byte	0x1a
 3082 01aa B0010000 		.4byte	0x1b0
 3083 01ae 05       		.byte	0x5
 3084 01af 00       		.byte	0
 3085 01b0 0C       		.uleb128 0xc
 3086 01b1 6B000000 		.4byte	0x6b
 3087 01b5 C0010000 		.4byte	0x1c0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 108


 3088 01b9 0D       		.uleb128 0xd
 3089 01ba D9000000 		.4byte	0xd9
 3090 01be 02       		.byte	0x2
 3091 01bf 00       		.byte	0
 3092 01c0 09       		.uleb128 0x9
 3093 01c1 DD050000 		.4byte	.LASF31
 3094 01c5 04       		.byte	0x4
 3095 01c6 1C       		.byte	0x1c
 3096 01c7 83010000 		.4byte	0x183
 3097 01cb 0E       		.uleb128 0xe
 3098 01cc DF020000 		.4byte	.LASF76
 3099 01d0 01       		.byte	0x1
 3100 01d1 8A01     		.2byte	0x18a
 3101 01d3 77000000 		.4byte	0x77
 3102 01d7 00000000 		.4byte	.LFB32
 3103 01db 58000000 		.4byte	.LFE32-.LFB32
 3104 01df 01       		.uleb128 0x1
 3105 01e0 9C       		.byte	0x9c
 3106 01e1 13020000 		.4byte	0x213
 3107 01e5 0F       		.uleb128 0xf
 3108 01e6 8B040000 		.4byte	.LASF32
 3109 01ea 01       		.byte	0x1
 3110 01eb 8A01     		.2byte	0x18a
 3111 01ed 13020000 		.4byte	0x213
 3112 01f1 02       		.uleb128 0x2
 3113 01f2 91       		.byte	0x91
 3114 01f3 6C       		.sleb128 -20
 3115 01f4 0F       		.uleb128 0xf
 3116 01f5 ED040000 		.4byte	.LASF33
 3117 01f9 01       		.byte	0x1
 3118 01fa 8A01     		.2byte	0x18a
 3119 01fc 77000000 		.4byte	0x77
 3120 0200 02       		.uleb128 0x2
 3121 0201 91       		.byte	0x91
 3122 0202 6A       		.sleb128 -22
 3123 0203 10       		.uleb128 0x10
 3124 0204 73756D00 		.ascii	"sum\000"
 3125 0208 01       		.byte	0x1
 3126 0209 B901     		.2byte	0x1b9
 3127 020b 77000000 		.4byte	0x77
 3128 020f 02       		.uleb128 0x2
 3129 0210 91       		.byte	0x91
 3130 0211 76       		.sleb128 -10
 3131 0212 00       		.byte	0
 3132 0213 08       		.uleb128 0x8
 3133 0214 04       		.byte	0x4
 3134 0215 19020000 		.4byte	0x219
 3135 0219 11       		.uleb128 0x11
 3136 021a 6B000000 		.4byte	0x6b
 3137 021e 12       		.uleb128 0x12
 3138 021f A2030000 		.4byte	.LASF37
 3139 0223 01       		.byte	0x1
 3140 0224 D201     		.2byte	0x1d2
 3141 0226 00000000 		.4byte	.LFB33
 3142 022a 1C000000 		.4byte	.LFE33-.LFB33
 3143 022e 01       		.uleb128 0x1
 3144 022f 9C       		.byte	0x9c
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 109


 3145 0230 44020000 		.4byte	0x244
 3146 0234 0F       		.uleb128 0xf
 3147 0235 1C040000 		.4byte	.LASF34
 3148 0239 01       		.byte	0x1
 3149 023a D201     		.2byte	0x1d2
 3150 023c 56010000 		.4byte	0x156
 3151 0240 02       		.uleb128 0x2
 3152 0241 91       		.byte	0x91
 3153 0242 74       		.sleb128 -12
 3154 0243 00       		.byte	0
 3155 0244 13       		.uleb128 0x13
 3156 0245 10050000 		.4byte	.LASF46
 3157 0249 01       		.byte	0x1
 3158 024a 1C02     		.2byte	0x21c
 3159 024c 6B000000 		.4byte	0x6b
 3160 0250 00000000 		.4byte	.LFB34
 3161 0254 58000000 		.4byte	.LFE34-.LFB34
 3162 0258 01       		.uleb128 0x1
 3163 0259 9C       		.byte	0x9c
 3164 025a 9B020000 		.4byte	0x29b
 3165 025e 0F       		.uleb128 0xf
 3166 025f 19000000 		.4byte	.LASF35
 3167 0263 01       		.byte	0x1
 3168 0264 1C02     		.2byte	0x21c
 3169 0266 83000000 		.4byte	0x83
 3170 026a 02       		.uleb128 0x2
 3171 026b 91       		.byte	0x91
 3172 026c 6C       		.sleb128 -20
 3173 026d 0F       		.uleb128 0xf
 3174 026e C0020000 		.4byte	.LASF36
 3175 0272 01       		.byte	0x1
 3176 0273 1C02     		.2byte	0x21c
 3177 0275 83000000 		.4byte	0x83
 3178 0279 02       		.uleb128 0x2
 3179 027a 91       		.byte	0x91
 3180 027b 68       		.sleb128 -24
 3181 027c 0F       		.uleb128 0xf
 3182 027d ED040000 		.4byte	.LASF33
 3183 0281 01       		.byte	0x1
 3184 0282 1C02     		.2byte	0x21c
 3185 0284 83000000 		.4byte	0x83
 3186 0288 02       		.uleb128 0x2
 3187 0289 91       		.byte	0x91
 3188 028a 64       		.sleb128 -28
 3189 028b 10       		.uleb128 0x10
 3190 028c 73756D00 		.ascii	"sum\000"
 3191 0290 01       		.byte	0x1
 3192 0291 1F02     		.2byte	0x21f
 3193 0293 6B000000 		.4byte	0x6b
 3194 0297 02       		.uleb128 0x2
 3195 0298 91       		.byte	0x91
 3196 0299 77       		.sleb128 -9
 3197 029a 00       		.byte	0
 3198 029b 14       		.uleb128 0x14
 3199 029c BD010000 		.4byte	.LASF38
 3200 02a0 01       		.byte	0x1
 3201 02a1 4C03     		.2byte	0x34c
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 110


 3202 02a3 00000000 		.4byte	.LFB35
 3203 02a7 A0000000 		.4byte	.LFE35-.LFB35
 3204 02ab 01       		.uleb128 0x1
 3205 02ac 9C       		.byte	0x9c
 3206 02ad D0020000 		.4byte	0x2d0
 3207 02b1 15       		.uleb128 0x15
 3208 02b2 70040000 		.4byte	.LASF39
 3209 02b6 01       		.byte	0x1
 3210 02b7 5603     		.2byte	0x356
 3211 02b9 A4000000 		.4byte	0xa4
 3212 02bd 02       		.uleb128 0x2
 3213 02be 91       		.byte	0x91
 3214 02bf 6C       		.sleb128 -20
 3215 02c0 15       		.uleb128 0x15
 3216 02c1 D9010000 		.4byte	.LASF40
 3217 02c5 01       		.byte	0x1
 3218 02c6 5903     		.2byte	0x359
 3219 02c8 6B000000 		.4byte	0x6b
 3220 02cc 02       		.uleb128 0x2
 3221 02cd 91       		.byte	0x91
 3222 02ce 6B       		.sleb128 -21
 3223 02cf 00       		.byte	0
 3224 02d0 16       		.uleb128 0x16
 3225 02d1 E3000000 		.4byte	.LASF97
 3226 02d5 01       		.byte	0x1
 3227 02d6 6C04     		.2byte	0x46c
 3228 02d8 00000000 		.4byte	.LFB36
 3229 02dc 18000000 		.4byte	.LFE36-.LFB36
 3230 02e0 01       		.uleb128 0x1
 3231 02e1 9C       		.byte	0x9c
 3232 02e2 14       		.uleb128 0x14
 3233 02e3 56050000 		.4byte	.LASF41
 3234 02e7 01       		.byte	0x1
 3235 02e8 9104     		.2byte	0x491
 3236 02ea 00000000 		.4byte	.LFB37
 3237 02ee 98000000 		.4byte	.LFE37-.LFB37
 3238 02f2 01       		.uleb128 0x1
 3239 02f3 9C       		.byte	0x9c
 3240 02f4 21030000 		.4byte	0x321
 3241 02f8 0F       		.uleb128 0xf
 3242 02f9 06000000 		.4byte	.LASF42
 3243 02fd 01       		.byte	0x1
 3244 02fe 9104     		.2byte	0x491
 3245 0300 6B000000 		.4byte	0x6b
 3246 0304 02       		.uleb128 0x2
 3247 0305 91       		.byte	0x91
 3248 0306 6F       		.sleb128 -17
 3249 0307 17       		.uleb128 0x17
 3250 0308 2A000000 		.4byte	.LBB2
 3251 030c 52000000 		.4byte	.LBE2-.LBB2
 3252 0310 10       		.uleb128 0x10
 3253 0311 69647800 		.ascii	"idx\000"
 3254 0315 01       		.byte	0x1
 3255 0316 9C04     		.2byte	0x49c
 3256 0318 6B000000 		.4byte	0x6b
 3257 031c 02       		.uleb128 0x2
 3258 031d 91       		.byte	0x91
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 111


 3259 031e 77       		.sleb128 -9
 3260 031f 00       		.byte	0
 3261 0320 00       		.byte	0
 3262 0321 14       		.uleb128 0x14
 3263 0322 5C030000 		.4byte	.LASF43
 3264 0326 01       		.byte	0x1
 3265 0327 C604     		.2byte	0x4c6
 3266 0329 00000000 		.4byte	.LFB38
 3267 032d 60000000 		.4byte	.LFE38-.LFB38
 3268 0331 01       		.uleb128 0x1
 3269 0332 9C       		.byte	0x9c
 3270 0333 51030000 		.4byte	0x351
 3271 0337 17       		.uleb128 0x17
 3272 0338 1E000000 		.4byte	.LBB3
 3273 033c 30000000 		.4byte	.LBE3-.LBB3
 3274 0340 15       		.uleb128 0x15
 3275 0341 D9000000 		.4byte	.LASF44
 3276 0345 01       		.byte	0x1
 3277 0346 E204     		.2byte	0x4e2
 3278 0348 6B000000 		.4byte	0x6b
 3279 034c 02       		.uleb128 0x2
 3280 034d 91       		.byte	0x91
 3281 034e 77       		.sleb128 -9
 3282 034f 00       		.byte	0
 3283 0350 00       		.byte	0
 3284 0351 18       		.uleb128 0x18
 3285 0352 F2040000 		.4byte	.LASF50
 3286 0356 01       		.byte	0x1
 3287 0357 1A05     		.2byte	0x51a
 3288 0359 00000000 		.4byte	.LFB39
 3289 035d 04000000 		.4byte	.LFE39-.LFB39
 3290 0361 01       		.uleb128 0x1
 3291 0362 9C       		.byte	0x9c
 3292 0363 76030000 		.4byte	0x376
 3293 0367 0F       		.uleb128 0xf
 3294 0368 2A000000 		.4byte	.LASF45
 3295 036c 01       		.byte	0x1
 3296 036d 1A05     		.2byte	0x51a
 3297 036f 83000000 		.4byte	0x83
 3298 0373 01       		.uleb128 0x1
 3299 0374 50       		.byte	0x50
 3300 0375 00       		.byte	0
 3301 0376 13       		.uleb128 0x13
 3302 0377 3E010000 		.4byte	.LASF47
 3303 037b 01       		.byte	0x1
 3304 037c 4505     		.2byte	0x545
 3305 037e A4000000 		.4byte	0xa4
 3306 0382 00000000 		.4byte	.LFB40
 3307 0386 DC000000 		.4byte	.LFE40-.LFB40
 3308 038a 01       		.uleb128 0x1
 3309 038b 9C       		.byte	0x9c
 3310 038c F5030000 		.4byte	0x3f5
 3311 0390 0F       		.uleb128 0xf
 3312 0391 06000000 		.4byte	.LASF42
 3313 0395 01       		.byte	0x1
 3314 0396 4505     		.2byte	0x545
 3315 0398 6B000000 		.4byte	0x6b
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 112


 3316 039c 02       		.uleb128 0x2
 3317 039d 91       		.byte	0x91
 3318 039e 5F       		.sleb128 -33
 3319 039f 10       		.uleb128 0x10
 3320 03a0 69647800 		.ascii	"idx\000"
 3321 03a4 01       		.byte	0x1
 3322 03a5 4805     		.2byte	0x548
 3323 03a7 83000000 		.4byte	0x83
 3324 03ab 02       		.uleb128 0x2
 3325 03ac 91       		.byte	0x91
 3326 03ad 6C       		.sleb128 -20
 3327 03ae 10       		.uleb128 0x10
 3328 03af 656E6400 		.ascii	"end\000"
 3329 03b3 01       		.byte	0x1
 3330 03b4 4A05     		.2byte	0x54a
 3331 03b6 83000000 		.4byte	0x83
 3332 03ba 02       		.uleb128 0x2
 3333 03bb 91       		.byte	0x91
 3334 03bc 64       		.sleb128 -28
 3335 03bd 15       		.uleb128 0x15
 3336 03be 00000000 		.4byte	.LASF48
 3337 03c2 01       		.byte	0x1
 3338 03c3 4D05     		.2byte	0x54d
 3339 03c5 6B000000 		.4byte	0x6b
 3340 03c9 02       		.uleb128 0x2
 3341 03ca 91       		.byte	0x91
 3342 03cb 6B       		.sleb128 -21
 3343 03cc 15       		.uleb128 0x15
 3344 03cd D9010000 		.4byte	.LASF40
 3345 03d1 01       		.byte	0x1
 3346 03d2 4E05     		.2byte	0x54e
 3347 03d4 6B000000 		.4byte	0x6b
 3348 03d8 02       		.uleb128 0x2
 3349 03d9 91       		.byte	0x91
 3350 03da 6A       		.sleb128 -22
 3351 03db 17       		.uleb128 0x17
 3352 03dc 56000000 		.4byte	.LBB4
 3353 03e0 3A000000 		.4byte	.LBE4-.LBB4
 3354 03e4 15       		.uleb128 0x15
 3355 03e5 B5010000 		.4byte	.LASF49
 3356 03e9 01       		.byte	0x1
 3357 03ea 6705     		.2byte	0x567
 3358 03ec 6B000000 		.4byte	0x6b
 3359 03f0 02       		.uleb128 0x2
 3360 03f1 91       		.byte	0x91
 3361 03f2 63       		.sleb128 -29
 3362 03f3 00       		.byte	0
 3363 03f4 00       		.byte	0
 3364 03f5 19       		.uleb128 0x19
 3365 03f6 54040000 		.4byte	.LASF51
 3366 03fa 01       		.byte	0x1
 3367 03fb 6206     		.2byte	0x662
 3368 03fd 00000000 		.4byte	.LFB41
 3369 0401 68090000 		.4byte	.LFE41-.LFB41
 3370 0405 01       		.uleb128 0x1
 3371 0406 9C       		.byte	0x9c
 3372 0407 CF050000 		.4byte	0x5cf
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 113


 3373 040b 0F       		.uleb128 0xf
 3374 040c 68040000 		.4byte	.LASF52
 3375 0410 01       		.byte	0x1
 3376 0411 6206     		.2byte	0x662
 3377 0413 6B000000 		.4byte	0x6b
 3378 0417 03       		.uleb128 0x3
 3379 0418 91       		.byte	0x91
 3380 0419 CF7A     		.sleb128 -689
 3381 041b 15       		.uleb128 0x15
 3382 041c CE010000 		.4byte	.LASF53
 3383 0420 01       		.byte	0x1
 3384 0421 6906     		.2byte	0x669
 3385 0423 77000000 		.4byte	0x77
 3386 0427 02       		.uleb128 0x2
 3387 0428 91       		.byte	0x91
 3388 0429 48       		.sleb128 -56
 3389 042a 15       		.uleb128 0x15
 3390 042b 79040000 		.4byte	.LASF54
 3391 042f 01       		.byte	0x1
 3392 0430 6A06     		.2byte	0x66a
 3393 0432 77000000 		.4byte	0x77
 3394 0436 02       		.uleb128 0x2
 3395 0437 91       		.byte	0x91
 3396 0438 6E       		.sleb128 -18
 3397 0439 15       		.uleb128 0x15
 3398 043a 44000000 		.4byte	.LASF55
 3399 043e 01       		.byte	0x1
 3400 043f 6B06     		.2byte	0x66b
 3401 0441 6B000000 		.4byte	0x6b
 3402 0445 02       		.uleb128 0x2
 3403 0446 91       		.byte	0x91
 3404 0447 6D       		.sleb128 -19
 3405 0448 15       		.uleb128 0x15
 3406 0449 3C030000 		.4byte	.LASF56
 3407 044d 01       		.byte	0x1
 3408 044e 6C06     		.2byte	0x66c
 3409 0450 77000000 		.4byte	0x77
 3410 0454 02       		.uleb128 0x2
 3411 0455 91       		.byte	0x91
 3412 0456 5A       		.sleb128 -38
 3413 0457 15       		.uleb128 0x15
 3414 0458 32040000 		.4byte	.LASF57
 3415 045c 01       		.byte	0x1
 3416 045d 6D06     		.2byte	0x66d
 3417 045f A4000000 		.4byte	0xa4
 3418 0463 02       		.uleb128 0x2
 3419 0464 91       		.byte	0x91
 3420 0465 5C       		.sleb128 -36
 3421 0466 15       		.uleb128 0x15
 3422 0467 22000000 		.4byte	.LASF58
 3423 046b 01       		.byte	0x1
 3424 046c 6E06     		.2byte	0x66e
 3425 046e 77000000 		.4byte	0x77
 3426 0472 02       		.uleb128 0x2
 3427 0473 91       		.byte	0x91
 3428 0474 6A       		.sleb128 -22
 3429 0475 15       		.uleb128 0x15
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 114


 3430 0476 A9020000 		.4byte	.LASF59
 3431 047a 01       		.byte	0x1
 3432 047b 6F06     		.2byte	0x66f
 3433 047d 6B000000 		.4byte	0x6b
 3434 0481 02       		.uleb128 0x2
 3435 0482 91       		.byte	0x91
 3436 0483 69       		.sleb128 -23
 3437 0484 15       		.uleb128 0x15
 3438 0485 73000000 		.4byte	.LASF60
 3439 0489 01       		.byte	0x1
 3440 048a 7D06     		.2byte	0x67d
 3441 048c 6B000000 		.4byte	0x6b
 3442 0490 02       		.uleb128 0x2
 3443 0491 91       		.byte	0x91
 3444 0492 68       		.sleb128 -24
 3445 0493 15       		.uleb128 0x15
 3446 0494 68000000 		.4byte	.LASF61
 3447 0498 01       		.byte	0x1
 3448 0499 7E06     		.2byte	0x67e
 3449 049b 77000000 		.4byte	0x77
 3450 049f 02       		.uleb128 0x2
 3451 04a0 91       		.byte	0x91
 3452 04a1 66       		.sleb128 -26
 3453 04a2 15       		.uleb128 0x15
 3454 04a3 F5030000 		.4byte	.LASF62
 3455 04a7 01       		.byte	0x1
 3456 04a8 8106     		.2byte	0x681
 3457 04aa CF050000 		.4byte	0x5cf
 3458 04ae 03       		.uleb128 0x3
 3459 04af 91       		.byte	0x91
 3460 04b0 9C7D     		.sleb128 -356
 3461 04b2 15       		.uleb128 0x15
 3462 04b3 D4020000 		.4byte	.LASF63
 3463 04b7 01       		.byte	0x1
 3464 04b8 8206     		.2byte	0x682
 3465 04ba CF050000 		.4byte	0x5cf
 3466 04be 03       		.uleb128 0x3
 3467 04bf 91       		.byte	0x91
 3468 04c0 F07A     		.sleb128 -656
 3469 04c2 17       		.uleb128 0x17
 3470 04c3 F6010000 		.4byte	.LBB5
 3471 04c7 EE060000 		.4byte	.LBE5-.LBB5
 3472 04cb 15       		.uleb128 0x15
 3473 04cc 5E000000 		.4byte	.LASF64
 3474 04d0 01       		.byte	0x1
 3475 04d1 E906     		.2byte	0x6e9
 3476 04d3 6B000000 		.4byte	0x6b
 3477 04d7 02       		.uleb128 0x2
 3478 04d8 91       		.byte	0x91
 3479 04d9 59       		.sleb128 -39
 3480 04da 1A       		.uleb128 0x1a
 3481 04db A2020000 		.4byte	.LBB6
 3482 04df C8000000 		.4byte	.LBE6-.LBB6
 3483 04e3 06050000 		.4byte	0x506
 3484 04e7 15       		.uleb128 0x15
 3485 04e8 55000000 		.4byte	.LASF65
 3486 04ec 01       		.byte	0x1
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 115


 3487 04ed A707     		.2byte	0x7a7
 3488 04ef 77000000 		.4byte	0x77
 3489 04f3 02       		.uleb128 0x2
 3490 04f4 91       		.byte	0x91
 3491 04f5 64       		.sleb128 -28
 3492 04f6 15       		.uleb128 0x15
 3493 04f7 A3010000 		.4byte	.LASF66
 3494 04fb 01       		.byte	0x1
 3495 04fc A807     		.2byte	0x7a8
 3496 04fe 6B000000 		.4byte	0x6b
 3497 0502 02       		.uleb128 0x2
 3498 0503 91       		.byte	0x91
 3499 0504 58       		.sleb128 -40
 3500 0505 00       		.byte	0
 3501 0506 1B       		.uleb128 0x1b
 3502 0507 00000000 		.4byte	.Ldebug_ranges0+0
 3503 050b 43050000 		.4byte	0x543
 3504 050f 15       		.uleb128 0x15
 3505 0510 27050000 		.4byte	.LASF67
 3506 0514 01       		.byte	0x1
 3507 0515 3108     		.2byte	0x831
 3508 0517 77000000 		.4byte	0x77
 3509 051b 02       		.uleb128 0x2
 3510 051c 91       		.byte	0x91
 3511 051d 56       		.sleb128 -42
 3512 051e 1C       		.uleb128 0x1c
 3513 051f 18000000 		.4byte	.Ldebug_ranges0+0x18
 3514 0523 10       		.uleb128 0x10
 3515 0524 726F7700 		.ascii	"row\000"
 3516 0528 01       		.byte	0x1
 3517 0529 5908     		.2byte	0x859
 3518 052b 77000000 		.4byte	0x77
 3519 052f 02       		.uleb128 0x2
 3520 0530 91       		.byte	0x91
 3521 0531 54       		.sleb128 -44
 3522 0532 15       		.uleb128 0x15
 3523 0533 A7050000 		.4byte	.LASF68
 3524 0537 01       		.byte	0x1
 3525 0538 5A08     		.2byte	0x85a
 3526 053a 77000000 		.4byte	0x77
 3527 053e 02       		.uleb128 0x2
 3528 053f 91       		.byte	0x91
 3529 0540 62       		.sleb128 -30
 3530 0541 00       		.byte	0
 3531 0542 00       		.byte	0
 3532 0543 1A       		.uleb128 0x1a
 3533 0544 DE050000 		.4byte	.LBB10
 3534 0548 4C000000 		.4byte	.LBE10-.LBB10
 3535 054c 61050000 		.4byte	0x561
 3536 0550 15       		.uleb128 0x15
 3537 0551 86000000 		.4byte	.LASF69
 3538 0555 01       		.byte	0x1
 3539 0556 A209     		.2byte	0x9a2
 3540 0558 C0010000 		.4byte	0x1c0
 3541 055c 03       		.uleb128 0x3
 3542 055d 91       		.byte	0x91
 3543 055e E87A     		.sleb128 -664
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 116


 3544 0560 00       		.byte	0
 3545 0561 1B       		.uleb128 0x1b
 3546 0562 30000000 		.4byte	.Ldebug_ranges0+0x30
 3547 0566 A7050000 		.4byte	0x5a7
 3548 056a 15       		.uleb128 0x15
 3549 056b 8A020000 		.4byte	.LASF70
 3550 056f 01       		.byte	0x1
 3551 0570 E309     		.2byte	0x9e3
 3552 0572 77000000 		.4byte	0x77
 3553 0576 02       		.uleb128 0x2
 3554 0577 91       		.byte	0x91
 3555 0578 52       		.sleb128 -46
 3556 0579 15       		.uleb128 0x15
 3557 057a 6C010000 		.4byte	.LASF71
 3558 057e 01       		.byte	0x1
 3559 057f E609     		.2byte	0x9e6
 3560 0581 77000000 		.4byte	0x77
 3561 0585 02       		.uleb128 0x2
 3562 0586 91       		.byte	0x91
 3563 0587 4A       		.sleb128 -54
 3564 0588 15       		.uleb128 0x15
 3565 0589 C2040000 		.4byte	.LASF72
 3566 058d 01       		.byte	0x1
 3567 058e 130A     		.2byte	0xa13
 3568 0590 83000000 		.4byte	0x83
 3569 0594 02       		.uleb128 0x2
 3570 0595 91       		.byte	0x91
 3571 0596 4C       		.sleb128 -52
 3572 0597 15       		.uleb128 0x15
 3573 0598 0F010000 		.4byte	.LASF73
 3574 059c 01       		.byte	0x1
 3575 059d 160A     		.2byte	0xa16
 3576 059f 6B000000 		.4byte	0x6b
 3577 05a3 02       		.uleb128 0x2
 3578 05a4 91       		.byte	0x91
 3579 05a5 61       		.sleb128 -31
 3580 05a6 00       		.byte	0
 3581 05a7 1C       		.uleb128 0x1c
 3582 05a8 48000000 		.4byte	.Ldebug_ranges0+0x48
 3583 05ac 15       		.uleb128 0x15
 3584 05ad E8010000 		.4byte	.LASF74
 3585 05b1 01       		.byte	0x1
 3586 05b2 860A     		.2byte	0xa86
 3587 05b4 13010000 		.4byte	0x113
 3588 05b8 03       		.uleb128 0x3
 3589 05b9 91       		.byte	0x91
 3590 05ba E07A     		.sleb128 -672
 3591 05bc 15       		.uleb128 0x15
 3592 05bd 02040000 		.4byte	.LASF75
 3593 05c1 01       		.byte	0x1
 3594 05c2 870A     		.2byte	0xa87
 3595 05c4 4B010000 		.4byte	0x14b
 3596 05c8 03       		.uleb128 0x3
 3597 05c9 91       		.byte	0x91
 3598 05ca D47A     		.sleb128 -684
 3599 05cc 00       		.byte	0
 3600 05cd 00       		.byte	0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 117


 3601 05ce 00       		.byte	0
 3602 05cf 0C       		.uleb128 0xc
 3603 05d0 6B000000 		.4byte	0x6b
 3604 05d4 E0050000 		.4byte	0x5e0
 3605 05d8 1D       		.uleb128 0x1d
 3606 05d9 D9000000 		.4byte	0xd9
 3607 05dd 2B01     		.2byte	0x12b
 3608 05df 00       		.byte	0
 3609 05e0 1E       		.uleb128 0x1e
 3610 05e1 8C010000 		.4byte	.LASF77
 3611 05e5 01       		.byte	0x1
 3612 05e6 C80A     		.2byte	0xac8
 3613 05e8 A4000000 		.4byte	0xa4
 3614 05ec 00000000 		.4byte	.LFB42
 3615 05f0 B2000000 		.4byte	.LFE42-.LFB42
 3616 05f4 01       		.uleb128 0x1
 3617 05f5 9C       		.byte	0x9c
 3618 05f6 37060000 		.4byte	0x637
 3619 05fa 0F       		.uleb128 0xf
 3620 05fb C0030000 		.4byte	.LASF24
 3621 05ff 01       		.byte	0x1
 3622 0600 C80A     		.2byte	0xac8
 3623 0602 6B000000 		.4byte	0x6b
 3624 0606 02       		.uleb128 0x2
 3625 0607 91       		.byte	0x91
 3626 0608 67       		.sleb128 -25
 3627 0609 0F       		.uleb128 0xf
 3628 060a 8B040000 		.4byte	.LASF32
 3629 060e 01       		.byte	0x1
 3630 060f C80A     		.2byte	0xac8
 3631 0611 0D010000 		.4byte	0x10d
 3632 0615 02       		.uleb128 0x2
 3633 0616 91       		.byte	0x91
 3634 0617 60       		.sleb128 -32
 3635 0618 0F       		.uleb128 0xf
 3636 0619 ED040000 		.4byte	.LASF33
 3637 061d 01       		.byte	0x1
 3638 061e C80A     		.2byte	0xac8
 3639 0620 77000000 		.4byte	0x77
 3640 0624 02       		.uleb128 0x2
 3641 0625 91       		.byte	0x91
 3642 0626 64       		.sleb128 -28
 3643 0627 15       		.uleb128 0x15
 3644 0628 0F010000 		.4byte	.LASF73
 3645 062c 01       		.byte	0x1
 3646 062d CB0A     		.2byte	0xacb
 3647 062f 77000000 		.4byte	0x77
 3648 0633 02       		.uleb128 0x2
 3649 0634 91       		.byte	0x91
 3650 0635 6E       		.sleb128 -18
 3651 0636 00       		.byte	0
 3652 0637 14       		.uleb128 0x14
 3653 0638 91020000 		.4byte	.LASF78
 3654 063c 01       		.byte	0x1
 3655 063d EC0A     		.2byte	0xaec
 3656 063f 00000000 		.4byte	.LFB43
 3657 0643 AC000000 		.4byte	.LFE43-.LFB43
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 118


 3658 0647 01       		.uleb128 0x1
 3659 0648 9C       		.byte	0x9c
 3660 0649 BA060000 		.4byte	0x6ba
 3661 064d 0F       		.uleb128 0xf
 3662 064e 07010000 		.4byte	.LASF79
 3663 0652 01       		.byte	0x1
 3664 0653 EC0A     		.2byte	0xaec
 3665 0655 83000000 		.4byte	0x83
 3666 0659 03       		.uleb128 0x3
 3667 065a 91       		.byte	0x91
 3668 065b E47E     		.sleb128 -156
 3669 065d 0F       		.uleb128 0xf
 3670 065e D1000000 		.4byte	.LASF80
 3671 0662 01       		.byte	0x1
 3672 0663 EC0A     		.2byte	0xaec
 3673 0665 6B000000 		.4byte	0x6b
 3674 0669 03       		.uleb128 0x3
 3675 066a 91       		.byte	0x91
 3676 066b E37E     		.sleb128 -157
 3677 066d 15       		.uleb128 0x15
 3678 066e D1040000 		.4byte	.LASF81
 3679 0672 01       		.byte	0x1
 3680 0673 EE0A     		.2byte	0xaee
 3681 0675 83000000 		.4byte	0x83
 3682 0679 02       		.uleb128 0x2
 3683 067a 91       		.byte	0x91
 3684 067b 70       		.sleb128 -16
 3685 067c 15       		.uleb128 0x15
 3686 067d 32000000 		.4byte	.LASF82
 3687 0681 01       		.byte	0x1
 3688 0682 EF0A     		.2byte	0xaef
 3689 0684 BA060000 		.4byte	0x6ba
 3690 0688 03       		.uleb128 0x3
 3691 0689 91       		.byte	0x91
 3692 068a E87E     		.sleb128 -152
 3693 068c 15       		.uleb128 0x15
 3694 068d 8A020000 		.4byte	.LASF70
 3695 0691 01       		.byte	0x1
 3696 0692 F60A     		.2byte	0xaf6
 3697 0694 77000000 		.4byte	0x77
 3698 0698 02       		.uleb128 0x2
 3699 0699 91       		.byte	0x91
 3700 069a 6E       		.sleb128 -18
 3701 069b 15       		.uleb128 0x15
 3702 069c 19000000 		.4byte	.LASF35
 3703 06a0 01       		.byte	0x1
 3704 06a1 FB0A     		.2byte	0xafb
 3705 06a3 83000000 		.4byte	0x83
 3706 06a7 02       		.uleb128 0x2
 3707 06a8 91       		.byte	0x91
 3708 06a9 68       		.sleb128 -24
 3709 06aa 10       		.uleb128 0x10
 3710 06ab 69647800 		.ascii	"idx\000"
 3711 06af 01       		.byte	0x1
 3712 06b0 FC0A     		.2byte	0xafc
 3713 06b2 77000000 		.4byte	0x77
 3714 06b6 02       		.uleb128 0x2
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 119


 3715 06b7 91       		.byte	0x91
 3716 06b8 76       		.sleb128 -10
 3717 06b9 00       		.byte	0
 3718 06ba 0C       		.uleb128 0xc
 3719 06bb 6B000000 		.4byte	0x6b
 3720 06bf CA060000 		.4byte	0x6ca
 3721 06c3 0D       		.uleb128 0xd
 3722 06c4 D9000000 		.4byte	0xd9
 3723 06c8 7F       		.byte	0x7f
 3724 06c9 00       		.byte	0
 3725 06ca 13       		.uleb128 0x13
 3726 06cb B0050000 		.4byte	.LASF83
 3727 06cf 01       		.byte	0x1
 3728 06d0 2D0B     		.2byte	0xb2d
 3729 06d2 83000000 		.4byte	0x83
 3730 06d6 00000000 		.4byte	.LFB44
 3731 06da 3C020000 		.4byte	.LFE44-.LFB44
 3732 06de 01       		.uleb128 0x1
 3733 06df 9C       		.byte	0x9c
 3734 06e0 30070000 		.4byte	0x730
 3735 06e4 0F       		.uleb128 0xf
 3736 06e5 70030000 		.4byte	.LASF84
 3737 06e9 01       		.byte	0x1
 3738 06ea 2D0B     		.2byte	0xb2d
 3739 06ec 6B000000 		.4byte	0x6b
 3740 06f0 02       		.uleb128 0x2
 3741 06f1 91       		.byte	0x91
 3742 06f2 67       		.sleb128 -25
 3743 06f3 0F       		.uleb128 0xf
 3744 06f4 06000000 		.4byte	.LASF42
 3745 06f8 01       		.byte	0x1
 3746 06f9 2D0B     		.2byte	0xb2d
 3747 06fb 6B000000 		.4byte	0x6b
 3748 06ff 02       		.uleb128 0x2
 3749 0700 91       		.byte	0x91
 3750 0701 66       		.sleb128 -26
 3751 0702 15       		.uleb128 0x15
 3752 0703 C7050000 		.4byte	.LASF85
 3753 0707 01       		.byte	0x1
 3754 0708 2F0B     		.2byte	0xb2f
 3755 070a 83000000 		.4byte	0x83
 3756 070e 02       		.uleb128 0x2
 3757 070f 91       		.byte	0x91
 3758 0710 74       		.sleb128 -12
 3759 0711 15       		.uleb128 0x15
 3760 0712 32050000 		.4byte	.LASF86
 3761 0716 01       		.byte	0x1
 3762 0717 300B     		.2byte	0xb30
 3763 0719 6B000000 		.4byte	0x6b
 3764 071d 02       		.uleb128 0x2
 3765 071e 91       		.byte	0x91
 3766 071f 73       		.sleb128 -13
 3767 0720 15       		.uleb128 0x15
 3768 0721 0C000000 		.4byte	.LASF87
 3769 0725 01       		.byte	0x1
 3770 0726 310B     		.2byte	0xb31
 3771 0728 83000000 		.4byte	0x83
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 120


 3772 072c 02       		.uleb128 0x2
 3773 072d 91       		.byte	0x91
 3774 072e 6C       		.sleb128 -20
 3775 072f 00       		.byte	0
 3776 0730 1F       		.uleb128 0x1f
 3777 0731 D9040000 		.4byte	.LASF88
 3778 0735 01       		.byte	0x1
 3779 0736 72       		.byte	0x72
 3780 0737 56010000 		.4byte	0x156
 3781 073b 05       		.uleb128 0x5
 3782 073c 03       		.byte	0x3
 3783 073d 00000000 		.4byte	Bootloader_callback
 3784 0741 20       		.uleb128 0x20
 3785 0742 48030000 		.4byte	.LASF89
 3786 0746 01       		.byte	0x1
 3787 0747 2E       		.byte	0x2e
 3788 0748 19020000 		.4byte	0x219
 3789 074c 05       		.uleb128 0x5
 3790 074d 03       		.byte	0x3
 3791 074e 00000000 		.4byte	Bootloader_Checksum
 3792 0752 20       		.uleb128 0x20
 3793 0753 88030000 		.4byte	.LASF90
 3794 0757 01       		.byte	0x1
 3795 0758 32       		.byte	0x32
 3796 0759 13020000 		.4byte	0x213
 3797 075d 05       		.uleb128 0x5
 3798 075e 03       		.byte	0x3
 3799 075f 00000000 		.4byte	Bootloader_ChecksumAccess
 3800 0763 20       		.uleb128 0x20
 3801 0764 77050000 		.4byte	.LASF91
 3802 0768 01       		.byte	0x1
 3803 0769 36       		.byte	0x36
 3804 076a 74070000 		.4byte	0x774
 3805 076e 05       		.uleb128 0x5
 3806 076f 03       		.byte	0x3
 3807 0770 00000000 		.4byte	Bootloader_SizeBytes
 3808 0774 11       		.uleb128 0x11
 3809 0775 83000000 		.4byte	0x83
 3810 0779 20       		.uleb128 0x20
 3811 077a 8C050000 		.4byte	.LASF92
 3812 077e 01       		.byte	0x1
 3813 077f 3E       		.byte	0x3e
 3814 0780 8A070000 		.4byte	0x78a
 3815 0784 05       		.uleb128 0x5
 3816 0785 03       		.byte	0x3
 3817 0786 00000000 		.4byte	Bootloader_SizeBytesAccess
 3818 078a 08       		.uleb128 0x8
 3819 078b 04       		.byte	0x4
 3820 078c 74070000 		.4byte	0x774
 3821 0790 21       		.uleb128 0x21
 3822 0791 FD020000 		.4byte	.LASF93
 3823 0795 03       		.byte	0x3
 3824 0796 A8       		.byte	0xa8
 3825 0797 CD000000 		.4byte	0xcd
 3826 079b 00       		.byte	0
 3827              		.section	.debug_abbrev,"",%progbits
 3828              	.Ldebug_abbrev0:
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 121


 3829 0000 01       		.uleb128 0x1
 3830 0001 11       		.uleb128 0x11
 3831 0002 01       		.byte	0x1
 3832 0003 25       		.uleb128 0x25
 3833 0004 0E       		.uleb128 0xe
 3834 0005 13       		.uleb128 0x13
 3835 0006 0B       		.uleb128 0xb
 3836 0007 03       		.uleb128 0x3
 3837 0008 0E       		.uleb128 0xe
 3838 0009 1B       		.uleb128 0x1b
 3839 000a 0E       		.uleb128 0xe
 3840 000b 55       		.uleb128 0x55
 3841 000c 17       		.uleb128 0x17
 3842 000d 11       		.uleb128 0x11
 3843 000e 01       		.uleb128 0x1
 3844 000f 10       		.uleb128 0x10
 3845 0010 17       		.uleb128 0x17
 3846 0011 00       		.byte	0
 3847 0012 00       		.byte	0
 3848 0013 02       		.uleb128 0x2
 3849 0014 24       		.uleb128 0x24
 3850 0015 00       		.byte	0
 3851 0016 0B       		.uleb128 0xb
 3852 0017 0B       		.uleb128 0xb
 3853 0018 3E       		.uleb128 0x3e
 3854 0019 0B       		.uleb128 0xb
 3855 001a 03       		.uleb128 0x3
 3856 001b 0E       		.uleb128 0xe
 3857 001c 00       		.byte	0
 3858 001d 00       		.byte	0
 3859 001e 03       		.uleb128 0x3
 3860 001f 24       		.uleb128 0x24
 3861 0020 00       		.byte	0
 3862 0021 0B       		.uleb128 0xb
 3863 0022 0B       		.uleb128 0xb
 3864 0023 3E       		.uleb128 0x3e
 3865 0024 0B       		.uleb128 0xb
 3866 0025 03       		.uleb128 0x3
 3867 0026 08       		.uleb128 0x8
 3868 0027 00       		.byte	0
 3869 0028 00       		.byte	0
 3870 0029 04       		.uleb128 0x4
 3871 002a 16       		.uleb128 0x16
 3872 002b 00       		.byte	0
 3873 002c 03       		.uleb128 0x3
 3874 002d 0E       		.uleb128 0xe
 3875 002e 3A       		.uleb128 0x3a
 3876 002f 0B       		.uleb128 0xb
 3877 0030 3B       		.uleb128 0x3b
 3878 0031 05       		.uleb128 0x5
 3879 0032 49       		.uleb128 0x49
 3880 0033 13       		.uleb128 0x13
 3881 0034 00       		.byte	0
 3882 0035 00       		.byte	0
 3883 0036 05       		.uleb128 0x5
 3884 0037 35       		.uleb128 0x35
 3885 0038 00       		.byte	0
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 122


 3886 0039 49       		.uleb128 0x49
 3887 003a 13       		.uleb128 0x13
 3888 003b 00       		.byte	0
 3889 003c 00       		.byte	0
 3890 003d 06       		.uleb128 0x6
 3891 003e 13       		.uleb128 0x13
 3892 003f 01       		.byte	0x1
 3893 0040 0B       		.uleb128 0xb
 3894 0041 0B       		.uleb128 0xb
 3895 0042 3A       		.uleb128 0x3a
 3896 0043 0B       		.uleb128 0xb
 3897 0044 3B       		.uleb128 0x3b
 3898 0045 0B       		.uleb128 0xb
 3899 0046 01       		.uleb128 0x1
 3900 0047 13       		.uleb128 0x13
 3901 0048 00       		.byte	0
 3902 0049 00       		.byte	0
 3903 004a 07       		.uleb128 0x7
 3904 004b 0D       		.uleb128 0xd
 3905 004c 00       		.byte	0
 3906 004d 03       		.uleb128 0x3
 3907 004e 0E       		.uleb128 0xe
 3908 004f 3A       		.uleb128 0x3a
 3909 0050 0B       		.uleb128 0xb
 3910 0051 3B       		.uleb128 0x3b
 3911 0052 0B       		.uleb128 0xb
 3912 0053 49       		.uleb128 0x49
 3913 0054 13       		.uleb128 0x13
 3914 0055 38       		.uleb128 0x38
 3915 0056 0B       		.uleb128 0xb
 3916 0057 00       		.byte	0
 3917 0058 00       		.byte	0
 3918 0059 08       		.uleb128 0x8
 3919 005a 0F       		.uleb128 0xf
 3920 005b 00       		.byte	0
 3921 005c 0B       		.uleb128 0xb
 3922 005d 0B       		.uleb128 0xb
 3923 005e 49       		.uleb128 0x49
 3924 005f 13       		.uleb128 0x13
 3925 0060 00       		.byte	0
 3926 0061 00       		.byte	0
 3927 0062 09       		.uleb128 0x9
 3928 0063 16       		.uleb128 0x16
 3929 0064 00       		.byte	0
 3930 0065 03       		.uleb128 0x3
 3931 0066 0E       		.uleb128 0xe
 3932 0067 3A       		.uleb128 0x3a
 3933 0068 0B       		.uleb128 0xb
 3934 0069 3B       		.uleb128 0x3b
 3935 006a 0B       		.uleb128 0xb
 3936 006b 49       		.uleb128 0x49
 3937 006c 13       		.uleb128 0x13
 3938 006d 00       		.byte	0
 3939 006e 00       		.byte	0
 3940 006f 0A       		.uleb128 0xa
 3941 0070 15       		.uleb128 0x15
 3942 0071 01       		.byte	0x1
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 123


 3943 0072 27       		.uleb128 0x27
 3944 0073 19       		.uleb128 0x19
 3945 0074 01       		.uleb128 0x1
 3946 0075 13       		.uleb128 0x13
 3947 0076 00       		.byte	0
 3948 0077 00       		.byte	0
 3949 0078 0B       		.uleb128 0xb
 3950 0079 05       		.uleb128 0x5
 3951 007a 00       		.byte	0
 3952 007b 49       		.uleb128 0x49
 3953 007c 13       		.uleb128 0x13
 3954 007d 00       		.byte	0
 3955 007e 00       		.byte	0
 3956 007f 0C       		.uleb128 0xc
 3957 0080 01       		.uleb128 0x1
 3958 0081 01       		.byte	0x1
 3959 0082 49       		.uleb128 0x49
 3960 0083 13       		.uleb128 0x13
 3961 0084 01       		.uleb128 0x1
 3962 0085 13       		.uleb128 0x13
 3963 0086 00       		.byte	0
 3964 0087 00       		.byte	0
 3965 0088 0D       		.uleb128 0xd
 3966 0089 21       		.uleb128 0x21
 3967 008a 00       		.byte	0
 3968 008b 49       		.uleb128 0x49
 3969 008c 13       		.uleb128 0x13
 3970 008d 2F       		.uleb128 0x2f
 3971 008e 0B       		.uleb128 0xb
 3972 008f 00       		.byte	0
 3973 0090 00       		.byte	0
 3974 0091 0E       		.uleb128 0xe
 3975 0092 2E       		.uleb128 0x2e
 3976 0093 01       		.byte	0x1
 3977 0094 03       		.uleb128 0x3
 3978 0095 0E       		.uleb128 0xe
 3979 0096 3A       		.uleb128 0x3a
 3980 0097 0B       		.uleb128 0xb
 3981 0098 3B       		.uleb128 0x3b
 3982 0099 05       		.uleb128 0x5
 3983 009a 27       		.uleb128 0x27
 3984 009b 19       		.uleb128 0x19
 3985 009c 49       		.uleb128 0x49
 3986 009d 13       		.uleb128 0x13
 3987 009e 11       		.uleb128 0x11
 3988 009f 01       		.uleb128 0x1
 3989 00a0 12       		.uleb128 0x12
 3990 00a1 06       		.uleb128 0x6
 3991 00a2 40       		.uleb128 0x40
 3992 00a3 18       		.uleb128 0x18
 3993 00a4 9742     		.uleb128 0x2117
 3994 00a6 19       		.uleb128 0x19
 3995 00a7 01       		.uleb128 0x1
 3996 00a8 13       		.uleb128 0x13
 3997 00a9 00       		.byte	0
 3998 00aa 00       		.byte	0
 3999 00ab 0F       		.uleb128 0xf
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 124


 4000 00ac 05       		.uleb128 0x5
 4001 00ad 00       		.byte	0
 4002 00ae 03       		.uleb128 0x3
 4003 00af 0E       		.uleb128 0xe
 4004 00b0 3A       		.uleb128 0x3a
 4005 00b1 0B       		.uleb128 0xb
 4006 00b2 3B       		.uleb128 0x3b
 4007 00b3 05       		.uleb128 0x5
 4008 00b4 49       		.uleb128 0x49
 4009 00b5 13       		.uleb128 0x13
 4010 00b6 02       		.uleb128 0x2
 4011 00b7 18       		.uleb128 0x18
 4012 00b8 00       		.byte	0
 4013 00b9 00       		.byte	0
 4014 00ba 10       		.uleb128 0x10
 4015 00bb 34       		.uleb128 0x34
 4016 00bc 00       		.byte	0
 4017 00bd 03       		.uleb128 0x3
 4018 00be 08       		.uleb128 0x8
 4019 00bf 3A       		.uleb128 0x3a
 4020 00c0 0B       		.uleb128 0xb
 4021 00c1 3B       		.uleb128 0x3b
 4022 00c2 05       		.uleb128 0x5
 4023 00c3 49       		.uleb128 0x49
 4024 00c4 13       		.uleb128 0x13
 4025 00c5 02       		.uleb128 0x2
 4026 00c6 18       		.uleb128 0x18
 4027 00c7 00       		.byte	0
 4028 00c8 00       		.byte	0
 4029 00c9 11       		.uleb128 0x11
 4030 00ca 26       		.uleb128 0x26
 4031 00cb 00       		.byte	0
 4032 00cc 49       		.uleb128 0x49
 4033 00cd 13       		.uleb128 0x13
 4034 00ce 00       		.byte	0
 4035 00cf 00       		.byte	0
 4036 00d0 12       		.uleb128 0x12
 4037 00d1 2E       		.uleb128 0x2e
 4038 00d2 01       		.byte	0x1
 4039 00d3 3F       		.uleb128 0x3f
 4040 00d4 19       		.uleb128 0x19
 4041 00d5 03       		.uleb128 0x3
 4042 00d6 0E       		.uleb128 0xe
 4043 00d7 3A       		.uleb128 0x3a
 4044 00d8 0B       		.uleb128 0xb
 4045 00d9 3B       		.uleb128 0x3b
 4046 00da 05       		.uleb128 0x5
 4047 00db 27       		.uleb128 0x27
 4048 00dc 19       		.uleb128 0x19
 4049 00dd 11       		.uleb128 0x11
 4050 00de 01       		.uleb128 0x1
 4051 00df 12       		.uleb128 0x12
 4052 00e0 06       		.uleb128 0x6
 4053 00e1 40       		.uleb128 0x40
 4054 00e2 18       		.uleb128 0x18
 4055 00e3 9742     		.uleb128 0x2117
 4056 00e5 19       		.uleb128 0x19
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 125


 4057 00e6 01       		.uleb128 0x1
 4058 00e7 13       		.uleb128 0x13
 4059 00e8 00       		.byte	0
 4060 00e9 00       		.byte	0
 4061 00ea 13       		.uleb128 0x13
 4062 00eb 2E       		.uleb128 0x2e
 4063 00ec 01       		.byte	0x1
 4064 00ed 3F       		.uleb128 0x3f
 4065 00ee 19       		.uleb128 0x19
 4066 00ef 03       		.uleb128 0x3
 4067 00f0 0E       		.uleb128 0xe
 4068 00f1 3A       		.uleb128 0x3a
 4069 00f2 0B       		.uleb128 0xb
 4070 00f3 3B       		.uleb128 0x3b
 4071 00f4 05       		.uleb128 0x5
 4072 00f5 27       		.uleb128 0x27
 4073 00f6 19       		.uleb128 0x19
 4074 00f7 49       		.uleb128 0x49
 4075 00f8 13       		.uleb128 0x13
 4076 00f9 11       		.uleb128 0x11
 4077 00fa 01       		.uleb128 0x1
 4078 00fb 12       		.uleb128 0x12
 4079 00fc 06       		.uleb128 0x6
 4080 00fd 40       		.uleb128 0x40
 4081 00fe 18       		.uleb128 0x18
 4082 00ff 9642     		.uleb128 0x2116
 4083 0101 19       		.uleb128 0x19
 4084 0102 01       		.uleb128 0x1
 4085 0103 13       		.uleb128 0x13
 4086 0104 00       		.byte	0
 4087 0105 00       		.byte	0
 4088 0106 14       		.uleb128 0x14
 4089 0107 2E       		.uleb128 0x2e
 4090 0108 01       		.byte	0x1
 4091 0109 3F       		.uleb128 0x3f
 4092 010a 19       		.uleb128 0x19
 4093 010b 03       		.uleb128 0x3
 4094 010c 0E       		.uleb128 0xe
 4095 010d 3A       		.uleb128 0x3a
 4096 010e 0B       		.uleb128 0xb
 4097 010f 3B       		.uleb128 0x3b
 4098 0110 05       		.uleb128 0x5
 4099 0111 27       		.uleb128 0x27
 4100 0112 19       		.uleb128 0x19
 4101 0113 11       		.uleb128 0x11
 4102 0114 01       		.uleb128 0x1
 4103 0115 12       		.uleb128 0x12
 4104 0116 06       		.uleb128 0x6
 4105 0117 40       		.uleb128 0x40
 4106 0118 18       		.uleb128 0x18
 4107 0119 9642     		.uleb128 0x2116
 4108 011b 19       		.uleb128 0x19
 4109 011c 01       		.uleb128 0x1
 4110 011d 13       		.uleb128 0x13
 4111 011e 00       		.byte	0
 4112 011f 00       		.byte	0
 4113 0120 15       		.uleb128 0x15
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 126


 4114 0121 34       		.uleb128 0x34
 4115 0122 00       		.byte	0
 4116 0123 03       		.uleb128 0x3
 4117 0124 0E       		.uleb128 0xe
 4118 0125 3A       		.uleb128 0x3a
 4119 0126 0B       		.uleb128 0xb
 4120 0127 3B       		.uleb128 0x3b
 4121 0128 05       		.uleb128 0x5
 4122 0129 49       		.uleb128 0x49
 4123 012a 13       		.uleb128 0x13
 4124 012b 02       		.uleb128 0x2
 4125 012c 18       		.uleb128 0x18
 4126 012d 00       		.byte	0
 4127 012e 00       		.byte	0
 4128 012f 16       		.uleb128 0x16
 4129 0130 2E       		.uleb128 0x2e
 4130 0131 00       		.byte	0
 4131 0132 03       		.uleb128 0x3
 4132 0133 0E       		.uleb128 0xe
 4133 0134 3A       		.uleb128 0x3a
 4134 0135 0B       		.uleb128 0xb
 4135 0136 3B       		.uleb128 0x3b
 4136 0137 05       		.uleb128 0x5
 4137 0138 27       		.uleb128 0x27
 4138 0139 19       		.uleb128 0x19
 4139 013a 11       		.uleb128 0x11
 4140 013b 01       		.uleb128 0x1
 4141 013c 12       		.uleb128 0x12
 4142 013d 06       		.uleb128 0x6
 4143 013e 40       		.uleb128 0x40
 4144 013f 18       		.uleb128 0x18
 4145 0140 9642     		.uleb128 0x2116
 4146 0142 19       		.uleb128 0x19
 4147 0143 00       		.byte	0
 4148 0144 00       		.byte	0
 4149 0145 17       		.uleb128 0x17
 4150 0146 0B       		.uleb128 0xb
 4151 0147 01       		.byte	0x1
 4152 0148 11       		.uleb128 0x11
 4153 0149 01       		.uleb128 0x1
 4154 014a 12       		.uleb128 0x12
 4155 014b 06       		.uleb128 0x6
 4156 014c 00       		.byte	0
 4157 014d 00       		.byte	0
 4158 014e 18       		.uleb128 0x18
 4159 014f 2E       		.uleb128 0x2e
 4160 0150 01       		.byte	0x1
 4161 0151 03       		.uleb128 0x3
 4162 0152 0E       		.uleb128 0xe
 4163 0153 3A       		.uleb128 0x3a
 4164 0154 0B       		.uleb128 0xb
 4165 0155 3B       		.uleb128 0x3b
 4166 0156 05       		.uleb128 0x5
 4167 0157 27       		.uleb128 0x27
 4168 0158 19       		.uleb128 0x19
 4169 0159 11       		.uleb128 0x11
 4170 015a 01       		.uleb128 0x1
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 127


 4171 015b 12       		.uleb128 0x12
 4172 015c 06       		.uleb128 0x6
 4173 015d 40       		.uleb128 0x40
 4174 015e 18       		.uleb128 0x18
 4175 015f 9742     		.uleb128 0x2117
 4176 0161 19       		.uleb128 0x19
 4177 0162 01       		.uleb128 0x1
 4178 0163 13       		.uleb128 0x13
 4179 0164 00       		.byte	0
 4180 0165 00       		.byte	0
 4181 0166 19       		.uleb128 0x19
 4182 0167 2E       		.uleb128 0x2e
 4183 0168 01       		.byte	0x1
 4184 0169 03       		.uleb128 0x3
 4185 016a 0E       		.uleb128 0xe
 4186 016b 3A       		.uleb128 0x3a
 4187 016c 0B       		.uleb128 0xb
 4188 016d 3B       		.uleb128 0x3b
 4189 016e 05       		.uleb128 0x5
 4190 016f 27       		.uleb128 0x27
 4191 0170 19       		.uleb128 0x19
 4192 0171 11       		.uleb128 0x11
 4193 0172 01       		.uleb128 0x1
 4194 0173 12       		.uleb128 0x12
 4195 0174 06       		.uleb128 0x6
 4196 0175 40       		.uleb128 0x40
 4197 0176 18       		.uleb128 0x18
 4198 0177 9642     		.uleb128 0x2116
 4199 0179 19       		.uleb128 0x19
 4200 017a 01       		.uleb128 0x1
 4201 017b 13       		.uleb128 0x13
 4202 017c 00       		.byte	0
 4203 017d 00       		.byte	0
 4204 017e 1A       		.uleb128 0x1a
 4205 017f 0B       		.uleb128 0xb
 4206 0180 01       		.byte	0x1
 4207 0181 11       		.uleb128 0x11
 4208 0182 01       		.uleb128 0x1
 4209 0183 12       		.uleb128 0x12
 4210 0184 06       		.uleb128 0x6
 4211 0185 01       		.uleb128 0x1
 4212 0186 13       		.uleb128 0x13
 4213 0187 00       		.byte	0
 4214 0188 00       		.byte	0
 4215 0189 1B       		.uleb128 0x1b
 4216 018a 0B       		.uleb128 0xb
 4217 018b 01       		.byte	0x1
 4218 018c 55       		.uleb128 0x55
 4219 018d 17       		.uleb128 0x17
 4220 018e 01       		.uleb128 0x1
 4221 018f 13       		.uleb128 0x13
 4222 0190 00       		.byte	0
 4223 0191 00       		.byte	0
 4224 0192 1C       		.uleb128 0x1c
 4225 0193 0B       		.uleb128 0xb
 4226 0194 01       		.byte	0x1
 4227 0195 55       		.uleb128 0x55
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 128


 4228 0196 17       		.uleb128 0x17
 4229 0197 00       		.byte	0
 4230 0198 00       		.byte	0
 4231 0199 1D       		.uleb128 0x1d
 4232 019a 21       		.uleb128 0x21
 4233 019b 00       		.byte	0
 4234 019c 49       		.uleb128 0x49
 4235 019d 13       		.uleb128 0x13
 4236 019e 2F       		.uleb128 0x2f
 4237 019f 05       		.uleb128 0x5
 4238 01a0 00       		.byte	0
 4239 01a1 00       		.byte	0
 4240 01a2 1E       		.uleb128 0x1e
 4241 01a3 2E       		.uleb128 0x2e
 4242 01a4 01       		.byte	0x1
 4243 01a5 03       		.uleb128 0x3
 4244 01a6 0E       		.uleb128 0xe
 4245 01a7 3A       		.uleb128 0x3a
 4246 01a8 0B       		.uleb128 0xb
 4247 01a9 3B       		.uleb128 0x3b
 4248 01aa 05       		.uleb128 0x5
 4249 01ab 27       		.uleb128 0x27
 4250 01ac 19       		.uleb128 0x19
 4251 01ad 49       		.uleb128 0x49
 4252 01ae 13       		.uleb128 0x13
 4253 01af 11       		.uleb128 0x11
 4254 01b0 01       		.uleb128 0x1
 4255 01b1 12       		.uleb128 0x12
 4256 01b2 06       		.uleb128 0x6
 4257 01b3 40       		.uleb128 0x40
 4258 01b4 18       		.uleb128 0x18
 4259 01b5 9642     		.uleb128 0x2116
 4260 01b7 19       		.uleb128 0x19
 4261 01b8 01       		.uleb128 0x1
 4262 01b9 13       		.uleb128 0x13
 4263 01ba 00       		.byte	0
 4264 01bb 00       		.byte	0
 4265 01bc 1F       		.uleb128 0x1f
 4266 01bd 34       		.uleb128 0x34
 4267 01be 00       		.byte	0
 4268 01bf 03       		.uleb128 0x3
 4269 01c0 0E       		.uleb128 0xe
 4270 01c1 3A       		.uleb128 0x3a
 4271 01c2 0B       		.uleb128 0xb
 4272 01c3 3B       		.uleb128 0x3b
 4273 01c4 0B       		.uleb128 0xb
 4274 01c5 49       		.uleb128 0x49
 4275 01c6 13       		.uleb128 0x13
 4276 01c7 02       		.uleb128 0x2
 4277 01c8 18       		.uleb128 0x18
 4278 01c9 00       		.byte	0
 4279 01ca 00       		.byte	0
 4280 01cb 20       		.uleb128 0x20
 4281 01cc 34       		.uleb128 0x34
 4282 01cd 00       		.byte	0
 4283 01ce 03       		.uleb128 0x3
 4284 01cf 0E       		.uleb128 0xe
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 129


 4285 01d0 3A       		.uleb128 0x3a
 4286 01d1 0B       		.uleb128 0xb
 4287 01d2 3B       		.uleb128 0x3b
 4288 01d3 0B       		.uleb128 0xb
 4289 01d4 49       		.uleb128 0x49
 4290 01d5 13       		.uleb128 0x13
 4291 01d6 3F       		.uleb128 0x3f
 4292 01d7 19       		.uleb128 0x19
 4293 01d8 02       		.uleb128 0x2
 4294 01d9 18       		.uleb128 0x18
 4295 01da 00       		.byte	0
 4296 01db 00       		.byte	0
 4297 01dc 21       		.uleb128 0x21
 4298 01dd 34       		.uleb128 0x34
 4299 01de 00       		.byte	0
 4300 01df 03       		.uleb128 0x3
 4301 01e0 0E       		.uleb128 0xe
 4302 01e1 3A       		.uleb128 0x3a
 4303 01e2 0B       		.uleb128 0xb
 4304 01e3 3B       		.uleb128 0x3b
 4305 01e4 0B       		.uleb128 0xb
 4306 01e5 49       		.uleb128 0x49
 4307 01e6 13       		.uleb128 0x13
 4308 01e7 3F       		.uleb128 0x3f
 4309 01e8 19       		.uleb128 0x19
 4310 01e9 3C       		.uleb128 0x3c
 4311 01ea 19       		.uleb128 0x19
 4312 01eb 00       		.byte	0
 4313 01ec 00       		.byte	0
 4314 01ed 00       		.byte	0
 4315              		.section	.debug_aranges,"",%progbits
 4316 0000 7C000000 		.4byte	0x7c
 4317 0004 0200     		.2byte	0x2
 4318 0006 00000000 		.4byte	.Ldebug_info0
 4319 000a 04       		.byte	0x4
 4320 000b 00       		.byte	0
 4321 000c 0000     		.2byte	0
 4322 000e 0000     		.2byte	0
 4323 0010 00000000 		.4byte	.LFB32
 4324 0014 58000000 		.4byte	.LFE32-.LFB32
 4325 0018 00000000 		.4byte	.LFB33
 4326 001c 1C000000 		.4byte	.LFE33-.LFB33
 4327 0020 00000000 		.4byte	.LFB34
 4328 0024 58000000 		.4byte	.LFE34-.LFB34
 4329 0028 00000000 		.4byte	.LFB35
 4330 002c A0000000 		.4byte	.LFE35-.LFB35
 4331 0030 00000000 		.4byte	.LFB36
 4332 0034 18000000 		.4byte	.LFE36-.LFB36
 4333 0038 00000000 		.4byte	.LFB37
 4334 003c 98000000 		.4byte	.LFE37-.LFB37
 4335 0040 00000000 		.4byte	.LFB38
 4336 0044 60000000 		.4byte	.LFE38-.LFB38
 4337 0048 00000000 		.4byte	.LFB39
 4338 004c 04000000 		.4byte	.LFE39-.LFB39
 4339 0050 00000000 		.4byte	.LFB40
 4340 0054 DC000000 		.4byte	.LFE40-.LFB40
 4341 0058 00000000 		.4byte	.LFB41
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 130


 4342 005c 68090000 		.4byte	.LFE41-.LFB41
 4343 0060 00000000 		.4byte	.LFB42
 4344 0064 B2000000 		.4byte	.LFE42-.LFB42
 4345 0068 00000000 		.4byte	.LFB43
 4346 006c AC000000 		.4byte	.LFE43-.LFB43
 4347 0070 00000000 		.4byte	.LFB44
 4348 0074 3C020000 		.4byte	.LFE44-.LFB44
 4349 0078 00000000 		.4byte	0
 4350 007c 00000000 		.4byte	0
 4351              		.section	.debug_ranges,"",%progbits
 4352              	.Ldebug_ranges0:
 4353 0000 FC030000 		.4byte	.LBB7
 4354 0004 4C050000 		.4byte	.LBE7
 4355 0008 D2080000 		.4byte	.LBB14
 4356 000c D6080000 		.4byte	.LBE14
 4357 0010 00000000 		.4byte	0
 4358 0014 00000000 		.4byte	0
 4359 0018 5A040000 		.4byte	.LBB8
 4360 001c 3A050000 		.4byte	.LBE8
 4361 0020 D2080000 		.4byte	.LBB9
 4362 0024 D6080000 		.4byte	.LBE9
 4363 0028 00000000 		.4byte	0
 4364 002c 00000000 		.4byte	0
 4365 0030 50060000 		.4byte	.LBB11
 4366 0034 8C070000 		.4byte	.LBE11
 4367 0038 E2080000 		.4byte	.LBB15
 4368 003c E4080000 		.4byte	.LBE15
 4369 0040 00000000 		.4byte	0
 4370 0044 00000000 		.4byte	0
 4371 0048 C0070000 		.4byte	.LBB12
 4372 004c A2080000 		.4byte	.LBE12
 4373 0050 A4080000 		.4byte	.LBB13
 4374 0054 B8080000 		.4byte	.LBE13
 4375 0058 00000000 		.4byte	0
 4376 005c 00000000 		.4byte	0
 4377 0060 00000000 		.4byte	.LFB32
 4378 0064 58000000 		.4byte	.LFE32
 4379 0068 00000000 		.4byte	.LFB33
 4380 006c 1C000000 		.4byte	.LFE33
 4381 0070 00000000 		.4byte	.LFB34
 4382 0074 58000000 		.4byte	.LFE34
 4383 0078 00000000 		.4byte	.LFB35
 4384 007c A0000000 		.4byte	.LFE35
 4385 0080 00000000 		.4byte	.LFB36
 4386 0084 18000000 		.4byte	.LFE36
 4387 0088 00000000 		.4byte	.LFB37
 4388 008c 98000000 		.4byte	.LFE37
 4389 0090 00000000 		.4byte	.LFB38
 4390 0094 60000000 		.4byte	.LFE38
 4391 0098 00000000 		.4byte	.LFB39
 4392 009c 04000000 		.4byte	.LFE39
 4393 00a0 00000000 		.4byte	.LFB40
 4394 00a4 DC000000 		.4byte	.LFE40
 4395 00a8 00000000 		.4byte	.LFB41
 4396 00ac 68090000 		.4byte	.LFE41
 4397 00b0 00000000 		.4byte	.LFB42
 4398 00b4 B2000000 		.4byte	.LFE42
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 131


 4399 00b8 00000000 		.4byte	.LFB43
 4400 00bc AC000000 		.4byte	.LFE43
 4401 00c0 00000000 		.4byte	.LFB44
 4402 00c4 3C020000 		.4byte	.LFE44
 4403 00c8 00000000 		.4byte	0
 4404 00cc 00000000 		.4byte	0
 4405              		.section	.debug_line,"",%progbits
 4406              	.Ldebug_line0:
 4407 0000 F6030000 		.section	.debug_str,"MS",%progbits,1
 4407      02006B00 
 4407      00000201 
 4407      FB0E0D00 
 4407      01010101 
 4408              	.LASF48:
 4409 0000 76616C69 		.ascii	"valid\000"
 4409      6400
 4410              	.LASF42:
 4411 0006 61707049 		.ascii	"appId\000"
 4411      6400
 4412              	.LASF87:
 4413 000c 72657375 		.ascii	"result\000"
 4413      6C7400
 4414              	.LASF12:
 4415 0013 666C6F61 		.ascii	"float\000"
 4415      7400
 4416              	.LASF35:
 4417 0019 62617365 		.ascii	"baseAddr\000"
 4417      41646472 
 4417      00
 4418              	.LASF58:
 4419 0022 706B7453 		.ascii	"pktSize\000"
 4419      697A6500 
 4420              	.LASF45:
 4421 002a 61707041 		.ascii	"appAddr\000"
 4421      64647200 
 4422              	.LASF82:
 4423 0032 726F7744 		.ascii	"rowData\000"
 4423      61746100 
 4424              	.LASF2:
 4425 003a 73686F72 		.ascii	"short int\000"
 4425      7420696E 
 4425      7400
 4426              	.LASF55:
 4427 0044 61636B43 		.ascii	"ackCode\000"
 4427      6F646500 
 4428              	.LASF19:
 4429 004c 73697A65 		.ascii	"sizetype\000"
 4429      74797065 
 4429      00
 4430              	.LASF65:
 4431 0055 73746172 		.ascii	"startRow\000"
 4431      74526F77 
 4431      00
 4432              	.LASF64:
 4433 005e 62746C64 		.ascii	"btldrData\000"
 4433      72446174 
 4433      6100
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 132


 4434              	.LASF61:
 4435 0068 64617461 		.ascii	"dataOffset\000"
 4435      4F666673 
 4435      657400
 4436              	.LASF60:
 4437 0073 636F6D6D 		.ascii	"communicationState\000"
 4437      756E6963 
 4437      6174696F 
 4437      6E537461 
 4437      746500
 4438              	.LASF69:
 4439 0086 42746C64 		.ascii	"BtldrVersion\000"
 4439      72566572 
 4439      73696F6E 
 4439      00
 4440              	.LASF96:
 4441 0093 5A3A5C23 		.ascii	"Z:\\#IroTeam\\PSoC Creator\\Bootloader01\\Bootloade"
 4441      49726F54 
 4441      65616D5C 
 4441      50536F43 
 4441      20437265 
 4442 00c2 7230315F 		.ascii	"r01_TEST.cydsn\000"
 4442      54455354 
 4442      2E637964 
 4442      736E00
 4443              	.LASF80:
 4444 00d1 72756E54 		.ascii	"runType\000"
 4444      79706500 
 4445              	.LASF44:
 4446 00d9 61637469 		.ascii	"activeApp\000"
 4446      76654170 
 4446      7000
 4447              	.LASF97:
 4448 00e3 426F6F74 		.ascii	"Bootloader_LaunchApplication\000"
 4448      6C6F6164 
 4448      65725F4C 
 4448      61756E63 
 4448      68417070 
 4449              	.LASF10:
 4450 0100 75696E74 		.ascii	"uint16\000"
 4450      313600
 4451              	.LASF79:
 4452 0107 61646472 		.ascii	"address\000"
 4452      65737300 
 4453              	.LASF73:
 4454 010f 63686563 		.ascii	"checksum\000"
 4454      6B73756D 
 4454      00
 4455              	.LASF9:
 4456 0118 75696E74 		.ascii	"uint8\000"
 4456      3800
 4457              	.LASF30:
 4458 011e 426F6F74 		.ascii	"BootLoaderVersion\000"
 4458      4C6F6164 
 4458      65725665 
 4458      7273696F 
 4458      6E00
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 133


 4459              	.LASF25:
 4460 0130 704F7574 		.ascii	"pOutputBuffer\000"
 4460      70757442 
 4460      75666665 
 4460      7200
 4461              	.LASF47:
 4462 013e 426F6F74 		.ascii	"Bootloader_ValidateBootloadable\000"
 4462      6C6F6164 
 4462      65725F56 
 4462      616C6964 
 4462      61746542 
 4463              	.LASF6:
 4464 015e 6C6F6E67 		.ascii	"long long int\000"
 4464      206C6F6E 
 4464      6720696E 
 4464      7400
 4465              	.LASF71:
 4466 016c 746D7052 		.ascii	"tmpRowNum\000"
 4466      6F774E75 
 4466      6D00
 4467              	.LASF21:
 4468 0176 7061636B 		.ascii	"packetLength\000"
 4468      65744C65 
 4468      6E677468 
 4468      00
 4469              	.LASF4:
 4470 0183 6C6F6E67 		.ascii	"long int\000"
 4470      20696E74 
 4470      00
 4471              	.LASF77:
 4472 018c 426F6F74 		.ascii	"Bootloader_WritePacket\000"
 4472      6C6F6164 
 4472      65725F57 
 4472      72697465 
 4472      5061636B 
 4473              	.LASF66:
 4474 01a3 61727261 		.ascii	"arrayIdBtlderEnds\000"
 4474      79496442 
 4474      746C6465 
 4474      72456E64 
 4474      7300
 4475              	.LASF49:
 4476 01b5 63757242 		.ascii	"curByte\000"
 4476      79746500 
 4477              	.LASF38:
 4478 01bd 426F6F74 		.ascii	"Bootloader_Start\000"
 4478      6C6F6164 
 4478      65725F53 
 4478      74617274 
 4478      00
 4479              	.LASF53:
 4480 01ce 6E756D62 		.ascii	"numberRead\000"
 4480      65725265 
 4480      616400
 4481              	.LASF40:
 4482 01d9 63616C63 		.ascii	"calcedChecksum\000"
 4482      65644368 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 134


 4482      65636B73 
 4482      756D00
 4483              	.LASF74:
 4484 01e8 426F6F74 		.ascii	"Bootloader_inPacket\000"
 4484      6C6F6164 
 4484      65725F69 
 4484      6E506163 
 4484      6B657400 
 4485              	.LASF94:
 4486 01fc 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 4486      43313120 
 4486      352E342E 
 4486      31203230 
 4486      31363036 
 4487 022f 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m0 -mthumb -g -O"
 4487      20726576 
 4487      6973696F 
 4487      6E203233 
 4487      37373135 
 4488 0262 30202D66 		.ascii	"0 -ffunction-sections -ffat-lto-objects\000"
 4488      66756E63 
 4488      74696F6E 
 4488      2D736563 
 4488      74696F6E 
 4489              	.LASF70:
 4490 028a 726F774E 		.ascii	"rowNum\000"
 4490      756D00
 4491              	.LASF78:
 4492 0291 426F6F74 		.ascii	"Bootloader_SetFlashByte\000"
 4492      6C6F6164 
 4492      65725F53 
 4492      6574466C 
 4492      61736842 
 4493              	.LASF59:
 4494 02a9 74696D65 		.ascii	"timeOutCnt\000"
 4494      4F757443 
 4494      6E7400
 4495              	.LASF18:
 4496 02b4 6C6F6E67 		.ascii	"long double\000"
 4496      20646F75 
 4496      626C6500 
 4497              	.LASF36:
 4498 02c0 73746172 		.ascii	"start\000"
 4498      7400
 4499              	.LASF1:
 4500 02c6 756E7369 		.ascii	"unsigned char\000"
 4500      676E6564 
 4500      20636861 
 4500      7200
 4501              	.LASF63:
 4502 02d4 64617461 		.ascii	"dataBuffer\000"
 4502      42756666 
 4502      657200
 4503              	.LASF76:
 4504 02df 426F6F74 		.ascii	"Bootloader_CalcPacketChecksum\000"
 4504      6C6F6164 
 4504      65725F43 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 135


 4504      616C6350 
 4504      61636B65 
 4505              	.LASF93:
 4506 02fd 63794274 		.ascii	"cyBtldrRunType\000"
 4506      6C647252 
 4506      756E5479 
 4506      706500
 4507              	.LASF0:
 4508 030c 7369676E 		.ascii	"signed char\000"
 4508      65642063 
 4508      68617200 
 4509              	.LASF22:
 4510 0318 70496E70 		.ascii	"pInputBuffer\000"
 4510      75744275 
 4510      66666572 
 4510      00
 4511              	.LASF7:
 4512 0325 6C6F6E67 		.ascii	"long long unsigned int\000"
 4512      206C6F6E 
 4512      6720756E 
 4512      7369676E 
 4512      65642069 
 4513              	.LASF56:
 4514 033c 706B7443 		.ascii	"pktChecksum\000"
 4514      6865636B 
 4514      73756D00 
 4515              	.LASF89:
 4516 0348 426F6F74 		.ascii	"Bootloader_Checksum\000"
 4516      6C6F6164 
 4516      65725F43 
 4516      6865636B 
 4516      73756D00 
 4517              	.LASF43:
 4518 035c 43794274 		.ascii	"CyBtldr_CheckLaunch\000"
 4518      6C64725F 
 4518      43686563 
 4518      6B4C6175 
 4518      6E636800 
 4519              	.LASF84:
 4520 0370 6669656C 		.ascii	"field\000"
 4520      6400
 4521              	.LASF5:
 4522 0376 6C6F6E67 		.ascii	"long unsigned int\000"
 4522      20756E73 
 4522      69676E65 
 4522      6420696E 
 4522      7400
 4523              	.LASF90:
 4524 0388 426F6F74 		.ascii	"Bootloader_ChecksumAccess\000"
 4524      6C6F6164 
 4524      65725F43 
 4524      6865636B 
 4524      73756D41 
 4525              	.LASF37:
 4526 03a2 426F6F74 		.ascii	"Bootloader_InitCallback\000"
 4526      6C6F6164 
 4526      65725F49 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 136


 4526      6E697443 
 4526      616C6C62 
 4527              	.LASF17:
 4528 03ba 72656733 		.ascii	"reg32\000"
 4528      3200
 4529              	.LASF24:
 4530 03c0 73746174 		.ascii	"status\000"
 4530      757300
 4531              	.LASF3:
 4532 03c7 73686F72 		.ascii	"short unsigned int\000"
 4532      7420756E 
 4532      7369676E 
 4532      65642069 
 4532      6E7400
 4533              	.LASF26:
 4534 03da 426F6F74 		.ascii	"Bootloader_out_packet_type\000"
 4534      6C6F6164 
 4534      65725F6F 
 4534      75745F70 
 4534      61636B65 
 4535              	.LASF62:
 4536 03f5 7061636B 		.ascii	"packetBuffer\000"
 4536      65744275 
 4536      66666572 
 4536      00
 4537              	.LASF75:
 4538 0402 426F6F74 		.ascii	"Bootloader_outPacket\000"
 4538      6C6F6164 
 4538      65725F6F 
 4538      75745061 
 4538      636B6574 
 4539              	.LASF14:
 4540 0417 63686172 		.ascii	"char\000"
 4540      00
 4541              	.LASF34:
 4542 041c 75736572 		.ascii	"userCallback\000"
 4542      43616C6C 
 4542      6261636B 
 4542      00
 4543              	.LASF15:
 4544 0429 63797374 		.ascii	"cystatus\000"
 4544      61747573 
 4544      00
 4545              	.LASF57:
 4546 0432 72656164 		.ascii	"readStat\000"
 4546      53746174 
 4546      00
 4547              	.LASF27:
 4548 043b 426F6F74 		.ascii	"Bootloader_callback_type\000"
 4548      6C6F6164 
 4548      65725F63 
 4548      616C6C62 
 4548      61636B5F 
 4549              	.LASF51:
 4550 0454 426F6F74 		.ascii	"Bootloader_HostLink\000"
 4550      6C6F6164 
 4550      65725F48 
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 137


 4550      6F73744C 
 4550      696E6B00 
 4551              	.LASF52:
 4552 0468 74696D65 		.ascii	"timeOut\000"
 4552      4F757400 
 4553              	.LASF39:
 4554 0470 76616C69 		.ascii	"validApp\000"
 4554      64417070 
 4554      00
 4555              	.LASF54:
 4556 0479 72737053 		.ascii	"rspSize\000"
 4556      697A6500 
 4557              	.LASF28:
 4558 0481 53696C69 		.ascii	"SiliconId\000"
 4558      636F6E49 
 4558      6400
 4559              	.LASF32:
 4560 048b 62756666 		.ascii	"buffer\000"
 4560      657200
 4561              	.LASF11:
 4562 0492 75696E74 		.ascii	"uint32\000"
 4562      333200
 4563              	.LASF16:
 4564 0499 72656738 		.ascii	"reg8\000"
 4564      00
 4565              	.LASF95:
 4566 049e 47656E65 		.ascii	"Generated_Source\\PSoC4\\Bootloader.c\000"
 4566      72617465 
 4566      645F536F 
 4566      75726365 
 4566      5C50536F 
 4567              	.LASF72:
 4568 04c2 726F7741 		.ascii	"rowAddr\000"
 4568      64647200 
 4569              	.LASF13:
 4570 04ca 646F7562 		.ascii	"double\000"
 4570      6C6500
 4571              	.LASF81:
 4572 04d1 666C7341 		.ascii	"flsAddr\000"
 4572      64647200 
 4573              	.LASF88:
 4574 04d9 426F6F74 		.ascii	"Bootloader_callback\000"
 4574      6C6F6164 
 4574      65725F63 
 4574      616C6C62 
 4574      61636B00 
 4575              	.LASF33:
 4576 04ed 73697A65 		.ascii	"size\000"
 4576      00
 4577              	.LASF50:
 4578 04f2 426F6F74 		.ascii	"Bootloader_LaunchBootloadable\000"
 4578      6C6F6164 
 4578      65725F4C 
 4578      61756E63 
 4578      68426F6F 
 4579              	.LASF46:
 4580 0510 426F6F74 		.ascii	"Bootloader_Calc8BitSum\000"
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 138


 4580      6C6F6164 
 4580      65725F43 
 4580      616C6338 
 4580      42697453 
 4581              	.LASF67:
 4582 0527 75707065 		.ascii	"upperRange\000"
 4582      7252616E 
 4582      676500
 4583              	.LASF86:
 4584 0532 6669656C 		.ascii	"fieldSize\000"
 4584      6453697A 
 4584      6500
 4585              	.LASF23:
 4586 053c 426F6F74 		.ascii	"Bootloader_in_packet_type\000"
 4586      6C6F6164 
 4586      65725F69 
 4586      6E5F7061 
 4586      636B6574 
 4587              	.LASF41:
 4588 0556 426F6F74 		.ascii	"Bootloader_Exit\000"
 4588      6C6F6164 
 4588      65725F45 
 4588      78697400 
 4589              	.LASF20:
 4590 0566 636F6D6D 		.ascii	"command\000"
 4590      616E6400 
 4591              	.LASF29:
 4592 056e 52657669 		.ascii	"Revision\000"
 4592      73696F6E 
 4592      00
 4593              	.LASF91:
 4594 0577 426F6F74 		.ascii	"Bootloader_SizeBytes\000"
 4594      6C6F6164 
 4594      65725F53 
 4594      697A6542 
 4594      79746573 
 4595              	.LASF92:
 4596 058c 426F6F74 		.ascii	"Bootloader_SizeBytesAccess\000"
 4596      6C6F6164 
 4596      65725F53 
 4596      697A6542 
 4596      79746573 
 4597              	.LASF68:
 4598 05a7 66697273 		.ascii	"firstRow\000"
 4598      74526F77 
 4598      00
 4599              	.LASF83:
 4600 05b0 426F6F74 		.ascii	"Bootloader_GetMetadata\000"
 4600      6C6F6164 
 4600      65725F47 
 4600      65744D65 
 4600      74616461 
 4601              	.LASF85:
 4602 05c7 6669656C 		.ascii	"fieldPtr\000"
 4602      64507472 
 4602      00
 4603              	.LASF8:
ARM GAS  C:\Users\ali\AppData\Local\Temp\ccoHTQAh.s 			page 139


 4604 05d0 756E7369 		.ascii	"unsigned int\000"
 4604      676E6564 
 4604      20696E74 
 4604      00
 4605              	.LASF31:
 4606 05dd 426F6F74 		.ascii	"Bootloader_ENTER\000"
 4606      6C6F6164 
 4606      65725F45 
 4606      4E544552 
 4606      00
 4607              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
