ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"Bootloader.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	Bootloader_Checksum
  20              		.section	.bootloader,"a",%progbits
  21              		.type	Bootloader_Checksum, %object
  22              		.size	Bootloader_Checksum, 1
  23              	Bootloader_Checksum:
  24 0000 00       		.space	1
  25              		.global	Bootloader_SizeBytes
  26 0001 000000   		.align	2
  27              		.type	Bootloader_SizeBytes, %object
  28              		.size	Bootloader_SizeBytes, 4
  29              	Bootloader_SizeBytes:
  30 0004 FFFFFFFF 		.word	-1
  31              		.global	Bootloader_ChecksumAccess
  32              		.data
  33              		.align	2
  34              		.type	Bootloader_ChecksumAccess, %object
  35              		.size	Bootloader_ChecksumAccess, 4
  36              	Bootloader_ChecksumAccess:
  37 0000 00000000 		.word	Bootloader_Checksum
  38              		.global	Bootloader_SizeBytesAccess
  39              		.align	2
  40              		.type	Bootloader_SizeBytesAccess, %object
  41              		.size	Bootloader_SizeBytesAccess, 4
  42              	Bootloader_SizeBytesAccess:
  43 0004 00000000 		.word	Bootloader_SizeBytes
  44              		.bss
  45              		.align	2
  46              	Bootloader_callback:
  47 0000 00000000 		.space	4
  48              		.section	.text.Bootloader_CalcPacketChecksum,"ax",%progbits
  49              		.align	2
  50              		.thumb
  51              		.thumb_func
  52              		.type	Bootloader_CalcPacketChecksum, %function
  53              	Bootloader_CalcPacketChecksum:
  54              	.LFB63:
  55              		.file 1 "Generated_Source\\PSoC5\\Bootloader.c"
   1:Generated_Source\PSoC5/Bootloader.c **** /****************************************************************************//**
   2:Generated_Source\PSoC5/Bootloader.c **** * \file Bootloader.c
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 2


   3:Generated_Source\PSoC5/Bootloader.c **** * \version 1.60
   4:Generated_Source\PSoC5/Bootloader.c **** *
   5:Generated_Source\PSoC5/Bootloader.c **** * \brief
   6:Generated_Source\PSoC5/Bootloader.c **** *   Provides an API for the Bootloader component. The API includes functions
   7:Generated_Source\PSoC5/Bootloader.c **** *   for starting bootloading operations, validating the application and
   8:Generated_Source\PSoC5/Bootloader.c **** *   jumping to the application.
   9:Generated_Source\PSoC5/Bootloader.c **** *
  10:Generated_Source\PSoC5/Bootloader.c **** ********************************************************************************
  11:Generated_Source\PSoC5/Bootloader.c **** * \copyright
  12:Generated_Source\PSoC5/Bootloader.c **** * Copyright 2008-2018, Cypress Semiconductor Corporation.  All rights reserved.
  13:Generated_Source\PSoC5/Bootloader.c **** * You may use this file only in accordance with the license, terms, conditions,
  14:Generated_Source\PSoC5/Bootloader.c **** * disclaimers, and limitations in the end user license agreement accompanying
  15:Generated_Source\PSoC5/Bootloader.c **** * the software package with which this file was provided.
  16:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
  17:Generated_Source\PSoC5/Bootloader.c **** 
  18:Generated_Source\PSoC5/Bootloader.c **** #include "Bootloader_PVT.h"
  19:Generated_Source\PSoC5/Bootloader.c **** 
  20:Generated_Source\PSoC5/Bootloader.c **** #include "cyapicallbacks.h"
  21:Generated_Source\PSoC5/Bootloader.c **** 
  22:Generated_Source\PSoC5/Bootloader.c **** #include "project.h"
  23:Generated_Source\PSoC5/Bootloader.c **** #include <string.h>
  24:Generated_Source\PSoC5/Bootloader.c **** 
  25:Generated_Source\PSoC5/Bootloader.c **** #if (CY_BOOT_VERSION < CY_BOOT_5_0)
  26:Generated_Source\PSoC5/Bootloader.c **** #error Component Bootloader_v1_60 requires cy_boot v5.00 or later
  27:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CY_BOOT_VERSION >= CY_BOOT_5_0) */
  28:Generated_Source\PSoC5/Bootloader.c **** 
  29:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
  30:Generated_Source\PSoC5/Bootloader.c **** * The Checksum and SizeBytes are forcefully set in code. We then post process
  31:Generated_Source\PSoC5/Bootloader.c **** * the hex file from the linker and inject their values. When the hex file
  32:Generated_Source\PSoC5/Bootloader.c **** * is loaded into the device, these two variables should have valid values.
  33:Generated_Source\PSoC5/Bootloader.c **** * Because the compiler can do optimization to remove the constant
  34:Generated_Source\PSoC5/Bootloader.c **** * accesses, these should not be accessed directly. Instead, the variables
  35:Generated_Source\PSoC5/Bootloader.c **** * CyBtldr_ChecksumAccess & CyBtldr_SizeBytesAccess should be used to get the
  36:Generated_Source\PSoC5/Bootloader.c **** * proper values at the runtime.
  37:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
  38:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
  39:Generated_Source\PSoC5/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__)
  40:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((section (".bootloader"), used))
  41:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
  42:Generated_Source\PSoC5/Bootloader.c ****     #pragma location=".bootloader"
  43:Generated_Source\PSoC5/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) */
  44:Generated_Source\PSoC5/Bootloader.c **** 
  45:Generated_Source\PSoC5/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__) || defined (__C51__)
  46:Generated_Source\PSoC5/Bootloader.c ****            const uint8  CYCODE Bootloader_Checksum = 0u;
  47:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
  48:Generated_Source\PSoC5/Bootloader.c ****     __root const uint8  CYCODE Bootloader_Checksum = 0u;
  49:Generated_Source\PSoC5/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) || defined (__C51__) */
  50:Generated_Source\PSoC5/Bootloader.c **** const uint8  CYCODE *Bootloader_ChecksumAccess  = (const uint8  CYCODE *)(&Bootloader_Checksum);
  51:Generated_Source\PSoC5/Bootloader.c **** 
  52:Generated_Source\PSoC5/Bootloader.c **** #if defined(__ARMCC_VERSION) || defined (__GNUC__)
  53:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((section (".bootloader"), used))
  54:Generated_Source\PSoC5/Bootloader.c ****     const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
  55:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
  56:Generated_Source\PSoC5/Bootloader.c ****     #pragma location=".bootloader"
  57:Generated_Source\PSoC5/Bootloader.c ****     __root const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
  58:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__C51__)
  59:Generated_Source\PSoC5/Bootloader.c ****     const uint32 CYCODE Bootloader_SizeBytes = 0xFFFFFFFFu;
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 3


  60:Generated_Source\PSoC5/Bootloader.c **** #endif  /* defined(__ARMCC_VERSION) || defined (__GNUC__) */
  61:Generated_Source\PSoC5/Bootloader.c **** 
  62:Generated_Source\PSoC5/Bootloader.c **** const uint32 CYCODE *Bootloader_SizeBytesAccess = (const uint32 CYCODE *)(&Bootloader_SizeBytes);
  63:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
  64:Generated_Source\PSoC5/Bootloader.c **** 
  65:Generated_Source\PSoC5/Bootloader.c **** /**
  66:Generated_Source\PSoC5/Bootloader.c ****  \defgroup variables_group Variables
  67:Generated_Source\PSoC5/Bootloader.c ****  @{
  68:Generated_Source\PSoC5/Bootloader.c **** */
  69:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
  70:Generated_Source\PSoC5/Bootloader.c **** /**
  71:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to indicate that in-application 
  72:Generated_Source\PSoC5/Bootloader.c ****  *  bootloading initialization is done. The initialization itself is performed in the
  73:Generated_Source\PSoC5/Bootloader.c ****  *  Bootloader_Initialize() function. Once the initialization is done,
  74:Generated_Source\PSoC5/Bootloader.c ****  *  the variable is set and this prevents the functionality from reinitialization.
  75:Generated_Source\PSoC5/Bootloader.c ****  */
  76:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_initVar = Bootloader_BOOTLOADING_NOT_INITIALIZED;
  77:Generated_Source\PSoC5/Bootloader.c **** 
  78:Generated_Source\PSoC5/Bootloader.c **** /**
  79:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to keep the current application number. It applies
  80:Generated_Source\PSoC5/Bootloader.c ****  *  only to in-application bootloading.
  81:Generated_Source\PSoC5/Bootloader.c ****  */
  82:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_runningApp = Bootloader_RUNNING_APPLICATION_UNKNOWN;
  83:Generated_Source\PSoC5/Bootloader.c **** 
  84:Generated_Source\PSoC5/Bootloader.c **** /**
  85:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to indicate that 'Enter bootloader' command has
  86:Generated_Source\PSoC5/Bootloader.c ****  *  been received. It applies only to in-application bootloading.
  87:Generated_Source\PSoC5/Bootloader.c ****  */
  88:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_isBootloading = Bootloader_BOOTLOADING_COMPLETED;
  89:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/
  90:Generated_Source\PSoC5/Bootloader.c **** 
  91:Generated_Source\PSoC5/Bootloader.c **** #if ((0u != Bootloader_DUAL_APP_BOOTLOADER)  || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOT
  92:Generated_Source\PSoC5/Bootloader.c **** /**
  93:Generated_Source\PSoC5/Bootloader.c ****  *  This variable is intended to keep the active application number. It applies
  94:Generated_Source\PSoC5/Bootloader.c ****  *  to Classic Dual-app Bootloader and in-application bootloading.
  95:Generated_Source\PSoC5/Bootloader.c ****  */
  96:Generated_Source\PSoC5/Bootloader.c **** volatile uint8 Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_NONE;
  97:Generated_Source\PSoC5/Bootloader.c **** #else /*SINGLE-APP BOOTLOADER*/
  98:Generated_Source\PSoC5/Bootloader.c ****     #define Bootloader_activeApp      (Bootloader_MD_BTLDB_ACTIVE_0)
  99:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
 100:Generated_Source\PSoC5/Bootloader.c **** 
 101:Generated_Source\PSoC5/Bootloader.c **** 
 102:Generated_Source\PSoC5/Bootloader.c **** #if (0u != Bootloader_SECURITY_KEY_AVAIL) 
 103:Generated_Source\PSoC5/Bootloader.c **** /**
 104:Generated_Source\PSoC5/Bootloader.c ****  *  This variable holds the security key for additional safety during communication.
 105:Generated_Source\PSoC5/Bootloader.c ****  */
 106:Generated_Source\PSoC5/Bootloader.c **** static const uint8 CYCODE Bootloader_securityKey[Bootloader_SECURITY_KEY_LENGTH] = {0x11u, 0x22u, 0
 107:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_SECURITY_KEY_AVAIL)*/
 108:Generated_Source\PSoC5/Bootloader.c **** 
 109:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) && (!CY_PSOC3))
 110:Generated_Source\PSoC5/Bootloader.c **** /**
 111:Generated_Source\PSoC5/Bootloader.c ****  *  This variable holds the pointer on the user's callback-function that implements the custom 
 112:Generated_Source\PSoC5/Bootloader.c ****  *  bootloader command processing.
 113:Generated_Source\PSoC5/Bootloader.c ****  */
 114:Generated_Source\PSoC5/Bootloader.c **** static Bootloader_callback_type Bootloader_callback = NULL;
 115:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) && (!CY_PSOC3)*/
 116:Generated_Source\PSoC5/Bootloader.c **** /** @}*/
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 4


 117:Generated_Source\PSoC5/Bootloader.c ****  
 118:Generated_Source\PSoC5/Bootloader.c **** /***************************************
 119:Generated_Source\PSoC5/Bootloader.c **** *     Function Prototypes
 120:Generated_Source\PSoC5/Bootloader.c **** ***************************************/
 121:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 122:Generated_Source\PSoC5/Bootloader.c ****     static void  Bootloader_LaunchApplication(void) CYSMALL \
 123:Generated_Source\PSoC5/Bootloader.c ****                     ; 
 124:Generated_Source\PSoC5/Bootloader.c **** #if(!CY_PSOC3)
 125:Generated_Source\PSoC5/Bootloader.c ****     /* Implementation for PSoC 3 resides in Bootloader_psoc3.a51 file.  */
 126:Generated_Source\PSoC5/Bootloader.c ****     static void     Bootloader_LaunchBootloadable(uint32 appAddr);
 127:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (!CY_PSOC3) */
 128:Generated_Source\PSoC5/Bootloader.c **** #endif /* CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER */ 
 129:Generated_Source\PSoC5/Bootloader.c **** 
 130:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
 131:Generated_Source\PSoC5/Bootloader.c ****     static cystatus Bootloader_WritePacket(uint8 status, uint8 buffer[], uint16 size) CYSMALL \
 132:Generated_Source\PSoC5/Bootloader.c ****                                     ;
 133:Generated_Source\PSoC5/Bootloader.c **** 
 134:Generated_Source\PSoC5/Bootloader.c ****     static uint16   Bootloader_CalcPacketChecksum(const uint8 buffer[], uint16 size) CYSMALL \
 135:Generated_Source\PSoC5/Bootloader.c ****                                     ;
 136:Generated_Source\PSoC5/Bootloader.c ****                                     
 137:Generated_Source\PSoC5/Bootloader.c ****     #if (0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
 138:Generated_Source\PSoC5/Bootloader.c ****     static uint8 Bootloader_VerifyRow(uint32 flashStart, const uint8 ramStart[], uint16 size) \
 139:Generated_Source\PSoC5/Bootloader.c ****                 CYSMALL ;                                
 140:Generated_Source\PSoC5/Bootloader.c ****     #endif /*(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)*/            
 141:Generated_Source\PSoC5/Bootloader.c **** 
 142:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)                                    
 143:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_HostLink(uint8 timeOut) CYLARGE ;
 144:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */                            
 145:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)*/
 146:Generated_Source\PSoC5/Bootloader.c ****                                     
 147:Generated_Source\PSoC5/Bootloader.c **** #if (((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)) \
 148:Generated_Source\PSoC5/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
 149:Generated_Source\PSoC5/Bootloader.c ****     static uint8 Bootloader_CheckImage(uint8 appNumber, uint8 arrayNumber, uint16 row, uint16 rowNu
 150:Generated_Source\PSoC5/Bootloader.c ****                                     ;                                    
 151:Generated_Source\PSoC5/Bootloader.c **** #endif /*(((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER))
 152:Generated_Source\PSoC5/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
 153:Generated_Source\PSoC5/Bootloader.c **** 
 154:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || (0u != Bootloader_DUAL_APP_BOOTL
 155:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_SetActiveAppInMetadata(uint8 activeApp) CYSMALL \
 156:Generated_Source\PSoC5/Bootloader.c ****                 ;
 157:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || (0u != Bootloader_DUAL_APP_
 158:Generated_Source\PSoC5/Bootloader.c **** 
 159:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 160:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 161:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))
 162:Generated_Source\PSoC5/Bootloader.c ****     static uint8 Bootloader_GetActiveAppFromMetadata(void) CYSMALL \
 163:Generated_Source\PSoC5/Bootloader.c ****                 ;                     
 164:Generated_Source\PSoC5/Bootloader.c **** #endif /*((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 165:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 166:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) */
 167:Generated_Source\PSoC5/Bootloader.c ****           
 168:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)
 169:Generated_Source\PSoC5/Bootloader.c **** #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)) 
 170:Generated_Source\PSoC5/Bootloader.c ****     static cystatus Bootloader_CopyRow(uint16 srcRowNum, uint16 dstRowNum) \
 171:Generated_Source\PSoC5/Bootloader.c ****                  CYSMALL ;
 172:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_Copier(void) CYSMALL ;
 173:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 5


 174:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 175:Generated_Source\PSoC5/Bootloader.c ****                        
 176:Generated_Source\PSoC5/Bootloader.c **** 
 177:Generated_Source\PSoC5/Bootloader.c **** /**
 178:Generated_Source\PSoC5/Bootloader.c ****  \defgroup functions_group Functions
 179:Generated_Source\PSoC5/Bootloader.c ****  @{
 180:Generated_Source\PSoC5/Bootloader.c **** */
 181:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 182:Generated_Source\PSoC5/Bootloader.c ****                                   (0u != Bootloader_DUAL_APP_BOOTLOADER))                          
 183:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 184:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_SetActiveAppInMetadata
 185:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 186:Generated_Source\PSoC5/Bootloader.c **** * \internal
 187:Generated_Source\PSoC5/Bootloader.c **** *
 188:Generated_Source\PSoC5/Bootloader.c **** * \brief
 189:Generated_Source\PSoC5/Bootloader.c **** *    This function sets the active application in metadata.
 190:Generated_Source\PSoC5/Bootloader.c **** *    The other application is set inactive. 
 191:Generated_Source\PSoC5/Bootloader.c **** *
 192:Generated_Source\PSoC5/Bootloader.c **** * \param activeApp
 193:Generated_Source\PSoC5/Bootloader.c **** *   The active application number (0 or 1). If the active application number is
 194:Generated_Source\PSoC5/Bootloader.c **** *   greater than 1, then nothing is done.  
 195:Generated_Source\PSoC5/Bootloader.c **** *
 196:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
 197:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 198:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_SetActiveAppInMetadata(uint8 activeApp) CYSMALL \
 199:Generated_Source\PSoC5/Bootloader.c ****                      
 200:Generated_Source\PSoC5/Bootloader.c **** {
 201:Generated_Source\PSoC5/Bootloader.c ****     if (Bootloader_MD_BTLDB_ACTIVE_NONE > activeApp)
 202:Generated_Source\PSoC5/Bootloader.c ****     {
 203:Generated_Source\PSoC5/Bootloader.c ****         uint8 CYDATA idx;    
 204:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)      
 205:Generated_Source\PSoC5/Bootloader.c ****         if (CYRET_SUCCESS != CySetTemp())
 206:Generated_Source\PSoC5/Bootloader.c ****         {
 207:Generated_Source\PSoC5/Bootloader.c ****             CyHalt(0x00u);
 208:Generated_Source\PSoC5/Bootloader.c ****         }
 209:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC4) */    
 210:Generated_Source\PSoC5/Bootloader.c ****         for(idx = 0u; idx < Bootloader_MAX_NUM_OF_BTLDB; idx++)
 211:Generated_Source\PSoC5/Bootloader.c ****         {
 212:Generated_Source\PSoC5/Bootloader.c ****             (void)Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_ACTIVE_OFFSET(idx),
 213:Generated_Source\PSoC5/Bootloader.c ****                                                 (uint8)(idx == activeApp));
 214:Generated_Source\PSoC5/Bootloader.c ****         }
 215:Generated_Source\PSoC5/Bootloader.c ****     }    
 216:Generated_Source\PSoC5/Bootloader.c **** }
 217:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || 
 218:Generated_Source\PSoC5/Bootloader.c ****                            (0u != Bootloader_DUAL_APP_BOOTLOADER) */ 
 219:Generated_Source\PSoC5/Bootloader.c **** 
 220:Generated_Source\PSoC5/Bootloader.c **** #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 221:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 222:Generated_Source\PSoC5/Bootloader.c ****      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))                   
 223:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 224:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetActiveAppFromMetadata
 225:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 226:Generated_Source\PSoC5/Bootloader.c **** * \internal
 227:Generated_Source\PSoC5/Bootloader.c **** *
 228:Generated_Source\PSoC5/Bootloader.c **** * \brief
 229:Generated_Source\PSoC5/Bootloader.c **** *    This function performs reading of both metadata sections to
 230:Generated_Source\PSoC5/Bootloader.c **** *    identify an active application. If none application is set active, 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 6


 231:Generated_Source\PSoC5/Bootloader.c **** *    then Bootloader_MD_BTLDB_ACTIVE_NONE (0x02) is returned.
 232:Generated_Source\PSoC5/Bootloader.c **** *
 233:Generated_Source\PSoC5/Bootloader.c **** * \return
 234:Generated_Source\PSoC5/Bootloader.c **** *   The number of active applications. In the case of error:
 235:Generated_Source\PSoC5/Bootloader.c **** *   -  Bootloader_MD_BTLDB_ACTIVE_NONE (0x02) - neither application is initialized;
 236:Generated_Source\PSoC5/Bootloader.c **** *   -  Bootloader_BOTH_ACTIVE (0x03) - both applications are set active;
 237:Generated_Source\PSoC5/Bootloader.c **** *
 238:Generated_Source\PSoC5/Bootloader.c **** * \endinternal 
 239:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 240:Generated_Source\PSoC5/Bootloader.c **** static  uint8 Bootloader_GetActiveAppFromMetadata(void) CYSMALL \
 241:Generated_Source\PSoC5/Bootloader.c ****        
 242:Generated_Source\PSoC5/Bootloader.c **** {
 243:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA result;
 244:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA app0 = (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 
 245:Generated_Source\PSoC5/Bootloader.c ****                                                      Bootloader_MD_BTLDB_ACTIVE_0);
 246:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA app1 = (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 
 247:Generated_Source\PSoC5/Bootloader.c ****                                                      Bootloader_MD_BTLDB_ACTIVE_1);        
 248:Generated_Source\PSoC5/Bootloader.c **** 
 249:Generated_Source\PSoC5/Bootloader.c ****     if (0u != app0)                                                     
 250:Generated_Source\PSoC5/Bootloader.c ****     {
 251:Generated_Source\PSoC5/Bootloader.c ****         if (0u == app1)
 252:Generated_Source\PSoC5/Bootloader.c ****         {
 253:Generated_Source\PSoC5/Bootloader.c ****             /* app0 is active */
 254:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_0;
 255:Generated_Source\PSoC5/Bootloader.c ****         }
 256:Generated_Source\PSoC5/Bootloader.c ****         else 
 257:Generated_Source\PSoC5/Bootloader.c ****         {
 258:Generated_Source\PSoC5/Bootloader.c ****             /* Both are active */
 259:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_BOTH_ACTIVE;
 260:Generated_Source\PSoC5/Bootloader.c ****         }
 261:Generated_Source\PSoC5/Bootloader.c ****     }
 262:Generated_Source\PSoC5/Bootloader.c ****     else /* (0u == app0) */
 263:Generated_Source\PSoC5/Bootloader.c ****     {
 264:Generated_Source\PSoC5/Bootloader.c ****         if (0u != app1)
 265:Generated_Source\PSoC5/Bootloader.c ****         {
 266:Generated_Source\PSoC5/Bootloader.c ****             /* app1 is active */
 267:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_1;
 268:Generated_Source\PSoC5/Bootloader.c ****         }
 269:Generated_Source\PSoC5/Bootloader.c ****         else
 270:Generated_Source\PSoC5/Bootloader.c ****         {
 271:Generated_Source\PSoC5/Bootloader.c ****             /* Neither app is active. */
 272:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_MD_BTLDB_ACTIVE_NONE;
 273:Generated_Source\PSoC5/Bootloader.c ****         }          
 274:Generated_Source\PSoC5/Bootloader.c ****     }
 275:Generated_Source\PSoC5/Bootloader.c **** 
 276:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 277:Generated_Source\PSoC5/Bootloader.c **** }
 278:Generated_Source\PSoC5/Bootloader.c **** #endif /*((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) || \
 279:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER) || \
 280:Generated_Source\PSoC5/Bootloader.c ****           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) */
 281:Generated_Source\PSoC5/Bootloader.c ****         
 282:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 283:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 284:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Initialize
 285:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 286:Generated_Source\PSoC5/Bootloader.c **** * 
 287:Generated_Source\PSoC5/Bootloader.c **** * \brief 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 7


 288:Generated_Source\PSoC5/Bootloader.c **** *   Used for in-app bootloading. This function updates the global variable 
 289:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_runningApp with a running application number.
 290:Generated_Source\PSoC5/Bootloader.c **** *
 291:Generated_Source\PSoC5/Bootloader.c **** *   If the running application number is valid (0 or 1), this function also 
 292:Generated_Source\PSoC5/Bootloader.c **** *   sets the global variable Bootloader_initVar that is used to determine 
 293:Generated_Source\PSoC5/Bootloader.c **** *   if the component can process bootloader commands or not.
 294:Generated_Source\PSoC5/Bootloader.c **** *   This function should be called once in the application project after a startup.
 295:Generated_Source\PSoC5/Bootloader.c **** *
 296:Generated_Source\PSoC5/Bootloader.c **** * \return
 297:Generated_Source\PSoC5/Bootloader.c **** *   Global variables: 
 298:Generated_Source\PSoC5/Bootloader.c **** *     - Bootloader_runningApp
 299:Generated_Source\PSoC5/Bootloader.c **** *     - Bootloader_activeApp
 300:Generated_Source\PSoC5/Bootloader.c **** *     - Bootloader_initVar
 301:Generated_Source\PSoC5/Bootloader.c **** *
 302:Generated_Source\PSoC5/Bootloader.c **** * \details 
 303:Generated_Source\PSoC5/Bootloader.c **** *   This API should be called first to be able to capture the active application 
 304:Generated_Source\PSoC5/Bootloader.c **** *   number that is actually the running application number.
 305:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 306:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_Initialize(void) CYSMALL \
 307:Generated_Source\PSoC5/Bootloader.c ****                                
 308:Generated_Source\PSoC5/Bootloader.c **** {
 309:Generated_Source\PSoC5/Bootloader.c ****     if (Bootloader_BOOTLOADING_NOT_INITIALIZED ==Bootloader_initVar)
 310:Generated_Source\PSoC5/Bootloader.c ****     {
 311:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_activeApp = Bootloader_GetActiveAppFromMetadata();
 312:Generated_Source\PSoC5/Bootloader.c ****         
 313:Generated_Source\PSoC5/Bootloader.c ****         /* Updating with number of active application */    
 314:Generated_Source\PSoC5/Bootloader.c ****         if ((Bootloader_MD_BTLDB_ACTIVE_NONE != Bootloader_activeApp) &&
 315:Generated_Source\PSoC5/Bootloader.c ****             (Bootloader_BOTH_ACTIVE != Bootloader_activeApp))
 316:Generated_Source\PSoC5/Bootloader.c ****         {
 317:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_runningApp = Bootloader_activeApp;
 318:Generated_Source\PSoC5/Bootloader.c ****             
 319:Generated_Source\PSoC5/Bootloader.c ****             /* Bootloader commands are to be processed */
 320:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_initVar = Bootloader_BOOTLADING_INITIALIZED;
 321:Generated_Source\PSoC5/Bootloader.c ****         }
 322:Generated_Source\PSoC5/Bootloader.c ****         else 
 323:Generated_Source\PSoC5/Bootloader.c ****         {
 324:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_runningApp = Bootloader_RUNNING_APPLICATION_UNKNOWN;
 325:Generated_Source\PSoC5/Bootloader.c ****         }
 326:Generated_Source\PSoC5/Bootloader.c ****     }
 327:Generated_Source\PSoC5/Bootloader.c **** }
 328:Generated_Source\PSoC5/Bootloader.c **** 
 329:Generated_Source\PSoC5/Bootloader.c **** /*****************************************************************************
 330:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetRunningAppStatus
 331:Generated_Source\PSoC5/Bootloader.c **** **************************************************************************//**
 332:Generated_Source\PSoC5/Bootloader.c **** *
 333:Generated_Source\PSoC5/Bootloader.c **** * \brief 
 334:Generated_Source\PSoC5/Bootloader.c **** *   Used for dual-app or in-app bootloader. Returns the value of the global 
 335:Generated_Source\PSoC5/Bootloader.c **** *   variable Bootloader_runningApp. This function should be called only after the 
 336:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_Initialize() has been called once.
 337:Generated_Source\PSoC5/Bootloader.c **** *
 338:Generated_Source\PSoC5/Bootloader.c **** * \return 
 339:Generated_Source\PSoC5/Bootloader.c **** *   The application number that is currently being executed. Values are 0 or 1; 
 340:Generated_Source\PSoC5/Bootloader.c **** *     other values indicate "not defined".
 341:Generated_Source\PSoC5/Bootloader.c **** *
 342:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 343:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_GetRunningAppStatus(void) CYSMALL \
 344:Generated_Source\PSoC5/Bootloader.c ****             
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 8


 345:Generated_Source\PSoC5/Bootloader.c **** {  
 346:Generated_Source\PSoC5/Bootloader.c ****     return (Bootloader_runningApp);
 347:Generated_Source\PSoC5/Bootloader.c **** }
 348:Generated_Source\PSoC5/Bootloader.c **** 
 349:Generated_Source\PSoC5/Bootloader.c **** 
 350:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 351:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetActiveAppStatus
 352:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 353:Generated_Source\PSoC5/Bootloader.c **** *
 354:Generated_Source\PSoC5/Bootloader.c **** * \brief 
 355:Generated_Source\PSoC5/Bootloader.c **** *   Used for dual-app or in-app bootloader. Returns the value of the global 
 356:Generated_Source\PSoC5/Bootloader.c **** *   variable Bootloader_activeApp. This function should be called only after the 
 357:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_Initialize() has been called once.
 358:Generated_Source\PSoC5/Bootloader.c **** *
 359:Generated_Source\PSoC5/Bootloader.c **** * \return 
 360:Generated_Source\PSoC5/Bootloader.c **** *   The desired application to be executed. Values are 0 or 1; other values 
 361:Generated_Source\PSoC5/Bootloader.c **** *     indicate "not defined".
 362:Generated_Source\PSoC5/Bootloader.c **** *
 363:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 364:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_GetActiveAppStatus(void) CYSMALL \
 365:Generated_Source\PSoC5/Bootloader.c ****       
 366:Generated_Source\PSoC5/Bootloader.c **** {  
 367:Generated_Source\PSoC5/Bootloader.c ****     /* Read active application number from metadata */
 368:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_activeApp = Bootloader_GetActiveAppFromMetadata();
 369:Generated_Source\PSoC5/Bootloader.c ****     
 370:Generated_Source\PSoC5/Bootloader.c ****     return (Bootloader_activeApp);
 371:Generated_Source\PSoC5/Bootloader.c **** }
 372:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
 373:Generated_Source\PSoC5/Bootloader.c **** 
 374:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
 375:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 376:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_CalcPacketChecksum
 377:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 378:Generated_Source\PSoC5/Bootloader.c **** *  \internal
 379:Generated_Source\PSoC5/Bootloader.c **** *
 380:Generated_Source\PSoC5/Bootloader.c **** *  \brief
 381:Generated_Source\PSoC5/Bootloader.c **** *     This computes a 16-bit checksum for the provided number of bytes contained
 382:Generated_Source\PSoC5/Bootloader.c **** *     in the provided buffer.
 383:Generated_Source\PSoC5/Bootloader.c **** *
 384:Generated_Source\PSoC5/Bootloader.c **** *  \param buffer
 385:Generated_Source\PSoC5/Bootloader.c **** *     The buffer containing the data to compute the checksum.
 386:Generated_Source\PSoC5/Bootloader.c **** *  \param size
 387:Generated_Source\PSoC5/Bootloader.c **** *     The number of bytes in the buffer to compute the checksum.
 388:Generated_Source\PSoC5/Bootloader.c **** *
 389:Generated_Source\PSoC5/Bootloader.c **** *  \return 
 390:Generated_Source\PSoC5/Bootloader.c **** *     A 16-bit checksum for the provided data.
 391:Generated_Source\PSoC5/Bootloader.c **** *
 392:Generated_Source\PSoC5/Bootloader.c **** *  \endinternal
 393:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 394:Generated_Source\PSoC5/Bootloader.c **** static uint16 Bootloader_CalcPacketChecksum(const uint8 buffer[], uint16 size) \
 395:Generated_Source\PSoC5/Bootloader.c ****                     CYSMALL 
 396:Generated_Source\PSoC5/Bootloader.c **** {
  56              		.loc 1 396 0
  57              		.cfi_startproc
  58              		@ args = 0, pretend = 0, frame = 16
  59              		@ frame_needed = 1, uses_anonymous_args = 0
  60              		@ link register save eliminated.
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 9


  61 0000 80B4     		push	{r7}
  62              		.cfi_def_cfa_offset 4
  63              		.cfi_offset 7, -4
  64 0002 85B0     		sub	sp, sp, #20
  65              		.cfi_def_cfa_offset 24
  66 0004 00AF     		add	r7, sp, #0
  67              		.cfi_def_cfa_register 7
  68 0006 7860     		str	r0, [r7, #4]
  69 0008 0B46     		mov	r3, r1
  70 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 397:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_PACKET_CHECKSUM_CRC)
 398:Generated_Source\PSoC5/Bootloader.c **** 
 399:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA crc = Bootloader_CRC_CCITT_INITIAL_VALUE;
 400:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA tmp;
 401:Generated_Source\PSoC5/Bootloader.c ****         uint8  CYDATA i;
 402:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA tmpIndex = size;
 403:Generated_Source\PSoC5/Bootloader.c **** 
 404:Generated_Source\PSoC5/Bootloader.c ****         if(0u == size)
 405:Generated_Source\PSoC5/Bootloader.c ****         {
 406:Generated_Source\PSoC5/Bootloader.c ****             crc = ~crc;
 407:Generated_Source\PSoC5/Bootloader.c ****         }
 408:Generated_Source\PSoC5/Bootloader.c ****         else
 409:Generated_Source\PSoC5/Bootloader.c ****         {
 410:Generated_Source\PSoC5/Bootloader.c ****             do
 411:Generated_Source\PSoC5/Bootloader.c ****             {
 412:Generated_Source\PSoC5/Bootloader.c ****                 tmp = buffer[tmpIndex - size];
 413:Generated_Source\PSoC5/Bootloader.c **** 
 414:Generated_Source\PSoC5/Bootloader.c ****                 for (i = 0u; i < 8u; i++)
 415:Generated_Source\PSoC5/Bootloader.c ****                 {
 416:Generated_Source\PSoC5/Bootloader.c ****                     if (0u != ((crc & 0x0001u) ^ (tmp & 0x0001u)))
 417:Generated_Source\PSoC5/Bootloader.c ****                     {
 418:Generated_Source\PSoC5/Bootloader.c ****                         crc = (crc >> 1u) ^ Bootloader_CRC_CCITT_POLYNOMIAL;
 419:Generated_Source\PSoC5/Bootloader.c ****                     }
 420:Generated_Source\PSoC5/Bootloader.c ****                     else
 421:Generated_Source\PSoC5/Bootloader.c ****                     {
 422:Generated_Source\PSoC5/Bootloader.c ****                         crc >>= 1u;
 423:Generated_Source\PSoC5/Bootloader.c ****                     }
 424:Generated_Source\PSoC5/Bootloader.c **** 
 425:Generated_Source\PSoC5/Bootloader.c ****                     tmp >>= 1u;
 426:Generated_Source\PSoC5/Bootloader.c ****                 }
 427:Generated_Source\PSoC5/Bootloader.c **** 
 428:Generated_Source\PSoC5/Bootloader.c ****                 size--;
 429:Generated_Source\PSoC5/Bootloader.c ****             }
 430:Generated_Source\PSoC5/Bootloader.c ****             while(0u != size);
 431:Generated_Source\PSoC5/Bootloader.c **** 
 432:Generated_Source\PSoC5/Bootloader.c ****             crc = ~crc;
 433:Generated_Source\PSoC5/Bootloader.c ****             tmp = crc;
 434:Generated_Source\PSoC5/Bootloader.c ****             crc = ( uint16 )(crc << 8u) | (tmp >> 8u);
 435:Generated_Source\PSoC5/Bootloader.c ****         }
 436:Generated_Source\PSoC5/Bootloader.c **** 
 437:Generated_Source\PSoC5/Bootloader.c ****         return(crc);
 438:Generated_Source\PSoC5/Bootloader.c **** 
 439:Generated_Source\PSoC5/Bootloader.c ****     #else
 440:Generated_Source\PSoC5/Bootloader.c **** 
 441:Generated_Source\PSoC5/Bootloader.c ****         uint16 CYDATA sum = 0u;
  71              		.loc 1 441 0
  72 000c 0023     		movs	r3, #0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 10


  73 000e FB81     		strh	r3, [r7, #14]	@ movhi
 442:Generated_Source\PSoC5/Bootloader.c **** 
 443:Generated_Source\PSoC5/Bootloader.c ****         while (size > 0u)
  74              		.loc 1 443 0
  75 0010 0BE0     		b	.L2
  76              	.L3:
 444:Generated_Source\PSoC5/Bootloader.c ****         {
 445:Generated_Source\PSoC5/Bootloader.c ****             sum += buffer[size - 1u];
  77              		.loc 1 445 0
  78 0012 7B88     		ldrh	r3, [r7, #2]
  79 0014 013B     		subs	r3, r3, #1
  80 0016 7A68     		ldr	r2, [r7, #4]
  81 0018 1344     		add	r3, r3, r2
  82 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  83 001c 9AB2     		uxth	r2, r3
  84 001e FB89     		ldrh	r3, [r7, #14]	@ movhi
  85 0020 1344     		add	r3, r3, r2
  86 0022 FB81     		strh	r3, [r7, #14]	@ movhi
 446:Generated_Source\PSoC5/Bootloader.c ****             size--;
  87              		.loc 1 446 0
  88 0024 7B88     		ldrh	r3, [r7, #2]
  89 0026 013B     		subs	r3, r3, #1
  90 0028 7B80     		strh	r3, [r7, #2]	@ movhi
  91              	.L2:
 443:Generated_Source\PSoC5/Bootloader.c ****         {
  92              		.loc 1 443 0
  93 002a 7B88     		ldrh	r3, [r7, #2]
  94 002c 002B     		cmp	r3, #0
  95 002e F0D1     		bne	.L3
 447:Generated_Source\PSoC5/Bootloader.c ****         }
 448:Generated_Source\PSoC5/Bootloader.c **** 
 449:Generated_Source\PSoC5/Bootloader.c ****         return(( uint16 )1u + ( uint16 )(~sum));
  96              		.loc 1 449 0
  97 0030 FB89     		ldrh	r3, [r7, #14]	@ movhi
  98 0032 5B42     		negs	r3, r3
  99 0034 9BB2     		uxth	r3, r3
 450:Generated_Source\PSoC5/Bootloader.c **** 
 451:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (0u != Bootloader_PACKET_CHECKSUM_CRC) */
 452:Generated_Source\PSoC5/Bootloader.c **** }
 100              		.loc 1 452 0
 101 0036 1846     		mov	r0, r3
 102 0038 1437     		adds	r7, r7, #20
 103              		.cfi_def_cfa_offset 4
 104 003a BD46     		mov	sp, r7
 105              		.cfi_def_cfa_register 13
 106              		@ sp needed
 107 003c 80BC     		pop	{r7}
 108              		.cfi_restore 7
 109              		.cfi_def_cfa_offset 0
 110 003e 7047     		bx	lr
 111              		.cfi_endproc
 112              	.LFE63:
 113              		.size	Bootloader_CalcPacketChecksum, .-Bootloader_CalcPacketChecksum
 114              		.section	.text.Bootloader_InitCallback,"ax",%progbits
 115              		.align	2
 116              		.global	Bootloader_InitCallback
 117              		.thumb
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 11


 118              		.thumb_func
 119              		.type	Bootloader_InitCallback, %function
 120              	Bootloader_InitCallback:
 121              	.LFB64:
 453:Generated_Source\PSoC5/Bootloader.c **** 
 454:Generated_Source\PSoC5/Bootloader.c **** #if (!CY_PSOC3)
 455:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 456:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_InitCallback
 457:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 458:Generated_Source\PSoC5/Bootloader.c **** *
 459:Generated_Source\PSoC5/Bootloader.c **** * \brief
 460:Generated_Source\PSoC5/Bootloader.c **** *  This function initializes the callback functionality.
 461:Generated_Source\PSoC5/Bootloader.c **** *  
 462:Generated_Source\PSoC5/Bootloader.c **** * \param userCallback
 463:Generated_Source\PSoC5/Bootloader.c **** *  The user's callback function.
 464:Generated_Source\PSoC5/Bootloader.c **** *
 465:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 466:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_InitCallback(Bootloader_callback_type userCallback) \
 467:Generated_Source\PSoC5/Bootloader.c ****            CYSMALL 
 468:Generated_Source\PSoC5/Bootloader.c **** {
 122              		.loc 1 468 0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 8
 125              		@ frame_needed = 1, uses_anonymous_args = 0
 126              		@ link register save eliminated.
 127 0000 80B4     		push	{r7}
 128              		.cfi_def_cfa_offset 4
 129              		.cfi_offset 7, -4
 130 0002 83B0     		sub	sp, sp, #12
 131              		.cfi_def_cfa_offset 16
 132 0004 00AF     		add	r7, sp, #0
 133              		.cfi_def_cfa_register 7
 134 0006 7860     		str	r0, [r7, #4]
 469:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_callback = userCallback;
 135              		.loc 1 469 0
 136 0008 034A     		ldr	r2, .L6
 137 000a 7B68     		ldr	r3, [r7, #4]
 138 000c 1360     		str	r3, [r2]
 470:Generated_Source\PSoC5/Bootloader.c **** }
 139              		.loc 1 470 0
 140 000e 00BF     		nop
 141 0010 0C37     		adds	r7, r7, #12
 142              		.cfi_def_cfa_offset 4
 143 0012 BD46     		mov	sp, r7
 144              		.cfi_def_cfa_register 13
 145              		@ sp needed
 146 0014 80BC     		pop	{r7}
 147              		.cfi_restore 7
 148              		.cfi_def_cfa_offset 0
 149 0016 7047     		bx	lr
 150              	.L7:
 151              		.align	2
 152              	.L6:
 153 0018 00000000 		.word	Bootloader_callback
 154              		.cfi_endproc
 155              	.LFE64:
 156              		.size	Bootloader_InitCallback, .-Bootloader_InitCallback
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 12


 157              		.section	.text.Bootloader_Calc8BitSum,"ax",%progbits
 158              		.align	2
 159              		.global	Bootloader_Calc8BitSum
 160              		.thumb
 161              		.thumb_func
 162              		.type	Bootloader_Calc8BitSum, %function
 163              	Bootloader_Calc8BitSum:
 164              	.LFB65:
 471:Generated_Source\PSoC5/Bootloader.c **** #endif /* (!CY_PSOC3) */
 472:Generated_Source\PSoC5/Bootloader.c **** 
 473:Generated_Source\PSoC5/Bootloader.c **** 
 474:Generated_Source\PSoC5/Bootloader.c **** #if (0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
 475:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 476:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_VerifyRow
 477:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 478:Generated_Source\PSoC5/Bootloader.c **** *  \internal
 479:Generated_Source\PSoC5/Bootloader.c **** * 
 480:Generated_Source\PSoC5/Bootloader.c **** *  \brief
 481:Generated_Source\PSoC5/Bootloader.c **** *   This API performs a byte to byte verifying of the flash row against the data 
 482:Generated_Source\PSoC5/Bootloader.c **** *   in the input buffer. 
 483:Generated_Source\PSoC5/Bootloader.c **** *
 484:Generated_Source\PSoC5/Bootloader.c **** *  \param flashStart 
 485:Generated_Source\PSoC5/Bootloader.c **** *        The start address of a row in flash.
 486:Generated_Source\PSoC5/Bootloader.c **** *  \param ramStart 
 487:Generated_Source\PSoC5/Bootloader.c **** *        The start address of corresponding data to compare in the RAM buffer.
 488:Generated_Source\PSoC5/Bootloader.c **** *  \param size 
 489:Generated_Source\PSoC5/Bootloader.c **** *        The data length (common for both arrays).
 490:Generated_Source\PSoC5/Bootloader.c **** *
 491:Generated_Source\PSoC5/Bootloader.c **** *  \return
 492:Generated_Source\PSoC5/Bootloader.c **** *   CYRET_SUCCESS - If all data matches.
 493:Generated_Source\PSoC5/Bootloader.c **** *  \n Bootloader_ERR_VERIFY - If there is any mismatch.
 494:Generated_Source\PSoC5/Bootloader.c **** *
 495:Generated_Source\PSoC5/Bootloader.c **** * \endinternal 
 496:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 497:Generated_Source\PSoC5/Bootloader.c **** static uint8 Bootloader_VerifyRow(uint32 flashStart, const uint8 ramStart[], uint16 size) \
 498:Generated_Source\PSoC5/Bootloader.c ****                 CYSMALL 
 499:Generated_Source\PSoC5/Bootloader.c **** {
 500:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA result = CYRET_SUCCESS;
 501:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA idx;
 502:Generated_Source\PSoC5/Bootloader.c **** 
 503:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0u; idx < size; idx++)
 504:Generated_Source\PSoC5/Bootloader.c ****     {
 505:Generated_Source\PSoC5/Bootloader.c ****         if (CY_GET_XTND_REG8((uint8 CYFAR *)(flashStart + idx)) != ramStart[idx])
 506:Generated_Source\PSoC5/Bootloader.c ****         {
 507:Generated_Source\PSoC5/Bootloader.c ****             result = Bootloader_ERR_VERIFY;
 508:Generated_Source\PSoC5/Bootloader.c ****             break;
 509:Generated_Source\PSoC5/Bootloader.c ****         }    
 510:Generated_Source\PSoC5/Bootloader.c ****     }
 511:Generated_Source\PSoC5/Bootloader.c **** 
 512:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 513:Generated_Source\PSoC5/Bootloader.c **** }
 514:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)*/
 515:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER*/
 516:Generated_Source\PSoC5/Bootloader.c **** 
 517:Generated_Source\PSoC5/Bootloader.c **** 
 518:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 519:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Calc8BitSum
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 13


 520:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 521:Generated_Source\PSoC5/Bootloader.c **** *
 522:Generated_Source\PSoC5/Bootloader.c **** * \brief
 523:Generated_Source\PSoC5/Bootloader.c **** *  This computes an 8-bit sum for the provided number of bytes contained in
 524:Generated_Source\PSoC5/Bootloader.c **** *  flash (if baseAddr equals CY_FLASH_BASE) or EEPROM (if baseAddr equals
 525:Generated_Source\PSoC5/Bootloader.c **** *  CY_EEPROM_BASE).
 526:Generated_Source\PSoC5/Bootloader.c **** *
 527:Generated_Source\PSoC5/Bootloader.c **** * \param baseAddr
 528:Generated_Source\PSoC5/Bootloader.c **** *   CY_FLASH_BASE
 529:Generated_Source\PSoC5/Bootloader.c **** *   CY_EEPROM_BASE - applicable only for PSoC 3 / PSoC 5LP devices.
 530:Generated_Source\PSoC5/Bootloader.c **** *
 531:Generated_Source\PSoC5/Bootloader.c **** * \param start
 532:Generated_Source\PSoC5/Bootloader.c **** *     The starting address to start summing data.
 533:Generated_Source\PSoC5/Bootloader.c **** * \param size
 534:Generated_Source\PSoC5/Bootloader.c **** *     The number of bytes to read and compute the sum.
 535:Generated_Source\PSoC5/Bootloader.c **** *
 536:Generated_Source\PSoC5/Bootloader.c **** * \return
 537:Generated_Source\PSoC5/Bootloader.c **** *   An 8-bit sum for the provided data.
 538:Generated_Source\PSoC5/Bootloader.c **** *
 539:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 540:Generated_Source\PSoC5/Bootloader.c **** uint8 Bootloader_Calc8BitSum(uint32 baseAddr, uint32 start, uint32 size) \
 541:Generated_Source\PSoC5/Bootloader.c ****                 CYSMALL 
 542:Generated_Source\PSoC5/Bootloader.c **** {
 165              		.loc 1 542 0
 166              		.cfi_startproc
 167              		@ args = 0, pretend = 0, frame = 24
 168              		@ frame_needed = 1, uses_anonymous_args = 0
 169 0000 80B5     		push	{r7, lr}
 170              		.cfi_def_cfa_offset 8
 171              		.cfi_offset 7, -8
 172              		.cfi_offset 14, -4
 173 0002 86B0     		sub	sp, sp, #24
 174              		.cfi_def_cfa_offset 32
 175 0004 00AF     		add	r7, sp, #0
 176              		.cfi_def_cfa_register 7
 177 0006 F860     		str	r0, [r7, #12]
 178 0008 B960     		str	r1, [r7, #8]
 179 000a 7A60     		str	r2, [r7, #4]
 543:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA sum = 0u;
 180              		.loc 1 543 0
 181 000c 0023     		movs	r3, #0
 182 000e FB75     		strb	r3, [r7, #23]
 544:Generated_Source\PSoC5/Bootloader.c **** 
 545:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
 546:Generated_Source\PSoC5/Bootloader.c ****         CYASSERT((baseAddr == CY_EEPROM_BASE) || (baseAddr == CY_FLASH_BASE));
 183              		.loc 1 546 0
 184 0010 FB68     		ldr	r3, [r7, #12]
 185 0012 0F4A     		ldr	r2, .L13
 186 0014 9342     		cmp	r3, r2
 187 0016 13D0     		beq	.L10
 188              		.loc 1 546 0 is_stmt 0 discriminator 1
 189 0018 FB68     		ldr	r3, [r7, #12]
 190 001a 002B     		cmp	r3, #0
 191 001c 10D0     		beq	.L10
 192              		.loc 1 546 0 discriminator 2
 193 001e 0020     		movs	r0, #0
 194 0020 FFF7FEFF 		bl	CyHalt
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 14


 547:Generated_Source\PSoC5/Bootloader.c ****     #else
 548:Generated_Source\PSoC5/Bootloader.c ****         CYASSERT(baseAddr == CY_FLASH_BASE);
 549:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC4) */
 550:Generated_Source\PSoC5/Bootloader.c **** 
 551:Generated_Source\PSoC5/Bootloader.c ****     while (size > 0u)
 195              		.loc 1 551 0 is_stmt 1 discriminator 2
 196 0024 0CE0     		b	.L10
 197              	.L11:
 552:Generated_Source\PSoC5/Bootloader.c ****     {
 553:Generated_Source\PSoC5/Bootloader.c ****         size--;
 198              		.loc 1 553 0
 199 0026 7B68     		ldr	r3, [r7, #4]
 200 0028 013B     		subs	r3, r3, #1
 201 002a 7B60     		str	r3, [r7, #4]
 554:Generated_Source\PSoC5/Bootloader.c ****         sum += CY_GET_XTND_REG8((uint8 CYFAR *)(baseAddr + start + size));
 202              		.loc 1 554 0
 203 002c FA68     		ldr	r2, [r7, #12]
 204 002e BB68     		ldr	r3, [r7, #8]
 205 0030 1A44     		add	r2, r2, r3
 206 0032 7B68     		ldr	r3, [r7, #4]
 207 0034 1344     		add	r3, r3, r2
 208 0036 1B78     		ldrb	r3, [r3]
 209 0038 DAB2     		uxtb	r2, r3
 210 003a FB7D     		ldrb	r3, [r7, #23]
 211 003c 1344     		add	r3, r3, r2
 212 003e FB75     		strb	r3, [r7, #23]
 213              	.L10:
 551:Generated_Source\PSoC5/Bootloader.c ****     {
 214              		.loc 1 551 0
 215 0040 7B68     		ldr	r3, [r7, #4]
 216 0042 002B     		cmp	r3, #0
 217 0044 EFD1     		bne	.L11
 555:Generated_Source\PSoC5/Bootloader.c ****     }
 556:Generated_Source\PSoC5/Bootloader.c **** 
 557:Generated_Source\PSoC5/Bootloader.c ****     return(sum);
 218              		.loc 1 557 0
 219 0046 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
 558:Generated_Source\PSoC5/Bootloader.c **** }
 220              		.loc 1 558 0
 221 0048 1846     		mov	r0, r3
 222 004a 1837     		adds	r7, r7, #24
 223              		.cfi_def_cfa_offset 8
 224 004c BD46     		mov	sp, r7
 225              		.cfi_def_cfa_register 13
 226              		@ sp needed
 227 004e 80BD     		pop	{r7, pc}
 228              	.L14:
 229              		.align	2
 230              	.L13:
 231 0050 00800040 		.word	1073774592
 232              		.cfi_endproc
 233              	.LFE65:
 234              		.size	Bootloader_Calc8BitSum, .-Bootloader_Calc8BitSum
 235              		.section	.text.Bootloader_Start,"ax",%progbits
 236              		.align	2
 237              		.global	Bootloader_Start
 238              		.thumb
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 15


 239              		.thumb_func
 240              		.type	Bootloader_Start, %function
 241              	Bootloader_Start:
 242              	.LFB66:
 559:Generated_Source\PSoC5/Bootloader.c **** 
 560:Generated_Source\PSoC5/Bootloader.c **** 
 561:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)
 562:Generated_Source\PSoC5/Bootloader.c **** #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)) 
 563:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 564:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_CopyRow
 565:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 566:Generated_Source\PSoC5/Bootloader.c **** * \internal
 567:Generated_Source\PSoC5/Bootloader.c **** *
 568:Generated_Source\PSoC5/Bootloader.c **** * \brief
 569:Generated_Source\PSoC5/Bootloader.c **** *   This function performs copying of a specified row to specified 
 570:Generated_Source\PSoC5/Bootloader.c **** *     location.
 571:Generated_Source\PSoC5/Bootloader.c **** *
 572:Generated_Source\PSoC5/Bootloader.c **** * \param
 573:Generated_Source\PSoC5/Bootloader.c **** *   srcRowNum - The number of a row to copy from.
 574:Generated_Source\PSoC5/Bootloader.c **** * \param             
 575:Generated_Source\PSoC5/Bootloader.c **** *   dstRowNum - The number of a row to be copied to.
 576:Generated_Source\PSoC5/Bootloader.c **** *
 577:Generated_Source\PSoC5/Bootloader.c **** * \return
 578:Generated_Source\PSoC5/Bootloader.c **** *   \n CYRET_SUCCESS - If everything went right. 
 579:Generated_Source\PSoC5/Bootloader.c **** *   \n Otherwise, produce an error code indicating a problem.  
 580:Generated_Source\PSoC5/Bootloader.c **** * 
 581:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
 582:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 583:Generated_Source\PSoC5/Bootloader.c **** static cystatus Bootloader_CopyRow(uint16 srcRowNum, uint16 dstRowNum) \
 584:Generated_Source\PSoC5/Bootloader.c ****                  CYSMALL 
 585:Generated_Source\PSoC5/Bootloader.c **** {
 586:Generated_Source\PSoC5/Bootloader.c ****     /*Buffer for row copy procedure*/
 587:Generated_Source\PSoC5/Bootloader.c ****     uint8  rowBuffer[CYDEV_FLS_ROW_SIZE];
 588:Generated_Source\PSoC5/Bootloader.c ****     cystatus result = CYRET_SUCCESS;
 589:Generated_Source\PSoC5/Bootloader.c **** 
 590:Generated_Source\PSoC5/Bootloader.c ****     uint32 srcBaseAddr = CYDEV_FLASH_BASE + srcRowNum * CYDEV_FLS_ROW_SIZE;
 591:Generated_Source\PSoC5/Bootloader.c ****     uint16 idx;
 592:Generated_Source\PSoC5/Bootloader.c **** 
 593:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 594:Generated_Source\PSoC5/Bootloader.c ****     {
 595:Generated_Source\PSoC5/Bootloader.c ****         rowBuffer[idx] = Bootloader_GET_CODE_BYTE(srcBaseAddr + idx);
 596:Generated_Source\PSoC5/Bootloader.c ****     }
 597:Generated_Source\PSoC5/Bootloader.c ****     
 598:Generated_Source\PSoC5/Bootloader.c ****     result = CySysFlashWriteRow((uint16) dstRowNum, rowBuffer);
 599:Generated_Source\PSoC5/Bootloader.c ****     
 600:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 601:Generated_Source\PSoC5/Bootloader.c **** }
 602:Generated_Source\PSoC5/Bootloader.c **** 
 603:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 604:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Copier
 605:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 606:Generated_Source\PSoC5/Bootloader.c **** *  \internal
 607:Generated_Source\PSoC5/Bootloader.c **** *  
 608:Generated_Source\PSoC5/Bootloader.c **** *  \brief
 609:Generated_Source\PSoC5/Bootloader.c **** *    This option is specific for Launcher-Combination architecture only and to 
 610:Generated_Source\PSoC5/Bootloader.c **** *    the case when there is a large communication component like BLE. To save 
 611:Generated_Source\PSoC5/Bootloader.c **** *    flash space for the user application, such a large communication component 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 16


 612:Generated_Source\PSoC5/Bootloader.c **** *    is present only in the first application (Stack application) and is "shared" 
 613:Generated_Source\PSoC5/Bootloader.c **** *    with the second application (the user's application actually) by "Code 
 614:Generated_Source\PSoC5/Bootloader.c **** *    sharing feature" (See code sharing and BLE Upgradable Stack example project). 
 615:Generated_Source\PSoC5/Bootloader.c **** *
 616:Generated_Source\PSoC5/Bootloader.c **** * \n If this option is enabled and the "need-to-copy" flag is set in the second 
 617:Generated_Source\PSoC5/Bootloader.c **** *    application's metadata, Copier performs copying of a previously saved Stack 
 618:Generated_Source\PSoC5/Bootloader.c **** *    application image from a "temporary location" to the app#1 flash 
 619:Generated_Source\PSoC5/Bootloader.c **** *    space (over the current app#1).
 620:Generated_Source\PSoC5/Bootloader.c **** *   
 621:Generated_Source\PSoC5/Bootloader.c **** * \n Before performing the copying operation the new Stack application image 
 622:Generated_Source\PSoC5/Bootloader.c **** *    should be received and stored at the temporary location by the current 
 623:Generated_Source\PSoC5/Bootloader.c **** *    Stack application. The "need-to-copy" flag should be set in app#2 metadata 
 624:Generated_Source\PSoC5/Bootloader.c **** *    indicating that copying operation is required.
 625:Generated_Source\PSoC5/Bootloader.c **** *
 626:Generated_Source\PSoC5/Bootloader.c **** * \n The temporary location is half of the flash space that left after Launcher 
 627:Generated_Source\PSoC5/Bootloader.c **** *    and 2 metadata rows. This implies that Stack application should fit in 
 628:Generated_Source\PSoC5/Bootloader.c **** *    that half of the flash space. 
 629:Generated_Source\PSoC5/Bootloader.c **** *
 630:Generated_Source\PSoC5/Bootloader.c **** * \n The destination for the copy operation is obtained as the first row after 
 631:Generated_Source\PSoC5/Bootloader.c **** *    Launcher (from app#1 metadata). 
 632:Generated_Source\PSoC5/Bootloader.c **** *
 633:Generated_Source\PSoC5/Bootloader.c **** * \n The source of copy operation is the first row of temporary location that 
 634:Generated_Source\PSoC5/Bootloader.c **** *    is calculated by the following formula: 
 635:Generated_Source\PSoC5/Bootloader.c **** * \n     srcRow = (((CY_FLASH_NUMBER_ROWS - dstRow - metaRows) / 2) + dstRow);
 636:Generated_Source\PSoC5/Bootloader.c **** * \n     where:
 637:Generated_Source\PSoC5/Bootloader.c **** *          - dstRow - the destination's first row (mentioned above);
 638:Generated_Source\PSoC5/Bootloader.c **** *          - CY_FLASH_NUMBER_ROWS - number of all flash rows; 
 639:Generated_Source\PSoC5/Bootloader.c **** *          - metaRows - 2 metadata rows;   
 640:Generated_Source\PSoC5/Bootloader.c **** *
 641:Generated_Source\PSoC5/Bootloader.c **** * \n Copying itself means row-by-row copying of the stored application's image.
 642:Generated_Source\PSoC5/Bootloader.c **** *    If it fails to copy some row, there is a defined number of attempts 
 643:Generated_Source\PSoC5/Bootloader.c **** *    (Bootloader_MAX_ATTEMPTS) to try again. In case of no success, 
 644:Generated_Source\PSoC5/Bootloader.c **** *    a user callback function Launcher_CopierCallback() is called. 
 645:Generated_Source\PSoC5/Bootloader.c **** *    If it is not defined, then the device is going to be halted.
 646:Generated_Source\PSoC5/Bootloader.c **** * 
 647:Generated_Source\PSoC5/Bootloader.c **** * \n After performing the application image copying, in case of success 
 648:Generated_Source\PSoC5/Bootloader.c **** *    the app#2 metadata is copied in the stead of app#1 metadata and then
 649:Generated_Source\PSoC5/Bootloader.c **** *    app#2 metadata is cleared.
 650:Generated_Source\PSoC5/Bootloader.c **** *
 651:Generated_Source\PSoC5/Bootloader.c **** * \n A "need-to-copy" flag is cleared just after performing the app#1 image
 652:Generated_Source\PSoC5/Bootloader.c **** *    copying from the temporary location to avoid another consecutive 
 653:Generated_Source\PSoC5/Bootloader.c **** *    copying operation.
 654:Generated_Source\PSoC5/Bootloader.c **** *   
 655:Generated_Source\PSoC5/Bootloader.c **** * \endinternal 
 656:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 657:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_Copier(void) CYSMALL \
 658:Generated_Source\PSoC5/Bootloader.c ****            
 659:Generated_Source\PSoC5/Bootloader.c **** {
 660:Generated_Source\PSoC5/Bootloader.c ****     uint16 idx = 0u;
 661:Generated_Source\PSoC5/Bootloader.c **** 
 662:Generated_Source\PSoC5/Bootloader.c ****     /* Number of attempts to perform copying again */
 663:Generated_Source\PSoC5/Bootloader.c ****     uint8 copierAttempts;
 664:Generated_Source\PSoC5/Bootloader.c ****     
 665:Generated_Source\PSoC5/Bootloader.c ****     /* "need-to-copy" flag from second application metadata */
 666:Generated_Source\PSoC5/Bootloader.c ****     uint8 copyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, Bootloader_MD_BTLDB_ACT
 667:Generated_Source\PSoC5/Bootloader.c **** 
 668:Generated_Source\PSoC5/Bootloader.c ****     /* Buffer to temporary hold metadata before flashing */
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 17


 669:Generated_Source\PSoC5/Bootloader.c ****     uint8 metaBuf[CYDEV_FLS_ROW_SIZE];
 670:Generated_Source\PSoC5/Bootloader.c **** 
 671:Generated_Source\PSoC5/Bootloader.c ****     /* Launcher's last row number */
 672:Generated_Source\PSoC5/Bootloader.c ****     uint16 launcherLastRow = Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW, Bootloader_MD_BT
 673:Generated_Source\PSoC5/Bootloader.c **** 
 674:Generated_Source\PSoC5/Bootloader.c ****     /* Calculating destination's start row number (first row of app#1) */
 675:Generated_Source\PSoC5/Bootloader.c ****     uint16 dstRow = launcherLastRow + 1u;
 676:Generated_Source\PSoC5/Bootloader.c ****     
 677:Generated_Source\PSoC5/Bootloader.c ****     /* Calculating the source's/temporary location's start row number */
 678:Generated_Source\PSoC5/Bootloader.c ****     uint16 srcRow = ((((CY_FLASH_NUMBER_ROWS - dstRow - 2u) + 1u) >> 1u) + dstRow); 
 679:Generated_Source\PSoC5/Bootloader.c ****     
 680:Generated_Source\PSoC5/Bootloader.c ****     /* Taking length from app#2's metadata*/
 681:Generated_Source\PSoC5/Bootloader.c ****     uint32 srcLength = Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, Bootloader_MD_BTLDB_ACTI
 682:Generated_Source\PSoC5/Bootloader.c **** 
 683:Generated_Source\PSoC5/Bootloader.c ****     /* Copy operation status initialization */
 684:Generated_Source\PSoC5/Bootloader.c ****     cystatus copyStatus = CYRET_SUCCESS;
 685:Generated_Source\PSoC5/Bootloader.c ****     
 686:Generated_Source\PSoC5/Bootloader.c ****     /* Calculating number of rows for copying */
 687:Generated_Source\PSoC5/Bootloader.c ****     uint16 numberOfRows = srcLength / CYDEV_FLS_ROW_SIZE;
 688:Generated_Source\PSoC5/Bootloader.c ****     
 689:Generated_Source\PSoC5/Bootloader.c ****     if (0u != (srcLength % CYDEV_FLS_ROW_SIZE))
 690:Generated_Source\PSoC5/Bootloader.c ****     {
 691:Generated_Source\PSoC5/Bootloader.c ****         numberOfRows++;
 692:Generated_Source\PSoC5/Bootloader.c ****     }
 693:Generated_Source\PSoC5/Bootloader.c ****         
 694:Generated_Source\PSoC5/Bootloader.c ****     /*************************************************************************
 695:Generated_Source\PSoC5/Bootloader.c ****     * Copying the number of rows from source (temporary location) to destination.
 696:Generated_Source\PSoC5/Bootloader.c ****     * If the operation is unsuccessful, there will be a few more attempts to
 697:Generated_Source\PSoC5/Bootloader.c ****     * perform the copying operation (a number is defined by Bootloader_MAX_ATTEMPTS)
 698:Generated_Source\PSoC5/Bootloader.c ****     ***************************************************************************/
 699:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0; idx < numberOfRows; idx++)
 700:Generated_Source\PSoC5/Bootloader.c ****     {
 701:Generated_Source\PSoC5/Bootloader.c ****         copierAttempts = Bootloader_MAX_ATTEMPTS;
 702:Generated_Source\PSoC5/Bootloader.c ****         
 703:Generated_Source\PSoC5/Bootloader.c ****         do 
 704:Generated_Source\PSoC5/Bootloader.c ****         {
 705:Generated_Source\PSoC5/Bootloader.c ****             /* Copying row */
 706:Generated_Source\PSoC5/Bootloader.c ****             copyStatus = Bootloader_CopyRow(srcRow + idx, dstRow + idx);
 707:Generated_Source\PSoC5/Bootloader.c ****             
 708:Generated_Source\PSoC5/Bootloader.c ****             /* Decrementing counter of attempts to repeat copying operation */
 709:Generated_Source\PSoC5/Bootloader.c ****             copierAttempts--;       
 710:Generated_Source\PSoC5/Bootloader.c ****         } while ((CYRET_SUCCESS != copyStatus) && (0u != copierAttempts));
 711:Generated_Source\PSoC5/Bootloader.c **** 
 712:Generated_Source\PSoC5/Bootloader.c ****         
 713:Generated_Source\PSoC5/Bootloader.c ****         /*************************************************************************
 714:Generated_Source\PSoC5/Bootloader.c ****         * If a problem occurs, when a row can't be copied, "CopyFlag" should be
 715:Generated_Source\PSoC5/Bootloader.c ****         * cleared to prevent the recurrent copying that might follow the software reset.        
 716:Generated_Source\PSoC5/Bootloader.c ****         ***************************************************************************/
 717:Generated_Source\PSoC5/Bootloader.c ****         if (CYRET_SUCCESS != copyStatus)
 718:Generated_Source\PSoC5/Bootloader.c ****         {
 719:Generated_Source\PSoC5/Bootloader.c ****             /* Clear copy flag in metadata#1 */
 720:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SetFlashByte(Bootloader_MD_BTLDB_COPY_FLAG_OFFSET(Bootloader_MD_BTLDB_ACTIVE
 721:Generated_Source\PSoC5/Bootloader.c ****                                          (copyFlag & (~Bootloader_NEED_TO_COPY_SET_BIT)));
 722:Generated_Source\PSoC5/Bootloader.c ****                 
 723:Generated_Source\PSoC5/Bootloader.c ****             /* Callback macro definition */
 724:Generated_Source\PSoC5/Bootloader.c ****             #if (0u != LAUNCHER_COPIER_CALLBACK)
 725:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_CopierCallback();
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 18


 726:Generated_Source\PSoC5/Bootloader.c ****             #endif /* 0u != LAUNCHER_COPIER_CALLBACK */ 
 727:Generated_Source\PSoC5/Bootloader.c ****             
 728:Generated_Source\PSoC5/Bootloader.c ****             /*************************************************************************
 729:Generated_Source\PSoC5/Bootloader.c ****             * If the copying operation was unsuccessful after certain number of attempts
 730:Generated_Source\PSoC5/Bootloader.c ****             * and Bootloader_CopierCallback() is either undefined or returns, then the
 731:Generated_Source\PSoC5/Bootloader.c ****             * device should be halted.
 732:Generated_Source\PSoC5/Bootloader.c ****             *************************************************************************/
 733:Generated_Source\PSoC5/Bootloader.c ****             CyHalt(0x00u);
 734:Generated_Source\PSoC5/Bootloader.c ****         }
 735:Generated_Source\PSoC5/Bootloader.c ****     }    
 736:Generated_Source\PSoC5/Bootloader.c ****     
 737:Generated_Source\PSoC5/Bootloader.c ****     /* Copy metadata app#2 -> app#1*/
 738:Generated_Source\PSoC5/Bootloader.c ****     if (CYRET_SUCCESS == copyStatus)
 739:Generated_Source\PSoC5/Bootloader.c ****     {
 740:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************
 741:Generated_Source\PSoC5/Bootloader.c ****         *                               Metadata#1 update             
 742:Generated_Source\PSoC5/Bootloader.c ****         ******************************************************************************/
 743:Generated_Source\PSoC5/Bootloader.c ****         /* Getting start address of metadata #2 */
 744:Generated_Source\PSoC5/Bootloader.c ****         uint32 metaStartAddr = Bootloader_MD_BASE_ADDR(Bootloader_MD_BTLDB_ACTIVE_1) + 
 745:Generated_Source\PSoC5/Bootloader.c ****                                Bootloader_MD_SIZEOF - CYDEV_FLS_ROW_SIZE; 
 746:Generated_Source\PSoC5/Bootloader.c ****         
 747:Generated_Source\PSoC5/Bootloader.c ****         /* Read all data from metadata #2 */
 748:Generated_Source\PSoC5/Bootloader.c ****         for (idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
 749:Generated_Source\PSoC5/Bootloader.c ****         {
 750:Generated_Source\PSoC5/Bootloader.c ****             metaBuf[idx] = Bootloader_GET_CODE_BYTE(metaStartAddr + idx);
 751:Generated_Source\PSoC5/Bootloader.c ****         }
 752:Generated_Source\PSoC5/Bootloader.c ****         
 753:Generated_Source\PSoC5/Bootloader.c ****         /* Setting 'Copier available' flag (copyFlag field) in buffer to be stored in metadata#1 */
 754:Generated_Source\PSoC5/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_COPY_FLAG_BYTE_OFFSET] = Bootload
 755:Generated_Source\PSoC5/Bootloader.c **** 
 756:Generated_Source\PSoC5/Bootloader.c ****         /* Set active app#1 */
 757:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 758:Generated_Source\PSoC5/Bootloader.c ****         
 759:Generated_Source\PSoC5/Bootloader.c ****         /* Setting app#1 as active application in buffer to be stored in metadata#1 */
 760:Generated_Source\PSoC5/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_ACTIVE_APP_BYTE_OFFSET] = 0x01u; 
 761:Generated_Source\PSoC5/Bootloader.c **** 
 762:Generated_Source\PSoC5/Bootloader.c ****         /* Setting app#1 as valid for 'Fast validation' to be stored in metadata#1 */
 763:Generated_Source\PSoC5/Bootloader.c ****         metaBuf[Bootloader_MD_BUFFER_START_OFFSET + Bootloader_MD_FAST_VALID_BYTE_OFFSET] = 0x01u; 
 764:Generated_Source\PSoC5/Bootloader.c **** 
 765:Generated_Source\PSoC5/Bootloader.c ****         /* Update metadata#1 in flash */
 766:Generated_Source\PSoC5/Bootloader.c ****         copyStatus = CySysFlashWriteRow((uint16) (CY_FLASH_NUMBER_ROWS - 1u), metaBuf);  
 767:Generated_Source\PSoC5/Bootloader.c **** 
 768:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************
 769:Generated_Source\PSoC5/Bootloader.c ****         *                               Metadata#2 update  
 770:Generated_Source\PSoC5/Bootloader.c ****         * Clear the whole buffer for metadata#2, which will make it invalid. 
 771:Generated_Source\PSoC5/Bootloader.c ****         * The 'Need-to-copy' flag will be cleared and app#2 will be set as non-active. 
 772:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
 773:Generated_Source\PSoC5/Bootloader.c ****         (void) memset(&metaBuf, 0x00u, sizeof(metaBuf));
 774:Generated_Source\PSoC5/Bootloader.c ****         
 775:Generated_Source\PSoC5/Bootloader.c ****         /* Updating metadata#2 in flash */
 776:Generated_Source\PSoC5/Bootloader.c ****         copyStatus |= CySysFlashWriteRow((uint16) (CY_FLASH_NUMBER_ROWS - 2u), metaBuf);          
 777:Generated_Source\PSoC5/Bootloader.c ****     }
 778:Generated_Source\PSoC5/Bootloader.c ****     
 779:Generated_Source\PSoC5/Bootloader.c ****     if (CYRET_SUCCESS == copyStatus)
 780:Generated_Source\PSoC5/Bootloader.c ****     {
 781:Generated_Source\PSoC5/Bootloader.c ****         /* Schedule*/
 782:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 19


 783:Generated_Source\PSoC5/Bootloader.c **** 
 784:Generated_Source\PSoC5/Bootloader.c ****         /* Software reset */
 785:Generated_Source\PSoC5/Bootloader.c ****         CySoftwareReset();
 786:Generated_Source\PSoC5/Bootloader.c ****     }
 787:Generated_Source\PSoC5/Bootloader.c ****     else
 788:Generated_Source\PSoC5/Bootloader.c ****     {
 789:Generated_Source\PSoC5/Bootloader.c ****         /* Halt device */
 790:Generated_Source\PSoC5/Bootloader.c ****         CyHalt(0x00u);
 791:Generated_Source\PSoC5/Bootloader.c ****     }
 792:Generated_Source\PSoC5/Bootloader.c **** }
 793:Generated_Source\PSoC5/Bootloader.c **** #endif /*(0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
 794:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 795:Generated_Source\PSoC5/Bootloader.c **** 
 796:Generated_Source\PSoC5/Bootloader.c **** 
 797:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
 798:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Start
 799:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
 800:Generated_Source\PSoC5/Bootloader.c **** * \brief
 801:Generated_Source\PSoC5/Bootloader.c **** *  This function is called to execute the following algorithm:
 802:Generated_Source\PSoC5/Bootloader.c **** *
 803:Generated_Source\PSoC5/Bootloader.c **** * -    Validate the Bootloadable application for the Classic Single-app Bootloader or 
 804:Generated_Source\PSoC5/Bootloader.c **** *   both Bootloadable/Combination applications for the Classic Dual-app Bootloader/
 805:Generated_Source\PSoC5/Bootloader.c **** *   Launch-only Bootloader (Launcher for short) respectively.
 806:Generated_Source\PSoC5/Bootloader.c **** *  
 807:Generated_Source\PSoC5/Bootloader.c **** * -    For the Classic Single-app Bootloader: if the Bootloadable application is valid, 
 808:Generated_Source\PSoC5/Bootloader.c **** *   then the flow switches to it after a software reset. Otherwise it stays in 
 809:Generated_Source\PSoC5/Bootloader.c **** *   the Bootloader, waiting for a command(s) from the host.
 810:Generated_Source\PSoC5/Bootloader.c **** * 
 811:Generated_Source\PSoC5/Bootloader.c **** * -    For the Classic Dual-app Bootloader: the flow acts according to the switching table 
 812:Generated_Source\PSoC5/Bootloader.c **** *  (see in the code below) and enabled/disabled options (for instance, auto-switching).
 813:Generated_Source\PSoC5/Bootloader.c **** *   NOTE If the valid Bootloadable application is identified, then the control is passed 
 814:Generated_Source\PSoC5/Bootloader.c **** *   to it after a software reset. Otherwise it stays in the Classic Dual-app Bootloader 
 815:Generated_Source\PSoC5/Bootloader.c **** *   waiting for a command(s) from the host.
 816:Generated_Source\PSoC5/Bootloader.c **** * 
 817:Generated_Source\PSoC5/Bootloader.c **** * -    For the Launcher: the flow acts according to the switching table (see below) and 
 818:Generated_Source\PSoC5/Bootloader.c **** *   enabled/disabled options. NOTE If the valid Combination application is identified, then 
 819:Generated_Source\PSoC5/Bootloader.c **** *   the control is passed to it after a software reset. Otherwise it stays in the Launcher 
 820:Generated_Source\PSoC5/Bootloader.c **** *   forever.
 821:Generated_Source\PSoC5/Bootloader.c **** * 
 822:Generated_Source\PSoC5/Bootloader.c **** * -    Validate the Bootloader/Launcher application(s) (design-time configurable, Bootloader 
 823:Generated_Source\PSoC5/Bootloader.c **** *   application validation option of the component customizer).
 824:Generated_Source\PSoC5/Bootloader.c **** * 
 825:Generated_Source\PSoC5/Bootloader.c **** * -    Run a communication subroutine (design-time configurable, the Wait for command 
 826:Generated_Source\PSoC5/Bootloader.c **** *   option of the component customizer). NOTE This is NOT applicable for the Launcher.
 827:Generated_Source\PSoC5/Bootloader.c **** *
 828:Generated_Source\PSoC5/Bootloader.c **** * -    Schedule the Bootloadable and reset the device.
 829:Generated_Source\PSoC5/Bootloader.c **** *
 830:Generated_Source\PSoC5/Bootloader.c **** *  \ref page_switching_logic
 831:Generated_Source\PSoC5/Bootloader.c **** *
 832:Generated_Source\PSoC5/Bootloader.c **** * \return
 833:Generated_Source\PSoC5/Bootloader.c **** *  This method will never return. It will either load a new application and
 834:Generated_Source\PSoC5/Bootloader.c **** *  reset the device or jump directly to the existing application. The CPU is
 835:Generated_Source\PSoC5/Bootloader.c **** *  halted, if the validation fails when the "Bootloader application validation" 
 836:Generated_Source\PSoC5/Bootloader.c **** *  option is enabled.
 837:Generated_Source\PSoC5/Bootloader.c **** *  PSoC 3/PSoC 5: The CPU is halted if flash initialization fails.
 838:Generated_Source\PSoC5/Bootloader.c **** *
 839:Generated_Source\PSoC5/Bootloader.c **** * \details
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 20


 840:Generated_Source\PSoC5/Bootloader.c **** *  If the "Bootloader application validation" option is enabled and this method
 841:Generated_Source\PSoC5/Bootloader.c **** *  determines that the Bootloader application itself is corrupt, this method
 842:Generated_Source\PSoC5/Bootloader.c **** *  will not return, instead it will simply hang the application.   
 843:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
 844:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_Start(void) CYSMALL 
 845:Generated_Source\PSoC5/Bootloader.c **** {
 243              		.loc 1 845 0
 244              		.cfi_startproc
 245              		@ args = 0, pretend = 0, frame = 8
 246              		@ frame_needed = 1, uses_anonymous_args = 0
 247 0000 80B5     		push	{r7, lr}
 248              		.cfi_def_cfa_offset 8
 249              		.cfi_offset 7, -8
 250              		.cfi_offset 14, -4
 251 0002 82B0     		sub	sp, sp, #8
 252              		.cfi_def_cfa_offset 16
 253 0004 00AF     		add	r7, sp, #0
 254              		.cfi_def_cfa_register 7
 846:Generated_Source\PSoC5/Bootloader.c **** 
 847:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
 848:Generated_Source\PSoC5/Bootloader.c **** 
 849:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_DUAL_APP_BOOTLOADER)
 850:Generated_Source\PSoC5/Bootloader.c ****         cystatus app0Status = CYRET_BAD_DATA;
 851:Generated_Source\PSoC5/Bootloader.c ****         cystatus app1Status = CYRET_BAD_DATA;  
 852:Generated_Source\PSoC5/Bootloader.c ****     #endif /*0u != Bootloader_DUAL_APP_BOOTLOADER*/
 853:Generated_Source\PSoC5/Bootloader.c ****     
 854:Generated_Source\PSoC5/Bootloader.c ****     cystatus validApp  = CYRET_BAD_DATA;
 255              		.loc 1 854 0
 256 0006 0623     		movs	r3, #6
 257 0008 7B60     		str	r3, [r7, #4]
 855:Generated_Source\PSoC5/Bootloader.c **** 
 856:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_BOOTLOADER_APP_VALIDATION)
 857:Generated_Source\PSoC5/Bootloader.c ****         uint8 CYDATA calcedChecksum;
 858:Generated_Source\PSoC5/Bootloader.c ****     #endif    /* (0u != Bootloader_BOOTLOADER_APP_VALIDATION) */
 859:Generated_Source\PSoC5/Bootloader.c **** 
 860:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
 861:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
 862:Generated_Source\PSoC5/Bootloader.c ****             /* Initialize flash subsystem for non-PSoC 4 devices */
 863:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS != CySetTemp())
 864:Generated_Source\PSoC5/Bootloader.c ****             {
 865:Generated_Source\PSoC5/Bootloader.c ****                 CyHalt(0x00u);
 866:Generated_Source\PSoC5/Bootloader.c ****             }
 867:Generated_Source\PSoC5/Bootloader.c **** 
 868:Generated_Source\PSoC5/Bootloader.c ****             #if !defined(CY_BOOT_VERSION)
 869:Generated_Source\PSoC5/Bootloader.c ****                 /* Not required with cy_boot 4.20 */
 870:Generated_Source\PSoC5/Bootloader.c ****                 if (CYRET_SUCCESS != CySetFlashEEBuffer(Bootloader_flashBuffer))
 871:Generated_Source\PSoC5/Bootloader.c ****                 {
 872:Generated_Source\PSoC5/Bootloader.c ****                     CyHalt(0x00u);
 873:Generated_Source\PSoC5/Bootloader.c ****                 }
 874:Generated_Source\PSoC5/Bootloader.c **** 
 875:Generated_Source\PSoC5/Bootloader.c ****                 uint8 CYXDATA Bootloader_flashBuffer[Bootloader_FROW_SIZE];
 876:Generated_Source\PSoC5/Bootloader.c ****             #endif /* !defined(CY_BOOT_VERSION) */
 877:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
 878:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC4) */
 879:Generated_Source\PSoC5/Bootloader.c **** 
 880:Generated_Source\PSoC5/Bootloader.c ****     #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) 
 881:Generated_Source\PSoC5/Bootloader.c ****     #if ((0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4))
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 21


 882:Generated_Source\PSoC5/Bootloader.c ****         /* Checking "need-to-copy" flag in metadata#1. If it is set, then copy operation is require
 883:Generated_Source\PSoC5/Bootloader.c ****         uint8 needToCopyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, 
 884:Generated_Source\PSoC5/Bootloader.c ****                                                         Bootloader_MD_BTLDB_ACTIVE_1);             
 885:Generated_Source\PSoC5/Bootloader.c ****         
 886:Generated_Source\PSoC5/Bootloader.c ****         /* Checking "Need to copy" flag in metadata#1 */
 887:Generated_Source\PSoC5/Bootloader.c ****         if (0u != (needToCopyFlag & Bootloader_NEED_TO_COPY_MASK))
 888:Generated_Source\PSoC5/Bootloader.c ****         {
 889:Generated_Source\PSoC5/Bootloader.c ****             /* Note that this function never returns */
 890:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_Copier();
 891:Generated_Source\PSoC5/Bootloader.c ****         }
 892:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) */
 893:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_COPIER_AVAIL) && (CY_PSOC4)*/
 894:Generated_Source\PSoC5/Bootloader.c ****         
 895:Generated_Source\PSoC5/Bootloader.c ****     /* Identify active Bootloadable/Combination application */
 896:Generated_Source\PSoC5/Bootloader.c ****     #if (0u != Bootloader_DUAL_APP_BOOTLOADER)
 897:Generated_Source\PSoC5/Bootloader.c ****         app0Status = Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_0);
 898:Generated_Source\PSoC5/Bootloader.c ****         app1Status = Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_1);  
 899:Generated_Source\PSoC5/Bootloader.c **** 
 900:Generated_Source\PSoC5/Bootloader.c ****         /* Assumes no active Bootloadable application. Bootloader is active. */
 901:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_NONE;
 902:Generated_Source\PSoC5/Bootloader.c **** 
 903:Generated_Source\PSoC5/Bootloader.c ****         /* Bootloadable app#1 is active */
 904:Generated_Source\PSoC5/Bootloader.c ****         if(Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, Bootloader_MD_BTLDB_ACTIVE_0) == \
 905:Generated_Source\PSoC5/Bootloader.c ****                                                                            Bootloader_MD_BTLDB_IS_A
 906:Generated_Source\PSoC5/Bootloader.c ****         {
 907:Generated_Source\PSoC5/Bootloader.c ****             /**************************************************************************************
 908:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 909:Generated_Source\PSoC5/Bootloader.c ****             * |      |      app#1     |      app#2     |        Classic Dual-app       |     Launch
 910:Generated_Source\PSoC5/Bootloader.c ****             * | Case |---------------------------------|          Bootloader           |           
 911:Generated_Source\PSoC5/Bootloader.c ****             * |      | Active | Valid | Active | Valid |                               |           
 912:Generated_Source\PSoC5/Bootloader.c ****             * |------------------------------------------------------------------------------------
 913:Generated_Source\PSoC5/Bootloader.c ****             * |  9   |    1   |   0   |   0    |   0   | Bootloader                    | Launcher  
 914:Generated_Source\PSoC5/Bootloader.c ****             * |  10  |    1   |   0   |   0    |   1   | app#2, except if auto-app     | app#2     
 915:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | switching is disabled, then   |           
 916:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | stay in Bootloader            |           
 917:Generated_Source\PSoC5/Bootloader.c ****             * |  11  |    1   |   0   |   1    |   0   | Bootloader                    | Launcher  
 918:Generated_Source\PSoC5/Bootloader.c ****             * |  12  |    1   |   0   |   1    |   1   | app#2                         | app#2     
 919:Generated_Source\PSoC5/Bootloader.c ****             * |  13  |    1   |   1   |   0    |   0   | app#1                         | app#1     
 920:Generated_Source\PSoC5/Bootloader.c ****             * |  14  |    1   |   1   |   0    |   1   | app#1                         | app#1     
 921:Generated_Source\PSoC5/Bootloader.c ****             * |  15  |    1   |   1   |   1    |   0   | app#1                         | app#1     
 922:Generated_Source\PSoC5/Bootloader.c ****             * |  16  |    1   |   1   |   1    |   1   | app#1                         | app#1     
 923:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 924:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************************
 925:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS == app0Status)
 926:Generated_Source\PSoC5/Bootloader.c ****             {
 927:Generated_Source\PSoC5/Bootloader.c ****                 /* Cases # 13,  14, 15, and 16 */
 928:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 929:Generated_Source\PSoC5/Bootloader.c ****                 validApp = CYRET_SUCCESS;
 930:Generated_Source\PSoC5/Bootloader.c ****             }
 931:Generated_Source\PSoC5/Bootloader.c ****             else /*Bootloadable app#1 is not valid*/
 932:Generated_Source\PSoC5/Bootloader.c ****             {
 933:Generated_Source\PSoC5/Bootloader.c ****                 #if (((1u == Bootloader_AUTO_SWITCHING_AVAIL) &&  \
 934:Generated_Source\PSoC5/Bootloader.c ****                       (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) || \
 935:Generated_Source\PSoC5/Bootloader.c ****                       (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) 
 936:Generated_Source\PSoC5/Bootloader.c ****                 if (CYRET_SUCCESS == app1Status )
 937:Generated_Source\PSoC5/Bootloader.c ****                 {
 938:Generated_Source\PSoC5/Bootloader.c ****                     /* Cases # 10 and 12 */
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 22


 939:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
 940:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
 941:Generated_Source\PSoC5/Bootloader.c ****                 }
 942:Generated_Source\PSoC5/Bootloader.c ****                 #endif /*((1u == Bootloader_AUTO_SWITCHING_AVAIL) && 
 943:Generated_Source\PSoC5/Bootloader.c ****                           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) || 
 944:Generated_Source\PSoC5/Bootloader.c ****                           (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)*/
 945:Generated_Source\PSoC5/Bootloader.c ****             }
 946:Generated_Source\PSoC5/Bootloader.c ****         }
 947:Generated_Source\PSoC5/Bootloader.c **** 
 948:Generated_Source\PSoC5/Bootloader.c ****         /*  Active Bootloadable application is not identified */
 949:Generated_Source\PSoC5/Bootloader.c ****         if(Bootloader_activeApp == Bootloader_MD_BTLDB_ACTIVE_NONE)
 950:Generated_Source\PSoC5/Bootloader.c ****         {
 951:Generated_Source\PSoC5/Bootloader.c ****             /**************************************************************************************
 952:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 953:Generated_Source\PSoC5/Bootloader.c ****             * |      |       app#1    |       app#2    |        Classic Dual-app       |     Launch
 954:Generated_Source\PSoC5/Bootloader.c ****             * | Case |---------------------------------|          Bootloader           |           
 955:Generated_Source\PSoC5/Bootloader.c ****             * |      | Active | Valid | Active | Valid |                               |           
 956:Generated_Source\PSoC5/Bootloader.c ****             * |------|-----------------------------------------------------------------------------
 957:Generated_Source\PSoC5/Bootloader.c ****             * |  1   |    0   |   0   |   0    |   0   | Bootloader                    | Launcher  
 958:Generated_Source\PSoC5/Bootloader.c ****             * |  2   |    0   |   0   |   0    |   1   | Bootloader                    | app#2     
 959:Generated_Source\PSoC5/Bootloader.c ****             * |  3   |    0   |   0   |   1    |   0   | Bootloader                    | Launcher  
 960:Generated_Source\PSoC5/Bootloader.c ****             * |  4   |    0   |   0   |   1    |   1   | app#2                         | app#2     
 961:Generated_Source\PSoC5/Bootloader.c ****             * |  5   |    0   |   1   |   0    |   0   | Bootloader                    | app#1     
 962:Generated_Source\PSoC5/Bootloader.c ****             * |  6   |    0   |   1   |   0    |   1   | Bootloader                    | app#1     
 963:Generated_Source\PSoC5/Bootloader.c ****             * |  7   |    0   |   1   |   1    |   0   | app#1, except if auto-app     | app#1     
 964:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | switching is disabled, then   |           
 965:Generated_Source\PSoC5/Bootloader.c ****             * |      |        |       |        |       | stay in Bootloader            |           
 966:Generated_Source\PSoC5/Bootloader.c ****             * |  8   |    0   |   1   |   1    |   1   | app#2                         | app#2     
 967:Generated_Source\PSoC5/Bootloader.c ****             * -------------------------------------------------------------------------------------
 968:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************************
 969:Generated_Source\PSoC5/Bootloader.c ****             if (Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, 1u) ==
 970:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_MD_BTLDB_IS_ACTIVE)
 971:Generated_Source\PSoC5/Bootloader.c ****             {
 972:Generated_Source\PSoC5/Bootloader.c ****                 /* Cases # 3, 4, 7, and 8 */
 973:Generated_Source\PSoC5/Bootloader.c ****                 if (CYRET_SUCCESS == app1Status)
 974:Generated_Source\PSoC5/Bootloader.c ****                 {
 975:Generated_Source\PSoC5/Bootloader.c ****                     /* Cases # 4 and 8 */
 976:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
 977:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
 978:Generated_Source\PSoC5/Bootloader.c ****                 }
 979:Generated_Source\PSoC5/Bootloader.c ****                 else
 980:Generated_Source\PSoC5/Bootloader.c ****                 {
 981:Generated_Source\PSoC5/Bootloader.c ****                  #if (((1u == Bootloader_AUTO_SWITCHING_AVAIL) && \
 982:Generated_Source\PSoC5/Bootloader.c ****                        (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) \
 983:Generated_Source\PSoC5/Bootloader.c ****                     || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER)) 
 984:Generated_Source\PSoC5/Bootloader.c ****                     if (CYRET_SUCCESS == app0Status)
 985:Generated_Source\PSoC5/Bootloader.c ****                     {
 986:Generated_Source\PSoC5/Bootloader.c ****                         /* Cases # 7 */
 987:Generated_Source\PSoC5/Bootloader.c ****                         Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
 988:Generated_Source\PSoC5/Bootloader.c ****                         validApp = CYRET_SUCCESS;
 989:Generated_Source\PSoC5/Bootloader.c ****                     }
 990:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*(((1u == Bootloader_AUTO_SWITCHING_AVAIL) && \
 991:Generated_Source\PSoC5/Bootloader.c ****                                (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)) \
 992:Generated_Source\PSoC5/Bootloader.c ****                             || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER))*/
 993:Generated_Source\PSoC5/Bootloader.c ****                 }
 994:Generated_Source\PSoC5/Bootloader.c ****             }
 995:Generated_Source\PSoC5/Bootloader.c ****         }
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 23


 996:Generated_Source\PSoC5/Bootloader.c ****         
 997:Generated_Source\PSoC5/Bootloader.c ****         #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER) 
 998:Generated_Source\PSoC5/Bootloader.c ****             /*None of applications is active*/
 999:Generated_Source\PSoC5/Bootloader.c ****             if (Bootloader_MD_BTLDB_ACTIVE_NONE ==Bootloader_activeApp)
1000:Generated_Source\PSoC5/Bootloader.c ****             {
1001:Generated_Source\PSoC5/Bootloader.c ****                 /*case#5, case#6: pass control to Bootloadable app#1*/
1002:Generated_Source\PSoC5/Bootloader.c ****                 if(CYRET_SUCCESS == app0Status)
1003:Generated_Source\PSoC5/Bootloader.c ****                 {
1004:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_0;
1005:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
1006:Generated_Source\PSoC5/Bootloader.c ****                 }
1007:Generated_Source\PSoC5/Bootloader.c ****                 /*case#2: pass control to Bootloadable app#2*/
1008:Generated_Source\PSoC5/Bootloader.c ****                 else if (CYRET_SUCCESS == app1Status)
1009:Generated_Source\PSoC5/Bootloader.c ****                 {
1010:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_activeApp = Bootloader_MD_BTLDB_ACTIVE_1;
1011:Generated_Source\PSoC5/Bootloader.c ****                     validApp = CYRET_SUCCESS;
1012:Generated_Source\PSoC5/Bootloader.c ****                 }
1013:Generated_Source\PSoC5/Bootloader.c ****                 else
1014:Generated_Source\PSoC5/Bootloader.c ****                 {
1015:Generated_Source\PSoC5/Bootloader.c ****                     /* case#1, case#3, case#9, case#11: very bad situation, no valid application */
1016:Generated_Source\PSoC5/Bootloader.c ****                     /* Do nothing, stay in Bootloader/Launcher */
1017:Generated_Source\PSoC5/Bootloader.c ****                 }
1018:Generated_Source\PSoC5/Bootloader.c ****             }
1019:Generated_Source\PSoC5/Bootloader.c **** 
1020:Generated_Source\PSoC5/Bootloader.c **** 
1021:Generated_Source\PSoC5/Bootloader.c ****              /*********************************************************************************
1022:Generated_Source\PSoC5/Bootloader.c ****             * The next logic is an invalidation of the non-active application in the metadata
1023:Generated_Source\PSoC5/Bootloader.c ****             * section, because there could be a situation due to some error, when both  
1024:Generated_Source\PSoC5/Bootloader.c ****             * applications are set active (cases #12,15,16). Only one application can be active.
1025:Generated_Source\PSoC5/Bootloader.c ****             * This logic also stores the active application number in the metadata section.        
1026:Generated_Source\PSoC5/Bootloader.c ****             *********************************************************************************/
1027:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS == validApp)
1028:Generated_Source\PSoC5/Bootloader.c ****             {
1029:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_SetActiveAppInMetadata(Bootloader_activeApp);      
1030:Generated_Source\PSoC5/Bootloader.c ****             }
1031:Generated_Source\PSoC5/Bootloader.c ****         #endif /* CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LAUNCHER */
1032:Generated_Source\PSoC5/Bootloader.c ****     #else /*SINGLE_APP BOOTLOADER*/
1033:Generated_Source\PSoC5/Bootloader.c ****         if (CYRET_SUCCESS == Bootloader_ValidateBootloadable(Bootloader_MD_BTLDB_ACTIVE_0))
 258              		.loc 1 1033 0
 259 000a 0020     		movs	r0, #0
 260 000c FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 261 0010 0346     		mov	r3, r0
 262 0012 002B     		cmp	r3, #0
 263 0014 01D1     		bne	.L16
1034:Generated_Source\PSoC5/Bootloader.c ****         {
1035:Generated_Source\PSoC5/Bootloader.c ****             validApp = CYRET_SUCCESS;
 264              		.loc 1 1035 0
 265 0016 0023     		movs	r3, #0
 266 0018 7B60     		str	r3, [r7, #4]
 267              	.L16:
1036:Generated_Source\PSoC5/Bootloader.c ****         }
1037:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
1038:Generated_Source\PSoC5/Bootloader.c **** 
1039:Generated_Source\PSoC5/Bootloader.c ****     
1040:Generated_Source\PSoC5/Bootloader.c ****     /***********************************************************************
1041:Generated_Source\PSoC5/Bootloader.c ****     * Bootloader Application Validation
1042:Generated_Source\PSoC5/Bootloader.c ****     *
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 24


1043:Generated_Source\PSoC5/Bootloader.c ****     * Halt the device if:
1044:Generated_Source\PSoC5/Bootloader.c ****     *  - A calculated checksum does not match the one stored in the metadata
1045:Generated_Source\PSoC5/Bootloader.c ****     *     section.
1046:Generated_Source\PSoC5/Bootloader.c ****     *  - There is an invalid pointer to the place where the Bootloader
1047:Generated_Source\PSoC5/Bootloader.c ****     *    application ends.
1048:Generated_Source\PSoC5/Bootloader.c ****     *  - The flash subsystem was not initialized correctly.
1049:Generated_Source\PSoC5/Bootloader.c ****     ***********************************************************************/
1050:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_BOOTLOADER_APP_VALIDATION)
1051:Generated_Source\PSoC5/Bootloader.c **** 
1052:Generated_Source\PSoC5/Bootloader.c ****         /* Calculate Bootloader application checksum */
1053:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum = Bootloader_Calc8BitSum(CY_FLASH_BASE,
 268              		.loc 1 1053 0
 269 001a 1B4B     		ldr	r3, .L21
 270 001c 1B68     		ldr	r3, [r3]
 271 001e 1B68     		ldr	r3, [r3]
 272 0020 1A46     		mov	r2, r3
 273 0022 0021     		movs	r1, #0
 274 0024 0020     		movs	r0, #0
 275 0026 FFF7FEFF 		bl	Bootloader_Calc8BitSum
 276 002a 0346     		mov	r3, r0
 277 002c FB70     		strb	r3, [r7, #3]
1054:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_MD_BTLDR_ADDR_PTR,
1055:Generated_Source\PSoC5/Bootloader.c ****                 *Bootloader_SizeBytesAccess - Bootloader_MD_BTLDR_ADDR_PTR);
1056:Generated_Source\PSoC5/Bootloader.c **** 
1057:Generated_Source\PSoC5/Bootloader.c ****         /* We included checksum, so remove it */
1058:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum -= *Bootloader_ChecksumAccess;
 278              		.loc 1 1058 0
 279 002e 174B     		ldr	r3, .L21+4
 280 0030 1B68     		ldr	r3, [r3]
 281 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 282 0034 FA78     		ldrb	r2, [r7, #3]
 283 0036 D31A     		subs	r3, r2, r3
 284 0038 FB70     		strb	r3, [r7, #3]
1059:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum = ( uint8 )1u + ( uint8 )(~calcedChecksum);
 285              		.loc 1 1059 0
 286 003a FB78     		ldrb	r3, [r7, #3]
 287 003c 5B42     		negs	r3, r3
 288 003e FB70     		strb	r3, [r7, #3]
1060:Generated_Source\PSoC5/Bootloader.c **** 
1061:Generated_Source\PSoC5/Bootloader.c ****         /* Checksum and pointer to Bootloader verification */
1062:Generated_Source\PSoC5/Bootloader.c ****         if((calcedChecksum != *Bootloader_ChecksumAccess) ||
 289              		.loc 1 1062 0
 290 0040 124B     		ldr	r3, .L21+4
 291 0042 1B68     		ldr	r3, [r3]
 292 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 293 0046 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 294 0048 9A42     		cmp	r2, r3
 295 004a 04D1     		bne	.L17
1063:Generated_Source\PSoC5/Bootloader.c ****            (0u == *Bootloader_SizeBytesAccess))
 296              		.loc 1 1063 0 discriminator 1
 297 004c 0E4B     		ldr	r3, .L21
 298 004e 1B68     		ldr	r3, [r3]
 299 0050 1B68     		ldr	r3, [r3]
1062:Generated_Source\PSoC5/Bootloader.c ****            (0u == *Bootloader_SizeBytesAccess))
 300              		.loc 1 1062 0 discriminator 1
 301 0052 002B     		cmp	r3, #0
 302 0054 02D1     		bne	.L18
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 25


 303              	.L17:
1064:Generated_Source\PSoC5/Bootloader.c ****         {
1065:Generated_Source\PSoC5/Bootloader.c ****             /***********************************************************************
1066:Generated_Source\PSoC5/Bootloader.c ****             * If the Bootloader/Launcher application calculated checksum does not match
1067:Generated_Source\PSoC5/Bootloader.c ****             * the checksum stored in special Bootloader_Checksum constant 
1068:Generated_Source\PSoC5/Bootloader.c ****             * (accessed through Bootloader_ChecksumAccess) constant or its size 
1069:Generated_Source\PSoC5/Bootloader.c ****             * stored in Bootloader_SizeBytes constant (accessed through
1070:Generated_Source\PSoC5/Bootloader.c ****             * Bootloader_SizeBytesAccess) then CPU is halted, all software 
1071:Generated_Source\PSoC5/Bootloader.c ****             * processing stops. 
1072:Generated_Source\PSoC5/Bootloader.c ****             ***********************************************************************/
1073:Generated_Source\PSoC5/Bootloader.c ****             CyHalt(0x00u);
 304              		.loc 1 1073 0
 305 0056 0020     		movs	r0, #0
 306 0058 FFF7FEFF 		bl	CyHalt
 307              	.L18:
1074:Generated_Source\PSoC5/Bootloader.c ****         }
1075:Generated_Source\PSoC5/Bootloader.c **** 
1076:Generated_Source\PSoC5/Bootloader.c ****     #endif /* 0u != Bootloader_BOOTLOADER_APP_VALIDATION */
1077:Generated_Source\PSoC5/Bootloader.c **** #endif /* CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/ 
1078:Generated_Source\PSoC5/Bootloader.c **** 
1079:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)    
1080:Generated_Source\PSoC5/Bootloader.c ****     /***********************************************************************
1081:Generated_Source\PSoC5/Bootloader.c ****     * If the active Bootloadable application is invalid or scheduled - do the following:
1082:Generated_Source\PSoC5/Bootloader.c ****     *  - schedule the Bootloader application to be run after a software reset;
1083:Generated_Source\PSoC5/Bootloader.c ****     *  - go to the communication subroutine. The HostLink() will wait for
1084:Generated_Source\PSoC5/Bootloader.c ****     *    commands forever.
1085:Generated_Source\PSoC5/Bootloader.c ****     ***********************************************************************/
1086:Generated_Source\PSoC5/Bootloader.c ****     if ((Bootloader_GET_RUN_TYPE == Bootloader_SCHEDULE_BTLDR) 
 308              		.loc 1 1086 0
 309 005c 0C4B     		ldr	r3, .L21+8
 310 005e 1B78     		ldrb	r3, [r3]
 311 0060 DBB2     		uxtb	r3, r3
 312 0062 03F0C003 		and	r3, r3, #192
 313 0066 402B     		cmp	r3, #64
 314 0068 02D0     		beq	.L19
1087:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)        
1088:Generated_Source\PSoC5/Bootloader.c ****         || (CYRET_SUCCESS != validApp)
 315              		.loc 1 1088 0
 316 006a 7B68     		ldr	r3, [r7, #4]
 317 006c 002B     		cmp	r3, #0
 318 006e 05D0     		beq	.L20
 319              	.L19:
1089:Generated_Source\PSoC5/Bootloader.c **** #endif        
1090:Generated_Source\PSoC5/Bootloader.c ****         )
1091:Generated_Source\PSoC5/Bootloader.c ****     {
1092:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 320              		.loc 1 1092 0
 321 0070 074B     		ldr	r3, .L21+8
 322 0072 0022     		movs	r2, #0
 323 0074 1A70     		strb	r2, [r3]
1093:Generated_Source\PSoC5/Bootloader.c **** 
1094:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_HostLink(Bootloader_WAIT_FOR_COMMAND_FOREVER);
 324              		.loc 1 1094 0
 325 0076 0020     		movs	r0, #0
 326 0078 FFF7FEFF 		bl	Bootloader_HostLink
 327              	.L20:
1095:Generated_Source\PSoC5/Bootloader.c ****     }
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 26


1096:Generated_Source\PSoC5/Bootloader.c **** 
1097:Generated_Source\PSoC5/Bootloader.c ****     /* Go to communication subroutine. Will wait for commands for specified time */
1098:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_WAIT_FOR_COMMAND)
1099:Generated_Source\PSoC5/Bootloader.c **** 
1100:Generated_Source\PSoC5/Bootloader.c ****         /* Timeout is in 100s of milliseconds */
1101:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_HostLink(Bootloader_WAIT_FOR_COMMAND_TIME);
1102:Generated_Source\PSoC5/Bootloader.c **** 
1103:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_WAIT_FOR_COMMAND) */
1104:Generated_Source\PSoC5/Bootloader.c **** #else /* Launcher */
1105:Generated_Source\PSoC5/Bootloader.c ****     /* If none Bootloadable application is valid */
1106:Generated_Source\PSoC5/Bootloader.c ****     if (CYRET_SUCCESS != validApp)
1107:Generated_Source\PSoC5/Bootloader.c ****     {   
1108:Generated_Source\PSoC5/Bootloader.c ****         CyHalt(0x00u);
1109:Generated_Source\PSoC5/Bootloader.c ****     }         
1110:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER*/    
1111:Generated_Source\PSoC5/Bootloader.c **** 
1112:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)             
1113:Generated_Source\PSoC5/Bootloader.c ****     /* Schedule Bootloadable application and perform software reset */
1114:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_LaunchApplication();
 328              		.loc 1 1114 0
 329 007c FFF7FEFF 		bl	Bootloader_LaunchApplication
1115:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
1116:Generated_Source\PSoC5/Bootloader.c **** }
 330              		.loc 1 1116 0
 331 0080 00BF     		nop
 332 0082 0837     		adds	r7, r7, #8
 333              		.cfi_def_cfa_offset 8
 334 0084 BD46     		mov	sp, r7
 335              		.cfi_def_cfa_register 13
 336              		@ sp needed
 337 0086 80BD     		pop	{r7, pc}
 338              	.L22:
 339              		.align	2
 340              	.L21:
 341 0088 00000000 		.word	Bootloader_SizeBytesAccess
 342 008c 00000000 		.word	Bootloader_ChecksumAccess
 343 0090 FA460040 		.word	1073759994
 344              		.cfi_endproc
 345              	.LFE66:
 346              		.size	Bootloader_Start, .-Bootloader_Start
 347              		.section	.text.Bootloader_LaunchApplication,"ax",%progbits
 348              		.align	2
 349              		.thumb
 350              		.thumb_func
 351              		.type	Bootloader_LaunchApplication, %function
 352              	Bootloader_LaunchApplication:
 353              	.LFB67:
1117:Generated_Source\PSoC5/Bootloader.c **** 
1118:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1119:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1120:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_LaunchApplication
1121:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1122:Generated_Source\PSoC5/Bootloader.c **** * \internal
1123:Generated_Source\PSoC5/Bootloader.c **** *
1124:Generated_Source\PSoC5/Bootloader.c **** * \brief
1125:Generated_Source\PSoC5/Bootloader.c **** *  Schedules the Bootloadable application and resets the device.
1126:Generated_Source\PSoC5/Bootloader.c **** *
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 27


1127:Generated_Source\PSoC5/Bootloader.c **** * \return
1128:Generated_Source\PSoC5/Bootloader.c **** *  This method will never return.
1129:Generated_Source\PSoC5/Bootloader.c **** *
1130:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
1131:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1132:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_LaunchApplication(void) CYSMALL \
1133:Generated_Source\PSoC5/Bootloader.c ****                     
1134:Generated_Source\PSoC5/Bootloader.c **** {
 354              		.loc 1 1134 0
 355              		.cfi_startproc
 356              		@ args = 0, pretend = 0, frame = 0
 357              		@ frame_needed = 1, uses_anonymous_args = 0
 358 0000 80B5     		push	{r7, lr}
 359              		.cfi_def_cfa_offset 8
 360              		.cfi_offset 7, -8
 361              		.cfi_offset 14, -4
 362 0002 00AF     		add	r7, sp, #0
 363              		.cfi_def_cfa_register 7
1135:Generated_Source\PSoC5/Bootloader.c ****     /* Schedule Bootloadable to start after a reset */
1136:Generated_Source\PSoC5/Bootloader.c ****     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 364              		.loc 1 1136 0
 365 0004 034B     		ldr	r3, .L24
 366 0006 8022     		movs	r2, #128
 367 0008 1A70     		strb	r2, [r3]
1137:Generated_Source\PSoC5/Bootloader.c **** 
1138:Generated_Source\PSoC5/Bootloader.c ****     CySoftwareReset();
 368              		.loc 1 1138 0
 369 000a FFF7FEFF 		bl	CySoftwareReset
1139:Generated_Source\PSoC5/Bootloader.c **** }
 370              		.loc 1 1139 0
 371 000e 00BF     		nop
 372 0010 80BD     		pop	{r7, pc}
 373              	.L25:
 374 0012 00BF     		.align	2
 375              	.L24:
 376 0014 FA460040 		.word	1073759994
 377              		.cfi_endproc
 378              	.LFE67:
 379              		.size	Bootloader_LaunchApplication, .-Bootloader_LaunchApplication
 380              		.section	.text.Bootloader_Exit,"ax",%progbits
 381              		.align	2
 382              		.global	Bootloader_Exit
 383              		.thumb
 384              		.thumb_func
 385              		.type	Bootloader_Exit, %function
 386              	Bootloader_Exit:
 387              	.LFB68:
1140:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1141:Generated_Source\PSoC5/Bootloader.c **** 
1142:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1143:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_Exit
1144:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1145:Generated_Source\PSoC5/Bootloader.c **** *
1146:Generated_Source\PSoC5/Bootloader.c **** *\brief
1147:Generated_Source\PSoC5/Bootloader.c **** *  Schedules the specified application and performs a software reset to launch
1148:Generated_Source\PSoC5/Bootloader.c **** *  a specified application.
1149:Generated_Source\PSoC5/Bootloader.c **** *
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 28


1150:Generated_Source\PSoC5/Bootloader.c **** *  If the specified application is not valid, the Bootloader (the result of the
1151:Generated_Source\PSoC5/Bootloader.c **** *  ValidateBootloadable() function execution returns other than CYRET_SUCCESS,
1152:Generated_Source\PSoC5/Bootloader.c **** *  the Bootloader application is launched.
1153:Generated_Source\PSoC5/Bootloader.c **** *
1154:Generated_Source\PSoC5/Bootloader.c **** * \param appId 
1155:Generated_Source\PSoC5/Bootloader.c **** *   The application to be started:
1156:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDR - The Bootloader application will be started on
1157:Generated_Source\PSoC5/Bootloader.c **** *                                     a software reset.
1158:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB;
1159:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB_1 - Bootloadable application # 1 will be
1160:Generated_Source\PSoC5/Bootloader.c **** *                                     started on a software reset.
1161:Generated_Source\PSoC5/Bootloader.c **** *   - Bootloader_EXIT_TO_BTLDB_2 - Bootloadable application # 2 will be
1162:Generated_Source\PSoC5/Bootloader.c **** *                                     started on a software reset. Available only
1163:Generated_Source\PSoC5/Bootloader.c **** *                                     if the "Dual-application" option is enabled in
1164:Generated_Source\PSoC5/Bootloader.c **** *                                     the component customizer.
1165:Generated_Source\PSoC5/Bootloader.c **** * \return
1166:Generated_Source\PSoC5/Bootloader.c **** *  This function never returns.
1167:Generated_Source\PSoC5/Bootloader.c **** *
1168:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1169:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_Exit(uint8 appId) CYSMALL 
1170:Generated_Source\PSoC5/Bootloader.c **** {
 388              		.loc 1 1170 0
 389              		.cfi_startproc
 390              		@ args = 0, pretend = 0, frame = 16
 391              		@ frame_needed = 1, uses_anonymous_args = 0
 392 0000 80B5     		push	{r7, lr}
 393              		.cfi_def_cfa_offset 8
 394              		.cfi_offset 7, -8
 395              		.cfi_offset 14, -4
 396 0002 84B0     		sub	sp, sp, #16
 397              		.cfi_def_cfa_offset 24
 398 0004 00AF     		add	r7, sp, #0
 399              		.cfi_def_cfa_register 7
 400 0006 0346     		mov	r3, r0
 401 0008 FB71     		strb	r3, [r7, #7]
1171:Generated_Source\PSoC5/Bootloader.c ****     if(Bootloader_EXIT_TO_BTLDR == appId)
 402              		.loc 1 1171 0
 403 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 404 000c 022B     		cmp	r3, #2
 405 000e 03D1     		bne	.L27
1172:Generated_Source\PSoC5/Bootloader.c ****     {
1173:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 406              		.loc 1 1173 0
 407 0010 1A4B     		ldr	r3, .L32
 408 0012 0022     		movs	r2, #0
 409 0014 1A70     		strb	r2, [r3]
 410 0016 2AE0     		b	.L28
 411              	.L27:
1174:Generated_Source\PSoC5/Bootloader.c ****     }
1175:Generated_Source\PSoC5/Bootloader.c ****     else
1176:Generated_Source\PSoC5/Bootloader.c ****     {
1177:Generated_Source\PSoC5/Bootloader.c ****         if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(appId))
 412              		.loc 1 1177 0
 413 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 414 001a 1846     		mov	r0, r3
 415 001c FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 416 0020 0346     		mov	r3, r0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 29


 417 0022 002B     		cmp	r3, #0
 418 0024 20D1     		bne	.L29
 419              	.LBB2:
1178:Generated_Source\PSoC5/Bootloader.c ****         {
1179:Generated_Source\PSoC5/Bootloader.c ****             /* Set active application in metadata */
1180:Generated_Source\PSoC5/Bootloader.c ****             uint8 CYDATA idx;
1181:Generated_Source\PSoC5/Bootloader.c ****             for(idx = 0u; idx < Bootloader_MAX_NUM_OF_BTLDB; idx++)
 420              		.loc 1 1181 0
 421 0026 0023     		movs	r3, #0
 422 0028 FB73     		strb	r3, [r7, #15]
 423 002a 16E0     		b	.L30
 424              	.L31:
1182:Generated_Source\PSoC5/Bootloader.c ****             {
1183:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_ACTIVE_OFFSET(idx),
 425              		.loc 1 1183 0 discriminator 3
 426 002c FA7B     		ldrb	r2, [r7, #15]	@ zero_extendqisi2
 427 002e 1346     		mov	r3, r2
 428 0030 1B06     		lsls	r3, r3, #24
 429 0032 9B1A     		subs	r3, r3, r2
 430 0034 1B02     		lsls	r3, r3, #8
 431 0036 03F57F33 		add	r3, r3, #261120
 432 003a 03F57473 		add	r3, r3, #976
 433 003e F97B     		ldrb	r1, [r7, #15]	@ zero_extendqisi2
 434 0040 FA79     		ldrb	r2, [r7, #7]	@ zero_extendqisi2
 435 0042 9142     		cmp	r1, r2
 436 0044 0CBF     		ite	eq
 437 0046 0122     		moveq	r2, #1
 438 0048 0022     		movne	r2, #0
 439 004a D2B2     		uxtb	r2, r2
 440 004c 1146     		mov	r1, r2
 441 004e 1846     		mov	r0, r3
 442 0050 FFF7FEFF 		bl	Bootloader_SetFlashByte
1181:Generated_Source\PSoC5/Bootloader.c ****             {
 443              		.loc 1 1181 0 discriminator 3
 444 0054 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 445 0056 0133     		adds	r3, r3, #1
 446 0058 FB73     		strb	r3, [r7, #15]
 447              	.L30:
1181:Generated_Source\PSoC5/Bootloader.c ****             {
 448              		.loc 1 1181 0 is_stmt 0 discriminator 1
 449 005a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 450 005c 002B     		cmp	r3, #0
 451 005e E5D0     		beq	.L31
1184:Generated_Source\PSoC5/Bootloader.c ****                                               (uint8 )(idx == appId));
1185:Generated_Source\PSoC5/Bootloader.c ****             }
1186:Generated_Source\PSoC5/Bootloader.c **** 
1187:Generated_Source\PSoC5/Bootloader.c ****         #if((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
1188:Generated_Source\PSoC5/Bootloader.c ****             (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
1189:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_activeApp = appId;
1190:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || 
1191:Generated_Source\PSoC5/Bootloader.c ****                   (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))*/
1192:Generated_Source\PSoC5/Bootloader.c **** 
1193:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 452              		.loc 1 1193 0 is_stmt 1
 453 0060 064B     		ldr	r3, .L32
 454 0062 8022     		movs	r2, #128
 455 0064 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 30


 456              	.LBE2:
 457 0066 02E0     		b	.L28
 458              	.L29:
1194:Generated_Source\PSoC5/Bootloader.c ****         }
1195:Generated_Source\PSoC5/Bootloader.c ****         else
1196:Generated_Source\PSoC5/Bootloader.c ****         {
1197:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 459              		.loc 1 1197 0
 460 0068 044B     		ldr	r3, .L32
 461 006a 0022     		movs	r2, #0
 462 006c 1A70     		strb	r2, [r3]
 463              	.L28:
1198:Generated_Source\PSoC5/Bootloader.c ****         }
1199:Generated_Source\PSoC5/Bootloader.c ****     }
1200:Generated_Source\PSoC5/Bootloader.c **** 
1201:Generated_Source\PSoC5/Bootloader.c ****     CySoftwareReset();
 464              		.loc 1 1201 0
 465 006e FFF7FEFF 		bl	CySoftwareReset
1202:Generated_Source\PSoC5/Bootloader.c **** }
 466              		.loc 1 1202 0
 467 0072 00BF     		nop
 468 0074 1037     		adds	r7, r7, #16
 469              		.cfi_def_cfa_offset 8
 470 0076 BD46     		mov	sp, r7
 471              		.cfi_def_cfa_register 13
 472              		@ sp needed
 473 0078 80BD     		pop	{r7, pc}
 474              	.L33:
 475 007a 00BF     		.align	2
 476              	.L32:
 477 007c FA460040 		.word	1073759994
 478              		.cfi_endproc
 479              	.LFE68:
 480              		.size	Bootloader_Exit, .-Bootloader_Exit
 481              		.section	.text.CyBtldr_CheckLaunch,"ax",%progbits
 482              		.align	2
 483              		.global	CyBtldr_CheckLaunch
 484              		.thumb
 485              		.thumb_func
 486              		.type	CyBtldr_CheckLaunch, %function
 487              	CyBtldr_CheckLaunch:
 488              	.LFB69:
1203:Generated_Source\PSoC5/Bootloader.c **** 
1204:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1205:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1206:Generated_Source\PSoC5/Bootloader.c **** * Function Name: CyBtldr_CheckLaunch
1207:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1208:Generated_Source\PSoC5/Bootloader.c **** * \internal
1209:Generated_Source\PSoC5/Bootloader.c **** *
1210:Generated_Source\PSoC5/Bootloader.c **** * \brief
1211:Generated_Source\PSoC5/Bootloader.c **** *  This routine checks if the Bootloader or Bootloadable application has to
1212:Generated_Source\PSoC5/Bootloader.c **** *  be run.  If the application has to be run, it will start executing.
1213:Generated_Source\PSoC5/Bootloader.c **** *  If the Bootloader has to be run, it will return, so the Bootloader can
1214:Generated_Source\PSoC5/Bootloader.c **** *  continue starting up.
1215:Generated_Source\PSoC5/Bootloader.c **** *
1216:Generated_Source\PSoC5/Bootloader.c **** * \return
1217:Generated_Source\PSoC5/Bootloader.c **** *  It will not return if it determines that the Bootloadable application should
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 31


1218:Generated_Source\PSoC5/Bootloader.c **** *  be run.
1219:Generated_Source\PSoC5/Bootloader.c **** *
1220:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
1221:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1222:Generated_Source\PSoC5/Bootloader.c **** void CyBtldr_CheckLaunch(void) CYSMALL 
1223:Generated_Source\PSoC5/Bootloader.c **** {
 489              		.loc 1 1223 0
 490              		.cfi_startproc
 491              		@ args = 0, pretend = 0, frame = 8
 492              		@ frame_needed = 1, uses_anonymous_args = 0
 493 0000 80B5     		push	{r7, lr}
 494              		.cfi_def_cfa_offset 8
 495              		.cfi_offset 7, -8
 496              		.cfi_offset 14, -4
 497 0002 82B0     		sub	sp, sp, #8
 498              		.cfi_def_cfa_offset 16
 499 0004 00AF     		add	r7, sp, #0
 500              		.cfi_def_cfa_register 7
1224:Generated_Source\PSoC5/Bootloader.c **** 
1225:Generated_Source\PSoC5/Bootloader.c **** #if(CY_PSOC4)
1226:Generated_Source\PSoC5/Bootloader.c **** 
1227:Generated_Source\PSoC5/Bootloader.c ****     /*******************************************************************************
1228:Generated_Source\PSoC5/Bootloader.c ****     * Set cyBtldrRunType to zero in the case of a non-software reset. This means
1229:Generated_Source\PSoC5/Bootloader.c ****     * that the Bootloader application is scheduled - the initial clean state. The
1230:Generated_Source\PSoC5/Bootloader.c ****     * value of cyBtldrRunType is valid only in the case of a software reset.
1231:Generated_Source\PSoC5/Bootloader.c ****     *******************************************************************************/
1232:Generated_Source\PSoC5/Bootloader.c ****     if (0u == (Bootloader_RES_CAUSE_REG & Bootloader_RES_CAUSE_RESET_SOFT))
1233:Generated_Source\PSoC5/Bootloader.c ****     {
1234:Generated_Source\PSoC5/Bootloader.c ****         cyBtldrRunType = Bootloader_SCHEDULE_BTLDR_INIT_STATE;
1235:Generated_Source\PSoC5/Bootloader.c ****     }
1236:Generated_Source\PSoC5/Bootloader.c **** 
1237:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CY_PSOC4) */
1238:Generated_Source\PSoC5/Bootloader.c **** 
1239:Generated_Source\PSoC5/Bootloader.c **** 
1240:Generated_Source\PSoC5/Bootloader.c ****     if (Bootloader_GET_RUN_TYPE == Bootloader_SCHEDULE_BTLDB)
 501              		.loc 1 1240 0
 502 0006 104B     		ldr	r3, .L37
 503 0008 1B78     		ldrb	r3, [r3]
 504 000a DBB2     		uxtb	r3, r3
 505 000c 03F0C003 		and	r3, r3, #192
 506 0010 802B     		cmp	r3, #128
 507 0012 15D1     		bne	.L36
 508              	.LBB3:
1241:Generated_Source\PSoC5/Bootloader.c ****     {
1242:Generated_Source\PSoC5/Bootloader.c **** 
1243:Generated_Source\PSoC5/Bootloader.c **** 
1244:Generated_Source\PSoC5/Bootloader.c ****     #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
1245:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************* 
1246:Generated_Source\PSoC5/Bootloader.c ****         * Classic Single-app or Dual-app Bootloader use cases.
1247:Generated_Source\PSoC5/Bootloader.c ****         * The active application number is taken from Bootloader_activeApp not
1248:Generated_Source\PSoC5/Bootloader.c ****         * to break backward compatibility.
1249:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1250:Generated_Source\PSoC5/Bootloader.c ****         uint8 activeApp = Bootloader_activeApp;
 509              		.loc 1 1250 0
 510 0014 0023     		movs	r3, #0
 511 0016 FB71     		strb	r3, [r7, #7]
1251:Generated_Source\PSoC5/Bootloader.c ****         
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 32


1252:Generated_Source\PSoC5/Bootloader.c ****         
1253:Generated_Source\PSoC5/Bootloader.c ****         /******************************************************************************* 
1254:Generated_Source\PSoC5/Bootloader.c ****         * Classic Dual-app Bootloader with 2 Combination projects use case.
1255:Generated_Source\PSoC5/Bootloader.c ****         * In this use case Classic Dual-app Bootloader is not the only one, who switches
1256:Generated_Source\PSoC5/Bootloader.c ****         * between applications. So if there is no valid value for Bootloader_activeApp,
1257:Generated_Source\PSoC5/Bootloader.c ****         * then we should additionally check the metadata if one of the Combination application
1258:Generated_Source\PSoC5/Bootloader.c ****         * has set a value there.
1259:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/ 
1260:Generated_Source\PSoC5/Bootloader.c ****         #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)
1261:Generated_Source\PSoC5/Bootloader.c ****         if (activeApp >= Bootloader_MD_BTLDB_ACTIVE_NONE) 
1262:Generated_Source\PSoC5/Bootloader.c ****         {
1263:Generated_Source\PSoC5/Bootloader.c ****             activeApp = Bootloader_GetActiveAppFromMetadata();
1264:Generated_Source\PSoC5/Bootloader.c ****         }
1265:Generated_Source\PSoC5/Bootloader.c ****         #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_MULTIAPPBOOTLOADER)*/ 
1266:Generated_Source\PSoC5/Bootloader.c ****     #else 
1267:Generated_Source\PSoC5/Bootloader.c ****         /* Launcher use case.  The active application number is taken from metadata. */
1268:Generated_Source\PSoC5/Bootloader.c ****         uint8 activeApp = Bootloader_GetActiveAppFromMetadata(); 
1269:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER) */
1270:Generated_Source\PSoC5/Bootloader.c ****         
1271:Generated_Source\PSoC5/Bootloader.c ****         Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR_INIT_STATE);
 512              		.loc 1 1271 0
 513 0018 0B4B     		ldr	r3, .L37
 514 001a 0022     		movs	r2, #0
 515 001c 1A70     		strb	r2, [r3]
1272:Generated_Source\PSoC5/Bootloader.c **** 
1273:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1274:Generated_Source\PSoC5/Bootloader.c ****         * Indicates that we have told ourselves to jump to the application because we have
1275:Generated_Source\PSoC5/Bootloader.c ****         * already told ourselves to jump, we do not do any expensive verification of the
1276:Generated_Source\PSoC5/Bootloader.c ****         * application. We just check to make sure that the value at CY_APP_ADDR_ADDRESS
1277:Generated_Source\PSoC5/Bootloader.c ****         * is something other than 0 and active application is valid.
1278:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1279:Generated_Source\PSoC5/Bootloader.c ****         if ((0u != Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR, activeApp)) 
 516              		.loc 1 1279 0
 517 001e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 518 0020 1946     		mov	r1, r3
 519 0022 0220     		movs	r0, #2
 520 0024 FFF7FEFF 		bl	Bootloader_GetMetadata
 521 0028 0346     		mov	r3, r0
 522 002a 002B     		cmp	r3, #0
 523 002c 08D0     		beq	.L36
1280:Generated_Source\PSoC5/Bootloader.c ****     #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_BOOTLOADER)
1281:Generated_Source\PSoC5/Bootloader.c ****             && (activeApp < Bootloader_MD_BTLDB_ACTIVE_NONE)
1282:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_BOOTLOADER) */        
1283:Generated_Source\PSoC5/Bootloader.c ****             )
1284:Generated_Source\PSoC5/Bootloader.c ****         {
1285:Generated_Source\PSoC5/Bootloader.c ****             /* Never returns from this method */
1286:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_LaunchBootloadable(Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR,
 524              		.loc 1 1286 0
 525 002e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 526 0030 1946     		mov	r1, r3
 527 0032 0220     		movs	r0, #2
 528 0034 FFF7FEFF 		bl	Bootloader_GetMetadata
 529 0038 0346     		mov	r3, r0
 530 003a 1846     		mov	r0, r3
 531 003c FFF7FEFF 		bl	Bootloader_LaunchBootloadable
 532              	.L36:
 533              	.LBE3:
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 33


1287:Generated_Source\PSoC5/Bootloader.c ****                                                                              activeApp));
1288:Generated_Source\PSoC5/Bootloader.c ****         }
1289:Generated_Source\PSoC5/Bootloader.c ****     }
1290:Generated_Source\PSoC5/Bootloader.c **** }
 534              		.loc 1 1290 0
 535 0040 00BF     		nop
 536 0042 0837     		adds	r7, r7, #8
 537              		.cfi_def_cfa_offset 8
 538 0044 BD46     		mov	sp, r7
 539              		.cfi_def_cfa_register 13
 540              		@ sp needed
 541 0046 80BD     		pop	{r7, pc}
 542              	.L38:
 543              		.align	2
 544              	.L37:
 545 0048 FA460040 		.word	1073759994
 546              		.cfi_endproc
 547              	.LFE69:
 548              		.size	CyBtldr_CheckLaunch, .-CyBtldr_CheckLaunch
 549              		.section	.text.Bootloader_LaunchBootloadable,"ax",%progbits
 550              		.align	2
 551              		.thumb
 552              		.thumb_func
 553              		.type	Bootloader_LaunchBootloadable, %function
 554              	Bootloader_LaunchBootloadable:
 555              	.LFB70:
1291:Generated_Source\PSoC5/Bootloader.c **** 
1292:Generated_Source\PSoC5/Bootloader.c **** 
1293:Generated_Source\PSoC5/Bootloader.c **** /* Moves argument appAddr (RO) into PC, moving execution to appAddr */
1294:Generated_Source\PSoC5/Bootloader.c **** #if defined (__ARMCC_VERSION)
1295:Generated_Source\PSoC5/Bootloader.c **** 
1296:Generated_Source\PSoC5/Bootloader.c ****     __asm static void Bootloader_LaunchBootloadable(uint32 appAddr)
1297:Generated_Source\PSoC5/Bootloader.c ****     {
1298:Generated_Source\PSoC5/Bootloader.c ****         BX  R0
1299:Generated_Source\PSoC5/Bootloader.c ****         ALIGN
1300:Generated_Source\PSoC5/Bootloader.c ****     }
1301:Generated_Source\PSoC5/Bootloader.c **** 
1302:Generated_Source\PSoC5/Bootloader.c **** #elif defined(__GNUC__)
1303:Generated_Source\PSoC5/Bootloader.c **** 
1304:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((noinline)) /* Workaround for GCC toolchain bug with inlining */
1305:Generated_Source\PSoC5/Bootloader.c ****     __attribute__((naked))
1306:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_LaunchBootloadable(uint32 appAddr)
1307:Generated_Source\PSoC5/Bootloader.c ****     {
 556              		.loc 1 1307 0
 557              		.cfi_startproc
 558              		@ Naked Function: prologue and epilogue provided by programmer.
 559              		@ args = 0, pretend = 0, frame = 0
 560              		@ frame_needed = 1, uses_anonymous_args = 0
1308:Generated_Source\PSoC5/Bootloader.c ****         __asm volatile("    BX  R0\n");
 561              		.loc 1 1308 0
 562              		.syntax unified
 563              	@ 1308 "Generated_Source\PSoC5\Bootloader.c" 1
 564 0000 0047     		    BX  R0
 565              	
 566              	@ 0 "" 2
1309:Generated_Source\PSoC5/Bootloader.c ****     }
 567              		.loc 1 1309 0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 34


 568              		.thumb
 569              		.syntax unified
 570 0002 00BF     		nop
 571              		.cfi_endproc
 572              	.LFE70:
 573              		.size	Bootloader_LaunchBootloadable, .-Bootloader_LaunchBootloadable
 574              		.section	.text.Bootloader_ValidateBootloadable,"ax",%progbits
 575              		.align	2
 576              		.global	Bootloader_ValidateBootloadable
 577              		.thumb
 578              		.thumb_func
 579              		.type	Bootloader_ValidateBootloadable, %function
 580              	Bootloader_ValidateBootloadable:
 581              	.LFB71:
1310:Generated_Source\PSoC5/Bootloader.c **** 
1311:Generated_Source\PSoC5/Bootloader.c **** #elif defined (__ICCARM__)
1312:Generated_Source\PSoC5/Bootloader.c **** 
1313:Generated_Source\PSoC5/Bootloader.c ****     static void Bootloader_LaunchBootloadable(uint32 appAddr)
1314:Generated_Source\PSoC5/Bootloader.c ****     {
1315:Generated_Source\PSoC5/Bootloader.c ****         __asm volatile("    BX  R0\n");
1316:Generated_Source\PSoC5/Bootloader.c ****     }
1317:Generated_Source\PSoC5/Bootloader.c **** 
1318:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (__ARMCC_VERSION) */
1319:Generated_Source\PSoC5/Bootloader.c **** #endif /* (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1320:Generated_Source\PSoC5/Bootloader.c **** 
1321:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1322:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_ValidateBootloadable
1323:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1324:Generated_Source\PSoC5/Bootloader.c **** * \brief
1325:Generated_Source\PSoC5/Bootloader.c **** *  Performs the Bootloadable application validation by calculating the
1326:Generated_Source\PSoC5/Bootloader.c **** *  application image checksum and comparing it with the checksum value stored
1327:Generated_Source\PSoC5/Bootloader.c **** *  in the Bootloadable Application Checksum field of the metadata section.
1328:Generated_Source\PSoC5/Bootloader.c **** *
1329:Generated_Source\PSoC5/Bootloader.c **** *  If the "Fast bootloadable application validation" option is enabled in the
1330:Generated_Source\PSoC5/Bootloader.c **** *  component customizer and Bootloadable application successfully passes
1331:Generated_Source\PSoC5/Bootloader.c **** *  validation, the Bootloadable Application Verification Status field of the
1332:Generated_Source\PSoC5/Bootloader.c **** *  metadata section is updated. Refer to the "Metadata Layout" section for the
1333:Generated_Source\PSoC5/Bootloader.c **** *  details.
1334:Generated_Source\PSoC5/Bootloader.c **** *
1335:Generated_Source\PSoC5/Bootloader.c **** *  If the "Fast bootloadable application validation" option is enabled and
1336:Generated_Source\PSoC5/Bootloader.c **** *  the Bootloadable Application Verification Status field of the metadata section
1337:Generated_Source\PSoC5/Bootloader.c **** *  claims that the Bootloadable application is valid, the function returns
1338:Generated_Source\PSoC5/Bootloader.c **** *  CYRET_SUCCESS without further checksum calculation.
1339:Generated_Source\PSoC5/Bootloader.c **** *
1340:Generated_Source\PSoC5/Bootloader.c **** *  \param appId
1341:Generated_Source\PSoC5/Bootloader.c **** *  The number of the Bootloadable application should be 0 for the normal
1342:Generated_Source\PSoC5/Bootloader.c **** *  bootloader and 0 or 1 for the dual-application bootloader.
1343:Generated_Source\PSoC5/Bootloader.c **** *
1344:Generated_Source\PSoC5/Bootloader.c **** * \return
1345:Generated_Source\PSoC5/Bootloader.c **** *  CYRET_SUCCESS - If the specified the Bootloadable application is valid.
1346:Generated_Source\PSoC5/Bootloader.c **** *  CYRET_BAD_DATA is returned if the input parameter is out of the specified range
1347:Generated_Source\PSoC5/Bootloader.c **** *      or the calculated checksum does not match the stored checksum.
1348:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1349:Generated_Source\PSoC5/Bootloader.c **** cystatus Bootloader_ValidateBootloadable(uint8 appId) CYSMALL \
1350:Generated_Source\PSoC5/Bootloader.c **** 
1351:Generated_Source\PSoC5/Bootloader.c ****     {
 582              		.loc 1 1351 0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 35


 583              		.cfi_startproc
 584              		@ args = 0, pretend = 0, frame = 24
 585              		@ frame_needed = 1, uses_anonymous_args = 0
 586 0000 90B5     		push	{r4, r7, lr}
 587              		.cfi_def_cfa_offset 12
 588              		.cfi_offset 4, -12
 589              		.cfi_offset 7, -8
 590              		.cfi_offset 14, -4
 591 0002 87B0     		sub	sp, sp, #28
 592              		.cfi_def_cfa_offset 40
 593 0004 00AF     		add	r7, sp, #0
 594              		.cfi_def_cfa_register 7
 595 0006 0346     		mov	r3, r0
 596 0008 FB71     		strb	r3, [r7, #7]
1352:Generated_Source\PSoC5/Bootloader.c ****         uint32 CYDATA idx;
1353:Generated_Source\PSoC5/Bootloader.c **** 
1354:Generated_Source\PSoC5/Bootloader.c ****         uint32 CYDATA end   = Bootloader_FIRST_APP_BYTE(appId) +
 597              		.loc 1 1354 0
 598 000a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 599 000c 1946     		mov	r1, r3
 600 000e 0320     		movs	r0, #3
 601 0010 FFF7FEFF 		bl	Bootloader_GetMetadata
 602 0014 0346     		mov	r3, r0
 603 0016 0133     		adds	r3, r3, #1
 604 0018 1C02     		lsls	r4, r3, #8
1355:Generated_Source\PSoC5/Bootloader.c ****                               Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, appId);
 605              		.loc 1 1355 0
 606 001a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 607 001c 1946     		mov	r1, r3
 608 001e 0420     		movs	r0, #4
 609 0020 FFF7FEFF 		bl	Bootloader_GetMetadata
 610 0024 0346     		mov	r3, r0
1354:Generated_Source\PSoC5/Bootloader.c ****                               Bootloader_GetMetadata(Bootloader_GET_BTLDB_LENGTH, appId);
 611              		.loc 1 1354 0
 612 0026 2344     		add	r3, r3, r4
 613 0028 FB60     		str	r3, [r7, #12]
1356:Generated_Source\PSoC5/Bootloader.c **** 
1357:Generated_Source\PSoC5/Bootloader.c ****         CYBIT  valid = 0u; /* Assume bad flash image */
 614              		.loc 1 1357 0
 615 002a 0023     		movs	r3, #0
 616 002c FB74     		strb	r3, [r7, #19]
1358:Generated_Source\PSoC5/Bootloader.c ****         uint8  CYDATA calcedChecksum = 0u;
 617              		.loc 1 1358 0
 618 002e 0023     		movs	r3, #0
 619 0030 BB74     		strb	r3, [r7, #18]
1359:Generated_Source\PSoC5/Bootloader.c **** 
1360:Generated_Source\PSoC5/Bootloader.c **** 
1361:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_DUAL_APP_BOOTLOADER)
1362:Generated_Source\PSoC5/Bootloader.c **** 
1363:Generated_Source\PSoC5/Bootloader.c ****             if(appId > 1u)
1364:Generated_Source\PSoC5/Bootloader.c ****             {
1365:Generated_Source\PSoC5/Bootloader.c ****                 return(CYRET_BAD_DATA);
1366:Generated_Source\PSoC5/Bootloader.c ****             }
1367:Generated_Source\PSoC5/Bootloader.c **** 
1368:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
1369:Generated_Source\PSoC5/Bootloader.c **** 
1370:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 36


1371:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
1372:Generated_Source\PSoC5/Bootloader.c ****             if(Bootloader_GetMetadata(Bootloader_GET_BTLDB_STATUS, appId) ==
1373:Generated_Source\PSoC5/Bootloader.c ****                Bootloader_MD_BTLDB_IS_VERIFIED)
1374:Generated_Source\PSoC5/Bootloader.c ****             {
1375:Generated_Source\PSoC5/Bootloader.c ****                 return(CYRET_SUCCESS);
1376:Generated_Source\PSoC5/Bootloader.c ****             }
1377:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1378:Generated_Source\PSoC5/Bootloader.c **** 
1379:Generated_Source\PSoC5/Bootloader.c **** 
1380:Generated_Source\PSoC5/Bootloader.c ****         /* Calculate checksum of bootloadable image */
1381:Generated_Source\PSoC5/Bootloader.c ****         for(idx = Bootloader_FIRST_APP_BYTE(appId); idx < end; ++idx)
 620              		.loc 1 1381 0
 621 0032 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 622 0034 1946     		mov	r1, r3
 623 0036 0320     		movs	r0, #3
 624 0038 FFF7FEFF 		bl	Bootloader_GetMetadata
 625 003c 0346     		mov	r3, r0
 626 003e 0133     		adds	r3, r3, #1
 627 0040 1B02     		lsls	r3, r3, #8
 628 0042 7B61     		str	r3, [r7, #20]
 629 0044 11E0     		b	.L41
 630              	.L43:
 631              	.LBB4:
1382:Generated_Source\PSoC5/Bootloader.c ****         {
1383:Generated_Source\PSoC5/Bootloader.c ****             uint8 CYDATA curByte = Bootloader_GET_CODE_BYTE(idx);
 632              		.loc 1 1383 0
 633 0046 7B69     		ldr	r3, [r7, #20]
 634 0048 1B78     		ldrb	r3, [r3]
 635 004a FB72     		strb	r3, [r7, #11]
1384:Generated_Source\PSoC5/Bootloader.c **** 
1385:Generated_Source\PSoC5/Bootloader.c ****             if((curByte != 0u) && (curByte != 0xFFu))
 636              		.loc 1 1385 0
 637 004c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 638 004e 002B     		cmp	r3, #0
 639 0050 04D0     		beq	.L42
 640              		.loc 1 1385 0 is_stmt 0 discriminator 1
 641 0052 FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 642 0054 FF2B     		cmp	r3, #255
 643 0056 01D0     		beq	.L42
1386:Generated_Source\PSoC5/Bootloader.c ****             {
1387:Generated_Source\PSoC5/Bootloader.c ****                 valid = 1u;
 644              		.loc 1 1387 0 is_stmt 1
 645 0058 0123     		movs	r3, #1
 646 005a FB74     		strb	r3, [r7, #19]
 647              	.L42:
1388:Generated_Source\PSoC5/Bootloader.c ****             }
1389:Generated_Source\PSoC5/Bootloader.c **** 
1390:Generated_Source\PSoC5/Bootloader.c ****             calcedChecksum += curByte;
 648              		.loc 1 1390 0 discriminator 2
 649 005c BA7C     		ldrb	r2, [r7, #18]
 650 005e FB7A     		ldrb	r3, [r7, #11]
 651 0060 1344     		add	r3, r3, r2
 652 0062 BB74     		strb	r3, [r7, #18]
 653              	.LBE4:
1381:Generated_Source\PSoC5/Bootloader.c ****         {
 654              		.loc 1 1381 0 discriminator 2
 655 0064 7B69     		ldr	r3, [r7, #20]
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 37


 656 0066 0133     		adds	r3, r3, #1
 657 0068 7B61     		str	r3, [r7, #20]
 658              	.L41:
1381:Generated_Source\PSoC5/Bootloader.c ****         {
 659              		.loc 1 1381 0 is_stmt 0 discriminator 1
 660 006a 7A69     		ldr	r2, [r7, #20]
 661 006c FB68     		ldr	r3, [r7, #12]
 662 006e 9A42     		cmp	r2, r3
 663 0070 E9D3     		bcc	.L43
1391:Generated_Source\PSoC5/Bootloader.c ****         }
1392:Generated_Source\PSoC5/Bootloader.c **** 
1393:Generated_Source\PSoC5/Bootloader.c **** 
1394:Generated_Source\PSoC5/Bootloader.c ****         /***************************************************************************
1395:Generated_Source\PSoC5/Bootloader.c ****         * We do not compute a checksum over the meta data section, so no need to
1396:Generated_Source\PSoC5/Bootloader.c ****         * subtract App Verified or App Active information here like we do when
1397:Generated_Source\PSoC5/Bootloader.c ****         * verifying a row.
1398:Generated_Source\PSoC5/Bootloader.c ****         ***************************************************************************/
1399:Generated_Source\PSoC5/Bootloader.c **** 
1400:Generated_Source\PSoC5/Bootloader.c ****         #if((!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u))
1401:Generated_Source\PSoC5/Bootloader.c **** 
1402:Generated_Source\PSoC5/Bootloader.c ****             /* Add ECC data to checksum */
1403:Generated_Source\PSoC5/Bootloader.c ****             idx = ((Bootloader_FIRST_APP_BYTE(appId)) >> 3u);
1404:Generated_Source\PSoC5/Bootloader.c **** 
1405:Generated_Source\PSoC5/Bootloader.c ****             /* Flash may run into meta data, so ECC does not use full row */
1406:Generated_Source\PSoC5/Bootloader.c ****             end = (end == (CY_FLASH_SIZE - Bootloader_MD_SIZEOF))
1407:Generated_Source\PSoC5/Bootloader.c ****                 ? (CY_FLASH_SIZE >> 3u)
1408:Generated_Source\PSoC5/Bootloader.c ****                 : (end >> 3u);
1409:Generated_Source\PSoC5/Bootloader.c **** 
1410:Generated_Source\PSoC5/Bootloader.c ****             for (; idx < end; ++idx)
1411:Generated_Source\PSoC5/Bootloader.c ****             {
1412:Generated_Source\PSoC5/Bootloader.c ****                 calcedChecksum += CY_GET_XTND_REG8((volatile uint8 *)(CYDEV_ECC_BASE + idx));
1413:Generated_Source\PSoC5/Bootloader.c ****             }
1414:Generated_Source\PSoC5/Bootloader.c **** 
1415:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* ((!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u)) */
1416:Generated_Source\PSoC5/Bootloader.c **** 
1417:Generated_Source\PSoC5/Bootloader.c ****         calcedChecksum = ( uint8 )1u + ( uint8 )(~calcedChecksum);
 664              		.loc 1 1417 0 is_stmt 1
 665 0072 BB7C     		ldrb	r3, [r7, #18]
 666 0074 5B42     		negs	r3, r3
 667 0076 BB74     		strb	r3, [r7, #18]
1418:Generated_Source\PSoC5/Bootloader.c **** 
1419:Generated_Source\PSoC5/Bootloader.c ****         if((calcedChecksum != Bootloader_GetMetadata(Bootloader_GET_BTLDB_CHECKSUM, appId)) ||
 668              		.loc 1 1419 0
 669 0078 BC7C     		ldrb	r4, [r7, #18]	@ zero_extendqisi2
 670 007a FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 671 007c 1946     		mov	r1, r3
 672 007e 0120     		movs	r0, #1
 673 0080 FFF7FEFF 		bl	Bootloader_GetMetadata
 674 0084 0346     		mov	r3, r0
 675 0086 9C42     		cmp	r4, r3
 676 0088 02D1     		bne	.L44
 677              		.loc 1 1419 0 is_stmt 0 discriminator 1
 678 008a FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 679 008c 002B     		cmp	r3, #0
 680 008e 01D1     		bne	.L45
 681              	.L44:
1420:Generated_Source\PSoC5/Bootloader.c ****            (0u == valid))
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 38


1421:Generated_Source\PSoC5/Bootloader.c ****         {
1422:Generated_Source\PSoC5/Bootloader.c ****             return(CYRET_BAD_DATA);
 682              		.loc 1 1422 0 is_stmt 1
 683 0090 0623     		movs	r3, #6
 684 0092 00E0     		b	.L46
 685              	.L45:
1423:Generated_Source\PSoC5/Bootloader.c ****         }
1424:Generated_Source\PSoC5/Bootloader.c **** 
1425:Generated_Source\PSoC5/Bootloader.c **** 
1426:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_FAST_APP_VALIDATION)
1427:Generated_Source\PSoC5/Bootloader.c ****             Bootloader_SetFlashByte((uint32) Bootloader_MD_BTLDB_VERIFIED_OFFSET(appId),
1428:Generated_Source\PSoC5/Bootloader.c ****                                           Bootloader_MD_BTLDB_IS_VERIFIED);
1429:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
1430:Generated_Source\PSoC5/Bootloader.c **** 
1431:Generated_Source\PSoC5/Bootloader.c **** 
1432:Generated_Source\PSoC5/Bootloader.c ****         return(CYRET_SUCCESS);
 686              		.loc 1 1432 0
 687 0094 0023     		movs	r3, #0
 688              	.L46:
1433:Generated_Source\PSoC5/Bootloader.c **** }
 689              		.loc 1 1433 0
 690 0096 1846     		mov	r0, r3
 691 0098 1C37     		adds	r7, r7, #28
 692              		.cfi_def_cfa_offset 12
 693 009a BD46     		mov	sp, r7
 694              		.cfi_def_cfa_register 13
 695              		@ sp needed
 696 009c 90BD     		pop	{r4, r7, pc}
 697              		.cfi_endproc
 698              	.LFE71:
 699              		.size	Bootloader_ValidateBootloadable, .-Bootloader_ValidateBootloadable
 700 009e 00BF     		.section	.rodata
 701              		.align	2
 702              	.LC0:
 703 0000 6930122E 		.word	772943977
 704 0004 00       		.byte	0
 705 0005 3C       		.byte	60
 706 0006 01       		.byte	1
 707 0007 01       		.byte	1
 708              		.section	.text.Bootloader_HostLink,"ax",%progbits
 709              		.align	2
 710              		.thumb
 711              		.thumb_func
 712              		.type	Bootloader_HostLink, %function
 713              	Bootloader_HostLink:
 714              	.LFB72:
1434:Generated_Source\PSoC5/Bootloader.c **** 
1435:Generated_Source\PSoC5/Bootloader.c **** #if (((0u != Bootloader_DUAL_APP_BOOTLOADER) && (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)) \
1436:Generated_Source\PSoC5/Bootloader.c ****                                           || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOA
1437:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
1438:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_CheckImage
1439:Generated_Source\PSoC5/Bootloader.c **** ********************************************************************************
1440:Generated_Source\PSoC5/Bootloader.c **** * \internal
1441:Generated_Source\PSoC5/Bootloader.c **** *
1442:Generated_Source\PSoC5/Bootloader.c **** * \brief 
1443:Generated_Source\PSoC5/Bootloader.c **** *   This API checks if there is a permission to write to a certain image.
1444:Generated_Source\PSoC5/Bootloader.c **** *   It is used to check the active application as well as to check the Golden image.
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 39


1445:Generated_Source\PSoC5/Bootloader.c **** *
1446:Generated_Source\PSoC5/Bootloader.c **** * \param 
1447:Generated_Source\PSoC5/Bootloader.c **** *   appNumber - The application number.
1448:Generated_Source\PSoC5/Bootloader.c **** * \param 
1449:Generated_Source\PSoC5/Bootloader.c **** *   arrayNumber - The number of the flash page to write to.
1450:Generated_Source\PSoC5/Bootloader.c **** * \param 
1451:Generated_Source\PSoC5/Bootloader.c **** *   row - The row number to write to the flash.
1452:Generated_Source\PSoC5/Bootloader.c **** * \param 
1453:Generated_Source\PSoC5/Bootloader.c **** *   rowNumInArray - The row number inside the array.
1454:Generated_Source\PSoC5/Bootloader.c **** *
1455:Generated_Source\PSoC5/Bootloader.c **** * \return 
1456:Generated_Source\PSoC5/Bootloader.c **** *   CYRET_SUCCESS - Writing to a specified image is permitted.
1457:Generated_Source\PSoC5/Bootloader.c **** *   Bootloader_ERR_ACTIVE - Writing to this image is NOT permitted
1458:Generated_Source\PSoC5/Bootloader.c **** *   because the specified image is active or Golden.
1459:Generated_Source\PSoC5/Bootloader.c **** *
1460:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
1461:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1462:Generated_Source\PSoC5/Bootloader.c **** static uint8 Bootloader_CheckImage(uint8 appNumber, uint8 arrayNumber, uint16 row, uint16 rowNumInA
1463:Generated_Source\PSoC5/Bootloader.c ****                                          
1464:Generated_Source\PSoC5/Bootloader.c **** {
1465:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA firstRow = 0xFFFFu;
1466:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA lastRow = 0xFFFFu;
1467:Generated_Source\PSoC5/Bootloader.c ****     uint8 CYDATA ackCode = CYRET_SUCCESS;
1468:Generated_Source\PSoC5/Bootloader.c **** 
1469:Generated_Source\PSoC5/Bootloader.c ****     if (appNumber < Bootloader_MAX_NUM_OF_BTLDB)
1470:Generated_Source\PSoC5/Bootloader.c ****     {    
1471:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1472:Generated_Source\PSoC5/Bootloader.c ****         * For the first Bootloadable application - gets the last flash row occupied by
1473:Generated_Source\PSoC5/Bootloader.c ****         * the Bootloader application image:
1474:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1475:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1476:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1477:Generated_Source\PSoC5/Bootloader.c ****         * |<--firstRow---|>
1478:Generated_Source\PSoC5/Bootloader.c ****         *
1479:Generated_Source\PSoC5/Bootloader.c ****         * For the second Bootloadable application - gets the last flash row occupied by
1480:Generated_Source\PSoC5/Bootloader.c ****         * the first Bootloadable application:
1481:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1482:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1483:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1484:Generated_Source\PSoC5/Bootloader.c ****         * |<-------------firstRow-----------------|>
1485:Generated_Source\PSoC5/Bootloader.c ****         *
1486:Generated_Source\PSoC5/Bootloader.c ****         * Incremented by 1 to get the first available row.
1487:Generated_Source\PSoC5/Bootloader.c ****         *
1488:Generated_Source\PSoC5/Bootloader.c ****         * NOTE M1 and M2 stand for metadata # 1 and metadata # 2, metadata 
1489:Generated_Source\PSoC5/Bootloader.c ****         * sections for the 1st and 2nd Bootloadable applications.
1490:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1491:Generated_Source\PSoC5/Bootloader.c ****         firstRow = (uint16) 1u +
1492:Generated_Source\PSoC5/Bootloader.c ****             (uint16) Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW,  appNumber);
1493:Generated_Source\PSoC5/Bootloader.c **** 
1494:Generated_Source\PSoC5/Bootloader.c ****     
1495:Generated_Source\PSoC5/Bootloader.c ****     /***********************************************************************************
1496:Generated_Source\PSoC5/Bootloader.c ****     * If this is the Upgradable Stack use case, then Stack application and User application
1497:Generated_Source\PSoC5/Bootloader.c ****     * do not occupy the half of flash each, as the other applications do for Classic Dual-app 
1498:Generated_Source\PSoC5/Bootloader.c ****     * and the general Launcher-Combination use cases. Another approach for calculation 
1499:Generated_Source\PSoC5/Bootloader.c ****     * lastRow is used for the Upgradable Stack use case. See Bootloader datasheet for more 
1500:Generated_Source\PSoC5/Bootloader.c ****     * details (use cases description).
1501:Generated_Source\PSoC5/Bootloader.c ****     ***********************************************************************************/
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 40


1502:Generated_Source\PSoC5/Bootloader.c **** 
1503:Generated_Source\PSoC5/Bootloader.c ****     
1504:Generated_Source\PSoC5/Bootloader.c ****     #if ((CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) && \
1505:Generated_Source\PSoC5/Bootloader.c ****          (0u != Bootloader_IS_STACK_APPLICATION))
1506:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1507:Generated_Source\PSoC5/Bootloader.c ****         * The Upgradable Stack application case implies that only this application can 
1508:Generated_Source\PSoC5/Bootloader.c ****         * perform a bootloading operation (the other one can't). So a verification 
1509:Generated_Source\PSoC5/Bootloader.c ****         * will be run to check if the Stack application is not overwritten. 
1510:Generated_Source\PSoC5/Bootloader.c ****         *
1511:Generated_Source\PSoC5/Bootloader.c ****         * The Stack application is defined as the first application.
1512:Generated_Source\PSoC5/Bootloader.c ****           * The User application is defined as the second application.
1513:Generated_Source\PSoC5/Bootloader.c ****         *
1514:Generated_Source\PSoC5/Bootloader.c ****         * This check is intended for the case when the Stack application is active
1515:Generated_Source\PSoC5/Bootloader.c ****         * and performs bootloading for the User application:
1516:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1517:Generated_Source\PSoC5/Bootloader.c ****         * |   Launcher   |       Stack     |           User app            | M2 | M1 |
1518:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1519:Generated_Source\PSoC5/Bootloader.c ****         *                |<-------------------lastRow -------------------->|
1520:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1521:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (uint16) Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAST_ROW,
1522:Generated_Source\PSoC5/Bootloader.c ****                                                         Bootloader_USER_APPLICATION);    
1523:Generated_Source\PSoC5/Bootloader.c ****     
1524:Generated_Source\PSoC5/Bootloader.c ****     #else /* Classic Dual-app and the general Launcher-Combination use cases */    
1525:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1526:Generated_Source\PSoC5/Bootloader.c ****         * The number of flash rows available for both Bootloadable applications:
1527:Generated_Source\PSoC5/Bootloader.c ****         *
1528:Generated_Source\PSoC5/Bootloader.c ****         * The first Bootloadable application is active:
1529:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1530:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1531:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1532:Generated_Source\PSoC5/Bootloader.c ****         *                |<-------------------lastRow -------------------->|
1533:Generated_Source\PSoC5/Bootloader.c ****         *
1534:Generated_Source\PSoC5/Bootloader.c ****         * The second Bootloadable application is active:
1535:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1536:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1537:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1538:Generated_Source\PSoC5/Bootloader.c ****         *                                         |<-------lastRow-------->|
1539:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1540:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (uint16)(CY_FLASH_NUMBER_ROWS - Bootloader_NUMBER_OF_METADATA_ROWS - firstRow);
1541:Generated_Source\PSoC5/Bootloader.c **** 
1542:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1543:Generated_Source\PSoC5/Bootloader.c ****         * The number of flash rows available for the active Bootloadable application:
1544:Generated_Source\PSoC5/Bootloader.c ****         *
1545:Generated_Source\PSoC5/Bootloader.c ****         * The first Bootloadable application is active: the number of flash rows available
1546:Generated_Source\PSoC5/Bootloader.c ****         * for both Bootloadable applications should be divided by 2, meaning 2 
1547:Generated_Source\PSoC5/Bootloader.c ****         * Bootloadable applications should fit there.
1548:Generated_Source\PSoC5/Bootloader.c ****         *
1549:Generated_Source\PSoC5/Bootloader.c ****         * The second Bootloadable application is active: the number of flash rows available
1550:Generated_Source\PSoC5/Bootloader.c ****         * for both Bootloadable applications should be divided by 1, meaning 1 
1551:Generated_Source\PSoC5/Bootloader.c ****         * Bootloadable application should fit there.
1552:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1553:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (uint16)(lastRow / (uint8)(Bootloader_NUMBER_OF_BTLDBLE_APPS - appNumber));
1554:Generated_Source\PSoC5/Bootloader.c **** 
1555:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1556:Generated_Source\PSoC5/Bootloader.c ****         * The last row equals the first row plus the number of rows available for
1557:Generated_Source\PSoC5/Bootloader.c ****         * each Bootloadable application. That gives the flash row number right
1558:Generated_Source\PSoC5/Bootloader.c ****         * beyond the valid range, so we subtract 1.
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 41


1559:Generated_Source\PSoC5/Bootloader.c ****         *
1560:Generated_Source\PSoC5/Bootloader.c ****         * The first Bootloadable application is active:
1561:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1562:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1563:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1564:Generated_Source\PSoC5/Bootloader.c ****         * |<----------------lastRow ------------->|
1565:Generated_Source\PSoC5/Bootloader.c ****         *
1566:Generated_Source\PSoC5/Bootloader.c ****         * The second Bootloadable application is active:
1567:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1568:Generated_Source\PSoC5/Bootloader.c ****         * | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1569:Generated_Source\PSoC5/Bootloader.c ****         *  ---------------------------------------------------------------------------
1570:Generated_Source\PSoC5/Bootloader.c ****         * |<-----------------------------lastRow-------------------------->|
1571:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1572:Generated_Source\PSoC5/Bootloader.c ****         lastRow = (firstRow + lastRow) - 1u;
1573:Generated_Source\PSoC5/Bootloader.c ****     #endif /*(0u == Bootloader_IS_STACK_APPLICATION)*/    
1574:Generated_Source\PSoC5/Bootloader.c **** 
1575:Generated_Source\PSoC5/Bootloader.c ****         /*******************************************************************************
1576:Generated_Source\PSoC5/Bootloader.c ****         * 1. Refuses to write a row within the range of the active application.
1577:Generated_Source\PSoC5/Bootloader.c ****         *
1578:Generated_Source\PSoC5/Bootloader.c ****         *  The first Bootloadable application is active:
1579:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1580:Generated_Source\PSoC5/Bootloader.c ****         *  | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1581:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1582:Generated_Source\PSoC5/Bootloader.c ****         *  |<----------------lastRow ------------->|
1583:Generated_Source\PSoC5/Bootloader.c ****         *  |<--firstRow---|>
1584:Generated_Source\PSoC5/Bootloader.c ****         *                 |<-------protected------>|
1585:Generated_Source\PSoC5/Bootloader.c ****         *
1586:Generated_Source\PSoC5/Bootloader.c ****         *  the second Bootloadable application is active:
1587:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1588:Generated_Source\PSoC5/Bootloader.c ****         *  | Bootloader   | Bootloadable # 1 |     | Bootloadable # 2 |     | M2 | M1 |
1589:Generated_Source\PSoC5/Bootloader.c ****         *   ---------------------------------------------------------------------------
1590:Generated_Source\PSoC5/Bootloader.c ****         *  |<-------------firstRow-----------------|>
1591:Generated_Source\PSoC5/Bootloader.c ****         *  |<-----------------------------lastRow-------------------------->|
1592:Generated_Source\PSoC5/Bootloader.c ****         *                                          |<-------protected------>|
1593:Generated_Source\PSoC5/Bootloader.c ****         *
1594:Generated_Source\PSoC5/Bootloader.c ****         * 2. Refuses to write to the row that contains metadata of the active
1595:Generated_Source\PSoC5/Bootloader.c ****         *    Bootloadable application.
1596:Generated_Source\PSoC5/Bootloader.c ****         *
1597:Generated_Source\PSoC5/Bootloader.c ****         *******************************************************************************/
1598:Generated_Source\PSoC5/Bootloader.c ****         if (((row >= firstRow) && (row <= lastRow)) || ((arrayNumber == Bootloader_MD_FLASH_ARRAY_N
1599:Generated_Source\PSoC5/Bootloader.c ****             (rowNumInArray == Bootloader_MD_ROW_NUM(appNumber))))
1600:Generated_Source\PSoC5/Bootloader.c ****         {
1601:Generated_Source\PSoC5/Bootloader.c ****             ackCode = Bootloader_ERR_ACTIVE;
1602:Generated_Source\PSoC5/Bootloader.c ****         }
1603:Generated_Source\PSoC5/Bootloader.c ****     }
1604:Generated_Source\PSoC5/Bootloader.c ****     else /*(appNumber < Bootloader_MAX_NUM_OF_BTLDB)*/
1605:Generated_Source\PSoC5/Bootloader.c ****     {
1606:Generated_Source\PSoC5/Bootloader.c ****         ackCode = Bootloader_ERR_ACTIVE;
1607:Generated_Source\PSoC5/Bootloader.c ****     }
1608:Generated_Source\PSoC5/Bootloader.c ****     
1609:Generated_Source\PSoC5/Bootloader.c ****     return ackCode;
1610:Generated_Source\PSoC5/Bootloader.c **** }
1611:Generated_Source\PSoC5/Bootloader.c **** #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || \
1612:Generated_Source\PSoC5/Bootloader.c ****            (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
1613:Generated_Source\PSoC5/Bootloader.c **** 
1614:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)
1615:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 42


1616:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_HostLink
1617:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
1618:Generated_Source\PSoC5/Bootloader.c **** *
1619:Generated_Source\PSoC5/Bootloader.c **** * \brief
1620:Generated_Source\PSoC5/Bootloader.c **** *  Causes the Bootloader to attempt to read data being transmitted by the
1621:Generated_Source\PSoC5/Bootloader.c **** *  host application.  If data is sent from the host, this establishes the
1622:Generated_Source\PSoC5/Bootloader.c **** *  communication interface to process all requests.
1623:Generated_Source\PSoC5/Bootloader.c **** *
1624:Generated_Source\PSoC5/Bootloader.c **** * \param
1625:Generated_Source\PSoC5/Bootloader.c **** *  timeOut:
1626:Generated_Source\PSoC5/Bootloader.c **** *   The amount of time to listen for data before giving up. The timeout is
1627:Generated_Source\PSoC5/Bootloader.c **** *   measured in 10s of ms.  Use 0 for an infinite wait.
1628:Generated_Source\PSoC5/Bootloader.c **** * 
1629:Generated_Source\PSoC5/Bootloader.c **** * \details
1630:Generated_Source\PSoC5/Bootloader.c **** *  This function is public only for Launcher-Combination architecture. For 
1631:Generated_Source\PSoC5/Bootloader.c **** *  Classic Bootloader it is static, meaning private. 
1632:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
1633:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1634:Generated_Source\PSoC5/Bootloader.c **** static void Bootloader_HostLink(uint8 timeOut) CYLARGE 
1635:Generated_Source\PSoC5/Bootloader.c ****                    
1636:Generated_Source\PSoC5/Bootloader.c **** #else
1637:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_HostLink(uint8 timeOut) CYLARGE 
1638:Generated_Source\PSoC5/Bootloader.c ****                    
1639:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
1640:Generated_Source\PSoC5/Bootloader.c **** {
 715              		.loc 1 1640 0
 716              		.cfi_startproc
 717              		@ args = 0, pretend = 0, frame = 680
 718              		@ frame_needed = 1, uses_anonymous_args = 0
 719 0000 80B5     		push	{r7, lr}
 720              		.cfi_def_cfa_offset 8
 721              		.cfi_offset 7, -8
 722              		.cfi_offset 14, -4
 723 0002 ADF52A7D 		sub	sp, sp, #680
 724              		.cfi_def_cfa_offset 688
 725 0006 00AF     		add	r7, sp, #0
 726              		.cfi_def_cfa_register 7
 727 0008 0246     		mov	r2, r0
 728 000a FB1D     		adds	r3, r7, #7
 729 000c 1A70     		strb	r2, [r3]
1641:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA numberRead;
1642:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA rspSize;
1643:Generated_Source\PSoC5/Bootloader.c ****     uint8     CYDATA ackCode;
1644:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA pktChecksum;
1645:Generated_Source\PSoC5/Bootloader.c ****     cystatus  CYDATA readStat;
1646:Generated_Source\PSoC5/Bootloader.c ****     uint16    CYDATA pktSize    = 0u;
 730              		.loc 1 1646 0
 731 000e 0023     		movs	r3, #0
 732 0010 A7F8A232 		strh	r3, [r7, #674]	@ movhi
1647:Generated_Source\PSoC5/Bootloader.c ****     uint8     CYDATA timeOutCnt = 10u;
 733              		.loc 1 1647 0
 734 0014 0A23     		movs	r3, #10
 735 0016 87F8A132 		strb	r3, [r7, #673]
1648:Generated_Source\PSoC5/Bootloader.c **** 
1649:Generated_Source\PSoC5/Bootloader.c ****     #if(0u != Bootloader_FAST_APP_VALIDATION)
1650:Generated_Source\PSoC5/Bootloader.c ****         uint8 CYDATA clearedMetaData = 0u;
1651:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 43


1652:Generated_Source\PSoC5/Bootloader.c **** 
1653:Generated_Source\PSoC5/Bootloader.c **** #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
1654:Generated_Source\PSoC5/Bootloader.c ****     static  CYBIT communicationState = Bootloader_COMMUNICATION_STATE_IDLE; 
1655:Generated_Source\PSoC5/Bootloader.c ****     static uint16 CYDATA dataOffset = 0u; 
1656:Generated_Source\PSoC5/Bootloader.c ****     uint16  CYDATA btldrLastRow = 0xFFFFu;
1657:Generated_Source\PSoC5/Bootloader.c ****     uint8 needToCopyFlag = 0u;
1658:Generated_Source\PSoC5/Bootloader.c ****     uint32 app2StartAddress = Bootloader_GetMetadata(Bootloader_GET_BTLDB_ADDR, 
1659:Generated_Source\PSoC5/Bootloader.c ****                               Bootloader_MD_BTLDB_ACTIVE_1);
1660:Generated_Source\PSoC5/Bootloader.c **** #else
1661:Generated_Source\PSoC5/Bootloader.c ****     CYBIT     communicationState = Bootloader_COMMUNICATION_STATE_IDLE;
 736              		.loc 1 1661 0
 737 001a 0023     		movs	r3, #0
 738 001c 87F8A032 		strb	r3, [r7, #672]
1662:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA dataOffset = 0u; 
 739              		.loc 1 1662 0
 740 0020 0023     		movs	r3, #0
 741 0022 A7F89E32 		strh	r3, [r7, #670]	@ movhi
1663:Generated_Source\PSoC5/Bootloader.c **** #endif /*CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER*/
1664:Generated_Source\PSoC5/Bootloader.c **** 
1665:Generated_Source\PSoC5/Bootloader.c ****     uint8     packetBuffer[Bootloader_SIZEOF_COMMAND_BUFFER];
1666:Generated_Source\PSoC5/Bootloader.c ****     uint8     dataBuffer  [Bootloader_SIZEOF_COMMAND_BUFFER];
1667:Generated_Source\PSoC5/Bootloader.c **** 
1668:Generated_Source\PSoC5/Bootloader.c **** 
1669:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
1670:Generated_Source\PSoC5/Bootloader.c ****         #if(0u == Bootloader_FAST_APP_VALIDATION)
1671:Generated_Source\PSoC5/Bootloader.c ****             #if !defined(CY_BOOT_VERSION)
1672:Generated_Source\PSoC5/Bootloader.c **** 
1673:Generated_Source\PSoC5/Bootloader.c ****                 /* Not required with cy_boot 4.20 */
1674:Generated_Source\PSoC5/Bootloader.c ****                 uint8 CYXDATA Bootloader_flashBuffer[Bootloader_FROW_SIZE];
1675:Generated_Source\PSoC5/Bootloader.c **** 
1676:Generated_Source\PSoC5/Bootloader.c ****             #endif /* !defined(CY_BOOT_VERSION) */
1677:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u == Bootloader_FAST_APP_VALIDATION) */
1678:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CY_PSOC4) */
1679:Generated_Source\PSoC5/Bootloader.c **** 
1680:Generated_Source\PSoC5/Bootloader.c **** 
1681:Generated_Source\PSoC5/Bootloader.c **** 
1682:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC4)
1683:Generated_Source\PSoC5/Bootloader.c ****         #if((0u == Bootloader_FAST_APP_VALIDATION) || \
1684:Generated_Source\PSoC5/Bootloader.c ****             (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
1685:Generated_Source\PSoC5/Bootloader.c **** 
1686:Generated_Source\PSoC5/Bootloader.c ****             /* Initialize flash subsystem for non-PSoC 4 devices */
1687:Generated_Source\PSoC5/Bootloader.c ****             if (CYRET_SUCCESS != CySetTemp())
 742              		.loc 1 1687 0
 743 0026 FFF7FEFF 		bl	CySetTemp
 744 002a 0346     		mov	r3, r0
 745 002c 002B     		cmp	r3, #0
 746 002e 02D0     		beq	.L48
1688:Generated_Source\PSoC5/Bootloader.c ****             {
1689:Generated_Source\PSoC5/Bootloader.c ****                 CyHalt(0x00u);
 747              		.loc 1 1689 0
 748 0030 0020     		movs	r0, #0
 749 0032 FFF7FEFF 		bl	CyHalt
 750              	.L48:
1690:Generated_Source\PSoC5/Bootloader.c ****             }
1691:Generated_Source\PSoC5/Bootloader.c **** 
1692:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u == Bootloader_FAST_APP_VALIDATION) ||
1693:Generated_Source\PSoC5/Bootloader.c ****                    (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 44


1694:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CY_PSOC4) */
1695:Generated_Source\PSoC5/Bootloader.c **** 
1696:Generated_Source\PSoC5/Bootloader.c ****     /* Initialize communications channel. */
1697:Generated_Source\PSoC5/Bootloader.c ****     CyBtldrCommStart();
 751              		.loc 1 1697 0
 752 0036 FFF7FEFF 		bl	CyBtldrCommStart
1698:Generated_Source\PSoC5/Bootloader.c **** 
1699:Generated_Source\PSoC5/Bootloader.c ****     /* Enable global interrupts */
1700:Generated_Source\PSoC5/Bootloader.c ****     CyGlobalIntEnable;
 753              		.loc 1 1700 0
 754              		.syntax unified
 755              	@ 1700 "Generated_Source\PSoC5\Bootloader.c" 1
 756 003a 62B6     		CPSIE   i
 757              	@ 0 "" 2
 758              		.thumb
 759              		.syntax unified
 760              	.L115:
1701:Generated_Source\PSoC5/Bootloader.c **** 
1702:Generated_Source\PSoC5/Bootloader.c ****     do
1703:Generated_Source\PSoC5/Bootloader.c ****     {
1704:Generated_Source\PSoC5/Bootloader.c ****         ackCode = CYRET_SUCCESS;
 761              		.loc 1 1704 0
 762 003c 0023     		movs	r3, #0
 763 003e 87F8A532 		strb	r3, [r7, #677]
 764              	.L53:
1705:Generated_Source\PSoC5/Bootloader.c **** 
1706:Generated_Source\PSoC5/Bootloader.c ****         do
1707:Generated_Source\PSoC5/Bootloader.c ****         {
1708:Generated_Source\PSoC5/Bootloader.c ****             readStat = CyBtldrCommRead(packetBuffer,
 765              		.loc 1 1708 0
 766 0042 FB1D     		adds	r3, r7, #7
 767 0044 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 768 0046 002B     		cmp	r3, #0
 769 0048 02D0     		beq	.L49
 770              		.loc 1 1708 0 is_stmt 0 discriminator 1
 771 004a FB1D     		adds	r3, r7, #7
 772 004c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 773 004e 00E0     		b	.L50
 774              	.L49:
 775              		.loc 1 1708 0 discriminator 2
 776 0050 FF23     		movs	r3, #255
 777              	.L50:
 778              		.loc 1 1708 0 discriminator 4
 779 0052 07F52072 		add	r2, r7, #640
 780 0056 07F5AA70 		add	r0, r7, #340
 781 005a 4FF49671 		mov	r1, #300
 782 005e FFF7FEFF 		bl	CyBtldrCommRead
 783 0062 C7F89002 		str	r0, [r7, #656]
1709:Generated_Source\PSoC5/Bootloader.c ****                                         Bootloader_SIZEOF_COMMAND_BUFFER,
1710:Generated_Source\PSoC5/Bootloader.c ****                                         &numberRead,
1711:Generated_Source\PSoC5/Bootloader.c ****                                         (0u == timeOut) ? 0xFFu : timeOut);
1712:Generated_Source\PSoC5/Bootloader.c ****             if (0u != timeOut)
 784              		.loc 1 1712 0 is_stmt 1 discriminator 4
 785 0066 FB1D     		adds	r3, r7, #7
 786 0068 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 787 006a 002B     		cmp	r3, #0
 788 006c 04D0     		beq	.L51
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 45


1713:Generated_Source\PSoC5/Bootloader.c ****             {
1714:Generated_Source\PSoC5/Bootloader.c ****                 timeOutCnt--;
 789              		.loc 1 1714 0
 790 006e 97F8A132 		ldrb	r3, [r7, #673]	@ zero_extendqisi2
 791 0072 013B     		subs	r3, r3, #1
 792 0074 87F8A132 		strb	r3, [r7, #673]
 793              	.L51:
1715:Generated_Source\PSoC5/Bootloader.c ****             }
1716:Generated_Source\PSoC5/Bootloader.c **** 
1717:Generated_Source\PSoC5/Bootloader.c ****         } while ( (0u != timeOutCnt) && (readStat != CYRET_SUCCESS) );
 794              		.loc 1 1717 0
 795 0078 97F8A132 		ldrb	r3, [r7, #673]	@ zero_extendqisi2
 796 007c 002B     		cmp	r3, #0
 797 007e 03D0     		beq	.L52
 798              		.loc 1 1717 0 is_stmt 0 discriminator 1
 799 0080 D7F89032 		ldr	r3, [r7, #656]
 800 0084 002B     		cmp	r3, #0
 801 0086 DCD1     		bne	.L53
 802              	.L52:
1718:Generated_Source\PSoC5/Bootloader.c **** 
1719:Generated_Source\PSoC5/Bootloader.c **** 
1720:Generated_Source\PSoC5/Bootloader.c ****         if( readStat != CYRET_SUCCESS )
 803              		.loc 1 1720 0 is_stmt 1
 804 0088 D7F89032 		ldr	r3, [r7, #656]
 805 008c 002B     		cmp	r3, #0
 806 008e 40F03783 		bne	.L116
1721:Generated_Source\PSoC5/Bootloader.c ****         {
1722:Generated_Source\PSoC5/Bootloader.c ****             continue;
1723:Generated_Source\PSoC5/Bootloader.c ****         }
1724:Generated_Source\PSoC5/Bootloader.c **** 
1725:Generated_Source\PSoC5/Bootloader.c ****         if((numberRead < Bootloader_MIN_PKT_SIZE) ||
 807              		.loc 1 1725 0
 808 0092 B7F88032 		ldrh	r3, [r7, #640]
 809 0096 062B     		cmp	r3, #6
 810 0098 04D9     		bls	.L56
1726:Generated_Source\PSoC5/Bootloader.c ****            (packetBuffer[Bootloader_SOP_ADDR] != Bootloader_SOP))
 811              		.loc 1 1726 0 discriminator 1
 812 009a 07F5AA73 		add	r3, r7, #340
 813 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1725:Generated_Source\PSoC5/Bootloader.c ****            (packetBuffer[Bootloader_SOP_ADDR] != Bootloader_SOP))
 814              		.loc 1 1725 0 discriminator 1
 815 00a0 012B     		cmp	r3, #1
 816 00a2 03D0     		beq	.L57
 817              	.L56:
1727:Generated_Source\PSoC5/Bootloader.c ****         {
1728:Generated_Source\PSoC5/Bootloader.c ****             ackCode = Bootloader_ERR_DATA;
 818              		.loc 1 1728 0
 819 00a4 0423     		movs	r3, #4
 820 00a6 87F8A532 		strb	r3, [r7, #677]
 821 00aa 4FE0     		b	.L58
 822              	.L57:
1729:Generated_Source\PSoC5/Bootloader.c ****         }
1730:Generated_Source\PSoC5/Bootloader.c ****         else
1731:Generated_Source\PSoC5/Bootloader.c ****         {
1732:Generated_Source\PSoC5/Bootloader.c ****             pktSize = ((uint16)((uint16)packetBuffer[Bootloader_SIZE_ADDR + 1u] << 8u)) |
 823              		.loc 1 1732 0
 824 00ac 07F5AA73 		add	r3, r7, #340
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 46


 825 00b0 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 826 00b2 9BB2     		uxth	r3, r3
 827 00b4 1B02     		lsls	r3, r3, #8
 828 00b6 9AB2     		uxth	r2, r3
1733:Generated_Source\PSoC5/Bootloader.c ****                                packetBuffer[Bootloader_SIZE_ADDR];
 829              		.loc 1 1733 0
 830 00b8 07F5AA73 		add	r3, r7, #340
 831 00bc 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
1732:Generated_Source\PSoC5/Bootloader.c ****                                packetBuffer[Bootloader_SIZE_ADDR];
 832              		.loc 1 1732 0
 833 00be 9BB2     		uxth	r3, r3
 834 00c0 1343     		orrs	r3, r3, r2
 835 00c2 A7F8A232 		strh	r3, [r7, #674]	@ movhi
1734:Generated_Source\PSoC5/Bootloader.c **** 
1735:Generated_Source\PSoC5/Bootloader.c **** 
1736:Generated_Source\PSoC5/Bootloader.c ****             /**************************************************************************************
1737:Generated_Source\PSoC5/Bootloader.c ****             * If the whole packet length exceeds the number of bytes that have been read by the com
1738:Generated_Source\PSoC5/Bootloader.c ****             * component or the size of the buffer that is reserved for the packet, then give an err
1739:Generated_Source\PSoC5/Bootloader.c ****             **************************************************************************************/
1740:Generated_Source\PSoC5/Bootloader.c ****             if (((pktSize + Bootloader_MIN_PKT_SIZE) > numberRead) || 
 836              		.loc 1 1740 0
 837 00c6 B7F8A232 		ldrh	r3, [r7, #674]
 838 00ca 0733     		adds	r3, r3, #7
 839 00cc B7F88022 		ldrh	r2, [r7, #640]
 840 00d0 9342     		cmp	r3, r2
 841 00d2 05D8     		bhi	.L59
1741:Generated_Source\PSoC5/Bootloader.c ****                 ((pktSize + Bootloader_MIN_PKT_SIZE) > Bootloader_SIZEOF_COMMAND_BUFFER)) 
 842              		.loc 1 1741 0 discriminator 1
 843 00d4 B7F8A232 		ldrh	r3, [r7, #674]
 844 00d8 0733     		adds	r3, r3, #7
1740:Generated_Source\PSoC5/Bootloader.c ****                 ((pktSize + Bootloader_MIN_PKT_SIZE) > Bootloader_SIZEOF_COMMAND_BUFFER)) 
 845              		.loc 1 1740 0 discriminator 1
 846 00da B3F5967F 		cmp	r3, #300
 847 00de 03D9     		bls	.L60
 848              	.L59:
1742:Generated_Source\PSoC5/Bootloader.c ****             {
1743:Generated_Source\PSoC5/Bootloader.c ****                 ackCode = Bootloader_ERR_LENGTH;
 849              		.loc 1 1743 0
 850 00e0 0323     		movs	r3, #3
 851 00e2 87F8A532 		strb	r3, [r7, #677]
 852 00e6 31E0     		b	.L58
 853              	.L60:
1744:Generated_Source\PSoC5/Bootloader.c ****             }
1745:Generated_Source\PSoC5/Bootloader.c ****             else /* Packet length is OK*/
1746:Generated_Source\PSoC5/Bootloader.c ****             {
1747:Generated_Source\PSoC5/Bootloader.c ****                 pktChecksum = ((uint16)((uint16)packetBuffer[Bootloader_CHK_ADDR(pktSize) + 1u] << 
 854              		.loc 1 1747 0
 855 00e8 B7F8A232 		ldrh	r3, [r7, #674]
 856 00ec 0533     		adds	r3, r3, #5
 857 00ee 07F5AA72 		add	r2, r7, #340
 858 00f2 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 859 00f4 9BB2     		uxth	r3, r3
 860 00f6 1B02     		lsls	r3, r3, #8
 861 00f8 9AB2     		uxth	r2, r3
1748:Generated_Source\PSoC5/Bootloader.c ****                                    packetBuffer[Bootloader_CHK_ADDR(pktSize)];
 862              		.loc 1 1748 0
 863 00fa B7F8A232 		ldrh	r3, [r7, #674]
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 47


 864 00fe 0433     		adds	r3, r3, #4
 865 0100 07F5AA71 		add	r1, r7, #340
 866 0104 CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
1747:Generated_Source\PSoC5/Bootloader.c ****                                    packetBuffer[Bootloader_CHK_ADDR(pktSize)];
 867              		.loc 1 1747 0
 868 0106 9BB2     		uxth	r3, r3
 869 0108 1343     		orrs	r3, r3, r2
 870 010a A7F88E32 		strh	r3, [r7, #654]	@ movhi
1749:Generated_Source\PSoC5/Bootloader.c ****    
1750:Generated_Source\PSoC5/Bootloader.c ****                 if (packetBuffer[Bootloader_EOP_ADDR(pktSize)] != Bootloader_EOP)
 871              		.loc 1 1750 0
 872 010e B7F8A232 		ldrh	r3, [r7, #674]
 873 0112 0633     		adds	r3, r3, #6
 874 0114 07F5AA72 		add	r2, r7, #340
 875 0118 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 876 011a 172B     		cmp	r3, #23
 877 011c 03D0     		beq	.L61
1751:Generated_Source\PSoC5/Bootloader.c ****                 {
1752:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_DATA;
 878              		.loc 1 1752 0
 879 011e 0423     		movs	r3, #4
 880 0120 87F8A532 		strb	r3, [r7, #677]
 881 0124 12E0     		b	.L58
 882              	.L61:
1753:Generated_Source\PSoC5/Bootloader.c ****                 }
1754:Generated_Source\PSoC5/Bootloader.c ****                 else if(pktChecksum != Bootloader_CalcPacketChecksum(packetBuffer,
 883              		.loc 1 1754 0
 884 0126 B7F8A232 		ldrh	r3, [r7, #674]	@ movhi
 885 012a 0433     		adds	r3, r3, #4
 886 012c 9AB2     		uxth	r2, r3
 887 012e 07F5AA73 		add	r3, r7, #340
 888 0132 1146     		mov	r1, r2
 889 0134 1846     		mov	r0, r3
 890 0136 FFF7FEFF 		bl	Bootloader_CalcPacketChecksum
 891 013a 0346     		mov	r3, r0
 892 013c 1A46     		mov	r2, r3
 893 013e B7F88E32 		ldrh	r3, [r7, #654]
 894 0142 9342     		cmp	r3, r2
 895 0144 02D0     		beq	.L58
1755:Generated_Source\PSoC5/Bootloader.c ****                                                                         pktSize + Bootloader_DATA_A
1756:Generated_Source\PSoC5/Bootloader.c ****                 {
1757:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_CHECKSUM;
 896              		.loc 1 1757 0
 897 0146 0823     		movs	r3, #8
 898 0148 87F8A532 		strb	r3, [r7, #677]
 899              	.L58:
1758:Generated_Source\PSoC5/Bootloader.c ****                 }
1759:Generated_Source\PSoC5/Bootloader.c ****                 else
1760:Generated_Source\PSoC5/Bootloader.c ****                 {
1761:Generated_Source\PSoC5/Bootloader.c ****                     /* Empty section */
1762:Generated_Source\PSoC5/Bootloader.c ****                 }
1763:Generated_Source\PSoC5/Bootloader.c ****             }    
1764:Generated_Source\PSoC5/Bootloader.c ****         }
1765:Generated_Source\PSoC5/Bootloader.c **** 
1766:Generated_Source\PSoC5/Bootloader.c ****         rspSize = Bootloader_RSP_SIZE_0;
 900              		.loc 1 1766 0
 901 014c 0023     		movs	r3, #0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 48


 902 014e A7F8A632 		strh	r3, [r7, #678]	@ movhi
1767:Generated_Source\PSoC5/Bootloader.c ****         if(ackCode == CYRET_SUCCESS)
 903              		.loc 1 1767 0
 904 0152 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 905 0156 002B     		cmp	r3, #0
 906 0158 40F0C882 		bne	.L62
 907              	.LBB5:
1768:Generated_Source\PSoC5/Bootloader.c ****         {
1769:Generated_Source\PSoC5/Bootloader.c ****             uint8 CYDATA btldrData = packetBuffer[Bootloader_DATA_ADDR];
 908              		.loc 1 1769 0
 909 015c 07F5AA73 		add	r3, r7, #340
 910 0160 1B79     		ldrb	r3, [r3, #4]
 911 0162 87F88D32 		strb	r3, [r7, #653]
1770:Generated_Source\PSoC5/Bootloader.c **** 
1771:Generated_Source\PSoC5/Bootloader.c ****             ackCode = Bootloader_ERR_DATA;
 912              		.loc 1 1771 0
 913 0166 0423     		movs	r3, #4
 914 0168 87F8A532 		strb	r3, [r7, #677]
1772:Generated_Source\PSoC5/Bootloader.c ****             switch(packetBuffer[Bootloader_CMD_ADDR])
 915              		.loc 1 1772 0
 916 016c 07F5AA73 		add	r3, r7, #340
 917 0170 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 918 0172 313B     		subs	r3, r3, #49
 919 0174 0A2B     		cmp	r3, #10
 920 0176 00F24D82 		bhi	.L63
 921 017a 01A2     		adr	r2, .L65
 922 017c 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 923              		.p2align 2
 924              	.L65:
 925 0180 AD010000 		.word	.L64+1
 926 0184 E9010000 		.word	.L66+1
 927 0188 15060000 		.word	.L63+1
 928 018c 87020000 		.word	.L67+1
 929 0190 1F040000 		.word	.L68+1
 930 0194 15060000 		.word	.L63+1
 931 0198 31040000 		.word	.L69+1
 932 019c 83040000 		.word	.L70+1
 933 01a0 87020000 		.word	.L67+1
 934 01a4 CF040000 		.word	.L71+1
 935 01a8 F9050000 		.word	.L72+1
 936              		.p2align 1
 937              	.L64:
1773:Generated_Source\PSoC5/Bootloader.c ****             {
1774:Generated_Source\PSoC5/Bootloader.c **** 
1775:Generated_Source\PSoC5/Bootloader.c **** 
1776:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
1777:Generated_Source\PSoC5/Bootloader.c ****             *   Get metadata (0x3C)
1778:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1779:Generated_Source\PSoC5/Bootloader.c ****             #if(0u != Bootloader_CMD_GET_METADATA)
1780:Generated_Source\PSoC5/Bootloader.c **** 
1781:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_GET_METADATA:
1782:Generated_Source\PSoC5/Bootloader.c **** 
1783:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
1784:Generated_Source\PSoC5/Bootloader.c ****                     {
1785:Generated_Source\PSoC5/Bootloader.c ****                         if (btldrData >= Bootloader_MAX_NUM_OF_BTLDB)
1786:Generated_Source\PSoC5/Bootloader.c ****                         {
1787:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 49


1788:Generated_Source\PSoC5/Bootloader.c ****                         }
1789:Generated_Source\PSoC5/Bootloader.c ****                         else if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(btldrData))
1790:Generated_Source\PSoC5/Bootloader.c ****                         {
1791:Generated_Source\PSoC5/Bootloader.c ****                             #if(CY_PSOC3)
1792:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
1793:Generated_Source\PSoC5/Bootloader.c ****                                             ((uint8  CYCODE *) (Bootloader_MD_BASE_ADDR(btldrData))
1794:Generated_Source\PSoC5/Bootloader.c ****                                             (int8)Bootloader_GET_METADATA_RESPONSE_SIZE);
1795:Generated_Source\PSoC5/Bootloader.c ****                             #else
1796:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
1797:Generated_Source\PSoC5/Bootloader.c ****                                             (uint8 *) Bootloader_MD_BASE_ADDR(btldrData),
1798:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_GET_METADATA_RESPONSE_SIZE);
1799:Generated_Source\PSoC5/Bootloader.c ****                             #endif  /* (CY_PSOC3) */
1800:Generated_Source\PSoC5/Bootloader.c **** 
1801:Generated_Source\PSoC5/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_METADATA;
1802:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
1803:Generated_Source\PSoC5/Bootloader.c ****                         }
1804:Generated_Source\PSoC5/Bootloader.c ****                         else
1805:Generated_Source\PSoC5/Bootloader.c ****                         {
1806:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
1807:Generated_Source\PSoC5/Bootloader.c ****                         }
1808:Generated_Source\PSoC5/Bootloader.c ****                     }
1809:Generated_Source\PSoC5/Bootloader.c ****                     break;
1810:Generated_Source\PSoC5/Bootloader.c **** 
1811:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_GET_METADATA) */
1812:Generated_Source\PSoC5/Bootloader.c **** 
1813:Generated_Source\PSoC5/Bootloader.c **** 
1814:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
1815:Generated_Source\PSoC5/Bootloader.c ****             *   Verify application checksum (0x31)
1816:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1817:Generated_Source\PSoC5/Bootloader.c ****         #if (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL)     
1818:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_CHECKSUM:
1819:Generated_Source\PSoC5/Bootloader.c **** 
1820:Generated_Source\PSoC5/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize == 0u)
 938              		.loc 1 1820 0
 939 01ac 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 940 01b0 012B     		cmp	r3, #1
 941 01b2 40F08A82 		bne	.L117
 942              		.loc 1 1820 0 is_stmt 0 discriminator 1
 943 01b6 B7F8A232 		ldrh	r3, [r7, #674]
 944 01ba 002B     		cmp	r3, #0
 945 01bc 40F08582 		bne	.L117
1821:Generated_Source\PSoC5/Bootloader.c ****                 {
1822:Generated_Source\PSoC5/Bootloader.c ****                     packetBuffer[Bootloader_DATA_ADDR] =
1823:Generated_Source\PSoC5/Bootloader.c ****                             (uint8)(Bootloader_ValidateBootloadable(Bootloader_activeApp) == CYRET_
 946              		.loc 1 1823 0 is_stmt 1
 947 01c0 0020     		movs	r0, #0
 948 01c2 FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 949 01c6 0346     		mov	r3, r0
 950 01c8 002B     		cmp	r3, #0
 951 01ca 0CBF     		ite	eq
 952 01cc 0123     		moveq	r3, #1
 953 01ce 0023     		movne	r3, #0
 954 01d0 DBB2     		uxtb	r3, r3
 955 01d2 1A46     		mov	r2, r3
1822:Generated_Source\PSoC5/Bootloader.c ****                             (uint8)(Bootloader_ValidateBootloadable(Bootloader_activeApp) == CYRET_
 956              		.loc 1 1822 0
 957 01d4 07F5AA73 		add	r3, r7, #340
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 50


 958 01d8 1A71     		strb	r2, [r3, #4]
1824:Generated_Source\PSoC5/Bootloader.c **** 
1825:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_VERIFY_CHKSM;
 959              		.loc 1 1825 0
 960 01da 0123     		movs	r3, #1
 961 01dc A7F8A632 		strh	r3, [r7, #678]	@ movhi
1826:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 962              		.loc 1 1826 0
 963 01e0 0023     		movs	r3, #0
 964 01e2 87F8A532 		strb	r3, [r7, #677]
1827:Generated_Source\PSoC5/Bootloader.c ****                 }
1828:Generated_Source\PSoC5/Bootloader.c ****                 break;
 965              		.loc 1 1828 0
 966 01e6 70E2     		b	.L117
 967              	.L66:
1829:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL) */
1830:Generated_Source\PSoC5/Bootloader.c **** 
1831:Generated_Source\PSoC5/Bootloader.c ****             /*****************************************************************************
1832:Generated_Source\PSoC5/Bootloader.c ****             *   Verify row (0x45u)
1833:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1834:Generated_Source\PSoC5/Bootloader.c ****         #if(0u != Bootloader_CMD_VERIFY_FLS_ROW_AVAIL)
1835:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_VERIFY_FLS_ROW:
1836:Generated_Source\PSoC5/Bootloader.c **** 
1837:Generated_Source\PSoC5/Bootloader.c ****                 /* Packet size is either 3 (data is already in buffer) or (3u + Bootloader_FROW_SIZ
1838:Generated_Source\PSoC5/Bootloader.c ****                  * then data is in packetBuffer[]*/
1839:Generated_Source\PSoC5/Bootloader.c ****                 if ((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && ((3u == pktSiz
1840:Generated_Source\PSoC5/Bootloader.c ****                    ((3u + Bootloader_FROW_SIZE) == pktSize)))
1841:Generated_Source\PSoC5/Bootloader.c ****                 {
1842:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA rowNum = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u
1843:Generated_Source\PSoC5/Bootloader.c ****                                                              packetBuffer[Bootloader_DATA_ADDR + 1u
1844:Generated_Source\PSoC5/Bootloader.c ****                     
1845:Generated_Source\PSoC5/Bootloader.c ****                     uint32 CYDATA startAddr;
1846:Generated_Source\PSoC5/Bootloader.c ****                     uint16 upperRange = 0u;
1847:Generated_Source\PSoC5/Bootloader.c ****                 #if (!CY_PSOC4)
1848:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA rowSize; 
1849:Generated_Source\PSoC5/Bootloader.c ****                 #endif /*(!CY_PSOC4)*/    
1850:Generated_Source\PSoC5/Bootloader.c ****                     
1851:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
1852:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_0;
1853:Generated_Source\PSoC5/Bootloader.c ****                         
1854:Generated_Source\PSoC5/Bootloader.c ****                     if (3u == pktSize)
1855:Generated_Source\PSoC5/Bootloader.c ****                     {
1856:Generated_Source\PSoC5/Bootloader.c ****                         /* Do nothing, data is already in dataBuffer[] */
1857:Generated_Source\PSoC5/Bootloader.c ****                     }
1858:Generated_Source\PSoC5/Bootloader.c ****                     else 
1859:Generated_Source\PSoC5/Bootloader.c ****                     {
1860:Generated_Source\PSoC5/Bootloader.c ****                     #if (CY_PSOC3)
1861:Generated_Source\PSoC5/Bootloader.c ****                         /*Data is in packetBuffer[], needs to be copied to dataBuffer[]*/
1862:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(dataBuffer, &packetBuffer[Bootloader_DATA_ADDR + 3u],
1863:Generated_Source\PSoC5/Bootloader.c ****                                       (int16)pktSize - 3);
1864:Generated_Source\PSoC5/Bootloader.c ****                     #else              
1865:Generated_Source\PSoC5/Bootloader.c ****                         /*Data is in packetBuffer[], needs to be copied to dataBuffer[]*/
1866:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(dataBuffer, &packetBuffer[Bootloader_DATA_ADDR + 3u],
1867:Generated_Source\PSoC5/Bootloader.c ****                                       (uint32)pktSize - 3u);
1868:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*CY_PSOC3)*/              
1869:Generated_Source\PSoC5/Bootloader.c ****                     }
1870:Generated_Source\PSoC5/Bootloader.c ****                         
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 51


1871:Generated_Source\PSoC5/Bootloader.c ****                 #if (!CY_PSOC4) 
1872:Generated_Source\PSoC5/Bootloader.c ****                     if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
1873:Generated_Source\PSoC5/Bootloader.c ****                        (btldrData <= Bootloader_LAST_EE_ARRAYID))
1874:Generated_Source\PSoC5/Bootloader.c ****                     {
1875:Generated_Source\PSoC5/Bootloader.c ****                         /* EEPROM */
1876:Generated_Source\PSoC5/Bootloader.c ****                         /* Both PSoC 3 and PSoC 5LP architecture have one EEPROM array. */
1877:Generated_Source\PSoC5/Bootloader.c ****                         startAddr = CY_EEPROM_BASE + ((uint32)rowNum * CYDEV_EEPROM_ROW_SIZE);
1878:Generated_Source\PSoC5/Bootloader.c ****                         rowSize = CYDEV_EEPROM_ROW_SIZE;
1879:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF_ROW
1880:Generated_Source\PSoC5/Bootloader.c ****                     }
1881:Generated_Source\PSoC5/Bootloader.c ****                     else if (btldrData < CY_FLASH_NUMBER_ARRAYS)    
1882:Generated_Source\PSoC5/Bootloader.c ****                     {
1883:Generated_Source\PSoC5/Bootloader.c ****                         startAddr = CY_FLASH_BASE + ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE) +
1884:Generated_Source\PSoC5/Bootloader.c ****                                                      ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
1885:Generated_Source\PSoC5/Bootloader.c ****                         rowSize = CYDEV_FLS_ROW_SIZE;        
1886:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;                        
1887:Generated_Source\PSoC5/Bootloader.c ****                     }
1888:Generated_Source\PSoC5/Bootloader.c ****                     else
1889:Generated_Source\PSoC5/Bootloader.c ****                     {
1890:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_ARRAY;
1891:Generated_Source\PSoC5/Bootloader.c ****                         break;                              
1892:Generated_Source\PSoC5/Bootloader.c ****                     }
1893:Generated_Source\PSoC5/Bootloader.c **** 
1894:Generated_Source\PSoC5/Bootloader.c ****                     /*Checking if row number is within array address range*/
1895:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, upperRange);
1896:Generated_Source\PSoC5/Bootloader.c ****                     
1897:Generated_Source\PSoC5/Bootloader.c ****                     if (CYRET_SUCCESS != ackCode)
1898:Generated_Source\PSoC5/Bootloader.c ****                     {
1899:Generated_Source\PSoC5/Bootloader.c ****                         break;
1900:Generated_Source\PSoC5/Bootloader.c ****                     }
1901:Generated_Source\PSoC5/Bootloader.c ****                     
1902:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_VerifyRow(startAddr, dataBuffer, rowSize);
1903:Generated_Source\PSoC5/Bootloader.c ****                     
1904:Generated_Source\PSoC5/Bootloader.c ****                     /******************************************************************************
1905:Generated_Source\PSoC5/Bootloader.c ****                     * If flash row check has completed successfully and ECC is disabled and there i
1906:Generated_Source\PSoC5/Bootloader.c ****                     * data in the buffer for ECC row.
1907:Generated_Source\PSoC5/Bootloader.c ****                     *******************************************************************************
1908:Generated_Source\PSoC5/Bootloader.c ****                     #if (CYDEV_ECC_ENABLE == 0u)
1909:Generated_Source\PSoC5/Bootloader.c ****                         if ((CYRET_SUCCESS == ackCode) && (btldrData < CY_FLASH_NUMBER_ARRAYS) && (
1910:Generated_Source\PSoC5/Bootloader.c ****                         {
1911:Generated_Source\PSoC5/Bootloader.c ****                             startAddr = CYDEV_ECC_BASE + ((uint32)btldrData * (CYDEV_FLS_SECTOR_SIZ
1912:Generated_Source\PSoC5/Bootloader.c ****                                         ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
1913:Generated_Source\PSoC5/Bootloader.c ****                                                 
1914:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_VerifyRow(startAddr, &dataBuffer[rowSize], (uint16
1915:Generated_Source\PSoC5/Bootloader.c ****                         }
1916:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*(CYDEV_ECC_ENABLE == 0u)*/
1917:Generated_Source\PSoC5/Bootloader.c ****                     
1918:Generated_Source\PSoC5/Bootloader.c ****                 #else /*CY_PSOC4*/
1919:Generated_Source\PSoC5/Bootloader.c ****                     if (btldrData < CY_FLASH_NUMBER_ARRAYS)
1920:Generated_Source\PSoC5/Bootloader.c ****                     {
1921:Generated_Source\PSoC5/Bootloader.c ****                         startAddr = CY_FLASH_BASE + ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
1922:Generated_Source\PSoC5/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
1923:Generated_Source\PSoC5/Bootloader.c **** 
1924:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;         
1925:Generated_Source\PSoC5/Bootloader.c ****                         
1926:Generated_Source\PSoC5/Bootloader.c ****                         /*Checking if row number is within array address range*/
1927:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, upperRange);
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 52


1928:Generated_Source\PSoC5/Bootloader.c ****                     
1929:Generated_Source\PSoC5/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
1930:Generated_Source\PSoC5/Bootloader.c ****                         {
1931:Generated_Source\PSoC5/Bootloader.c ****                             break;
1932:Generated_Source\PSoC5/Bootloader.c ****                         }
1933:Generated_Source\PSoC5/Bootloader.c ****                         
1934:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_VerifyRow(startAddr, dataBuffer, (uint16)CYDEV_FLS_ROW
1935:Generated_Source\PSoC5/Bootloader.c ****                     }
1936:Generated_Source\PSoC5/Bootloader.c ****                     else
1937:Generated_Source\PSoC5/Bootloader.c ****                     {
1938:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_ARRAY;
1939:Generated_Source\PSoC5/Bootloader.c ****                         break;                     
1940:Generated_Source\PSoC5/Bootloader.c ****                     }
1941:Generated_Source\PSoC5/Bootloader.c ****                 #endif  /* (!CY_PSOC4) */
1942:Generated_Source\PSoC5/Bootloader.c ****                 
1943:Generated_Source\PSoC5/Bootloader.c ****                 } 
1944:Generated_Source\PSoC5/Bootloader.c ****                 break;
1945:Generated_Source\PSoC5/Bootloader.c ****         #endif /*(0u != Bootloader_CMD_VERIFY_ROW_FLS_AVAIL)*/
1946:Generated_Source\PSoC5/Bootloader.c **** 
1947:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
1948:Generated_Source\PSoC5/Bootloader.c ****             *   Get flash size (0x32)
1949:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
1950:Generated_Source\PSoC5/Bootloader.c ****             #if(0u != Bootloader_CMD_GET_FLASH_SIZE_AVAIL)
1951:Generated_Source\PSoC5/Bootloader.c **** 
1952:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_REPORT_SIZE:
1953:Generated_Source\PSoC5/Bootloader.c **** 
1954:Generated_Source\PSoC5/Bootloader.c ****                     /* btldrData - holds flash array ID sent by host */
1955:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
 968              		.loc 1 1955 0
 969 01e8 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 970 01ec 012B     		cmp	r3, #1
 971 01ee 40F06E82 		bne	.L118
 972              		.loc 1 1955 0 is_stmt 0 discriminator 1
 973 01f2 B7F8A232 		ldrh	r3, [r7, #674]
 974 01f6 012B     		cmp	r3, #1
 975 01f8 40F06982 		bne	.L118
1956:Generated_Source\PSoC5/Bootloader.c ****                     {
1957:Generated_Source\PSoC5/Bootloader.c ****                         if(btldrData < CY_FLASH_NUMBER_ARRAYS)
 976              		.loc 1 1957 0 is_stmt 1
 977 01fc 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 978 0200 032B     		cmp	r3, #3
 979 0202 00F26482 		bhi	.L118
 980              	.LBB6:
1958:Generated_Source\PSoC5/Bootloader.c ****                         {
1959:Generated_Source\PSoC5/Bootloader.c ****                             uint16 CYDATA startRow;
1960:Generated_Source\PSoC5/Bootloader.c ****                             uint8  CYDATA arrayIdBtlderEnds;
1961:Generated_Source\PSoC5/Bootloader.c **** 
1962:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
1963:Generated_Source\PSoC5/Bootloader.c ****                             * - For the flash array where the Bootloader application ends, returns 
1964:Generated_Source\PSoC5/Bootloader.c ****                             *   full row after the Bootloader application.
1965:Generated_Source\PSoC5/Bootloader.c ****                             *
1966:Generated_Source\PSoC5/Bootloader.c ****                             * - For a fully occupied flash array, the number of rows in the array i
1967:Generated_Source\PSoC5/Bootloader.c ****                             *   because there is no space for the Bootloadable application in this 
1968:Generated_Source\PSoC5/Bootloader.c ****                             *
1969:Generated_Source\PSoC5/Bootloader.c ****                             * - For the arrays next to the occupied array, zero is returned.
1970:Generated_Source\PSoC5/Bootloader.c ****                             *   The Bootloadable application can be written from those arrays begin
1971:Generated_Source\PSoC5/Bootloader.c ****                             *
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 53


1972:Generated_Source\PSoC5/Bootloader.c ****                             *   If this is a Bootloader that is located in an application (Combinat
1973:Generated_Source\PSoC5/Bootloader.c ****                             *   then we do not use the Bootloader_SizeBytes and Bootloader_SizeByte
1974:Generated_Source\PSoC5/Bootloader.c ****                             *   variables, instead we take the Launcher's last row from metadata.
1975:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
1976:Generated_Source\PSoC5/Bootloader.c ****                         #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
1977:Generated_Source\PSoC5/Bootloader.c ****                             arrayIdBtlderEnds = (uint8) (*Bootloader_SizeBytesAccess / CY_FLASH_SIZ
 981              		.loc 1 1977 0
 982 0206 D84B     		ldr	r3, .L126
 983 0208 1B68     		ldr	r3, [r3]
 984 020a 1B68     		ldr	r3, [r3]
 985 020c 1B0C     		lsrs	r3, r3, #16
 986 020e 87F88C32 		strb	r3, [r7, #652]
1978:Generated_Source\PSoC5/Bootloader.c **** 
1979:Generated_Source\PSoC5/Bootloader.c ****                             if (btldrData == arrayIdBtlderEnds)
 987              		.loc 1 1979 0
 988 0212 97F88D22 		ldrb	r2, [r7, #653]	@ zero_extendqisi2
 989 0216 97F88C32 		ldrb	r3, [r7, #652]	@ zero_extendqisi2
 990 021a 9A42     		cmp	r2, r3
 991 021c 08D1     		bne	.L75
1980:Generated_Source\PSoC5/Bootloader.c ****                             {
1981:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = (uint16) (*Bootloader_SizeBytesAccess / CY_FLASH_SIZEOF_
 992              		.loc 1 1981 0
 993 021e D24B     		ldr	r3, .L126
 994 0220 1B68     		ldr	r3, [r3]
 995 0222 1B68     		ldr	r3, [r3]
 996 0224 1B0A     		lsrs	r3, r3, #8
 997 0226 9BB2     		uxth	r3, r3
 998 0228 DBB2     		uxtb	r3, r3
 999 022a A7F89C32 		strh	r3, [r7, #668]	@ movhi
 1000 022e 0DE0     		b	.L76
 1001              	.L75:
1982:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
1983:Generated_Source\PSoC5/Bootloader.c ****                             }
1984:Generated_Source\PSoC5/Bootloader.c ****                         #else /*Combination project type*/   
1985:Generated_Source\PSoC5/Bootloader.c ****                             btldrLastRow = (uint16)(Bootloader_GetMetadata(Bootloader_GET_BTLDR_LAS
1986:Generated_Source\PSoC5/Bootloader.c ****                                                                                 Bootloader_MD_BTLDB
1987:Generated_Source\PSoC5/Bootloader.c ****                             arrayIdBtlderEnds = (uint8) (((uint32)btldrLastRow * CY_FLASH_SIZEOF_RO
1988:Generated_Source\PSoC5/Bootloader.c ****                             if (btldrData == arrayIdBtlderEnds)
1989:Generated_Source\PSoC5/Bootloader.c ****                             {
1990:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = (uint16)((btldrLastRow) % Bootloader_NUMBER_OF_ROWS_IN_A
1991:Generated_Source\PSoC5/Bootloader.c ****                             }
1992:Generated_Source\PSoC5/Bootloader.c ****                         #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
1993:Generated_Source\PSoC5/Bootloader.c ****                         
1994:Generated_Source\PSoC5/Bootloader.c ****                             else if (btldrData > arrayIdBtlderEnds)
 1002              		.loc 1 1994 0
 1003 0230 97F88D22 		ldrb	r2, [r7, #653]	@ zero_extendqisi2
 1004 0234 97F88C32 		ldrb	r3, [r7, #652]	@ zero_extendqisi2
 1005 0238 9A42     		cmp	r2, r3
 1006 023a 03D9     		bls	.L77
1995:Generated_Source\PSoC5/Bootloader.c ****                             {
1996:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = Bootloader_FIRST_ROW_IN_ARRAY;
 1007              		.loc 1 1996 0
 1008 023c 0023     		movs	r3, #0
 1009 023e A7F89C32 		strh	r3, [r7, #668]	@ movhi
 1010 0242 03E0     		b	.L76
 1011              	.L77:
1997:Generated_Source\PSoC5/Bootloader.c ****                             }
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 54


1998:Generated_Source\PSoC5/Bootloader.c ****                             else /* (btldrData < ArrayIdBtlderEnds) */
1999:Generated_Source\PSoC5/Bootloader.c ****                             {
2000:Generated_Source\PSoC5/Bootloader.c ****                                 startRow = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
 1012              		.loc 1 2000 0
 1013 0244 4FF48073 		mov	r3, #256
 1014 0248 A7F89C32 		strh	r3, [r7, #668]	@ movhi
 1015              	.L76:
2001:Generated_Source\PSoC5/Bootloader.c ****                             }
2002:Generated_Source\PSoC5/Bootloader.c **** 
2003:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR]      = LO8(startRow);
 1016              		.loc 1 2003 0
 1017 024c B7F89C32 		ldrh	r3, [r7, #668]	@ movhi
 1018 0250 DAB2     		uxtb	r2, r3
 1019 0252 07F5AA73 		add	r3, r7, #340
 1020 0256 1A71     		strb	r2, [r3, #4]
2004:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 1u] = HI8(startRow);
 1021              		.loc 1 2004 0
 1022 0258 B7F89C32 		ldrh	r3, [r7, #668]
 1023 025c 1B0A     		lsrs	r3, r3, #8
 1024 025e 9BB2     		uxth	r3, r3
 1025 0260 DAB2     		uxtb	r2, r3
 1026 0262 07F5AA73 		add	r3, r7, #340
 1027 0266 5A71     		strb	r2, [r3, #5]
2005:Generated_Source\PSoC5/Bootloader.c **** 
2006:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 2u] =
 1028              		.loc 1 2006 0
 1029 0268 07F5AA73 		add	r3, r7, #340
 1030 026c FF22     		movs	r2, #255
 1031 026e 9A71     		strb	r2, [r3, #6]
2007:Generated_Source\PSoC5/Bootloader.c ****                                         LO8(Bootloader_NUMBER_OF_ROWS_IN_ARRAY - 1u);
2008:Generated_Source\PSoC5/Bootloader.c **** 
2009:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 3u] =
 1032              		.loc 1 2009 0
 1033 0270 07F5AA73 		add	r3, r7, #340
 1034 0274 0022     		movs	r2, #0
 1035 0276 DA71     		strb	r2, [r3, #7]
2010:Generated_Source\PSoC5/Bootloader.c ****                                         HI8(Bootloader_NUMBER_OF_ROWS_IN_ARRAY - 1u);
2011:Generated_Source\PSoC5/Bootloader.c **** 
2012:Generated_Source\PSoC5/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_FLASH_SIZE;
 1036              		.loc 1 2012 0
 1037 0278 0423     		movs	r3, #4
 1038 027a A7F8A632 		strh	r3, [r7, #678]	@ movhi
2013:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
 1039              		.loc 1 2013 0
 1040 027e 0023     		movs	r3, #0
 1041 0280 87F8A532 		strb	r3, [r7, #677]
 1042              	.LBE6:
2014:Generated_Source\PSoC5/Bootloader.c ****                         }
2015:Generated_Source\PSoC5/Bootloader.c **** 
2016:Generated_Source\PSoC5/Bootloader.c ****                     }
2017:Generated_Source\PSoC5/Bootloader.c ****                     break;
 1043              		.loc 1 2017 0
 1044 0284 23E2     		b	.L118
 1045              	.L67:
2018:Generated_Source\PSoC5/Bootloader.c **** 
2019:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_GET_FLASH_SIZE_AVAIL) */
2020:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 55


2021:Generated_Source\PSoC5/Bootloader.c **** 
2022:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2023:Generated_Source\PSoC5/Bootloader.c ****             *   Get application status (0x33)
2024:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2025:Generated_Source\PSoC5/Bootloader.c ****             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOAD
2026:Generated_Source\PSoC5/Bootloader.c **** 
2027:Generated_Source\PSoC5/Bootloader.c ****                 #if(0u != Bootloader_CMD_GET_APP_STATUS_AVAIL)
2028:Generated_Source\PSoC5/Bootloader.c **** 
2029:Generated_Source\PSoC5/Bootloader.c ****                     case Bootloader_COMMAND_APP_STATUS:
2030:Generated_Source\PSoC5/Bootloader.c **** 
2031:Generated_Source\PSoC5/Bootloader.c ****                         if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (1u == 
2032:Generated_Source\PSoC5/Bootloader.c ****                         {
2033:Generated_Source\PSoC5/Bootloader.c **** 
2034:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR] =
2035:Generated_Source\PSoC5/Bootloader.c ****                                 (uint8)Bootloader_ValidateBootloadable(btldrData);
2036:Generated_Source\PSoC5/Bootloader.c **** 
2037:Generated_Source\PSoC5/Bootloader.c ****                             packetBuffer[Bootloader_DATA_ADDR + 1u] =
2038:Generated_Source\PSoC5/Bootloader.c ****                                 (uint8) Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE, btldrDa
2039:Generated_Source\PSoC5/Bootloader.c **** 
2040:Generated_Source\PSoC5/Bootloader.c ****                             rspSize = Bootloader_RSP_SIZE_GET_APP_STATUS;
2041:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
2042:Generated_Source\PSoC5/Bootloader.c ****                         }
2043:Generated_Source\PSoC5/Bootloader.c ****                         break;
2044:Generated_Source\PSoC5/Bootloader.c **** 
2045:Generated_Source\PSoC5/Bootloader.c ****                 #endif  /* (0u != Bootloader_CMD_GET_APP_STATUS_AVAIL) */
2046:Generated_Source\PSoC5/Bootloader.c **** 
2047:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER || (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE
2048:Generated_Source\PSoC5/Bootloader.c **** 
2049:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2050:Generated_Source\PSoC5/Bootloader.c ****             *   Program / Erase row (0x39 / 0x34)
2051:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2052:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_PROGRAM:
2053:Generated_Source\PSoC5/Bootloader.c **** 
2054:Generated_Source\PSoC5/Bootloader.c ****             /* btldrData variable holds Flash Array ID */
2055:Generated_Source\PSoC5/Bootloader.c **** 
2056:Generated_Source\PSoC5/Bootloader.c ****         #if (0u != Bootloader_CMD_ERASE_ROW_AVAIL)
2057:Generated_Source\PSoC5/Bootloader.c **** 
2058:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_ERASE:
2059:Generated_Source\PSoC5/Bootloader.c ****                 if (Bootloader_COMMAND_ERASE == packetBuffer[Bootloader_CMD_ADDR])
 1046              		.loc 1 2059 0
 1047 0286 07F5AA73 		add	r3, r7, #340
 1048 028a 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 1049 028c 342B     		cmp	r3, #52
 1050 028e 21D1     		bne	.L78
2060:Generated_Source\PSoC5/Bootloader.c ****                 {
2061:Generated_Source\PSoC5/Bootloader.c ****                     if ((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize =
 1051              		.loc 1 2061 0
 1052 0290 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1053 0294 012B     		cmp	r3, #1
 1054 0296 40F02982 		bne	.L62
 1055              		.loc 1 2061 0 is_stmt 0 discriminator 1
 1056 029a B7F8A232 		ldrh	r3, [r7, #674]
 1057 029e 032B     		cmp	r3, #3
 1058 02a0 40F02482 		bne	.L62
2062:Generated_Source\PSoC5/Bootloader.c ****                     {
2063:Generated_Source\PSoC5/Bootloader.c ****                         #if(!CY_PSOC4)
2064:Generated_Source\PSoC5/Bootloader.c ****                             if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 56


 1059              		.loc 1 2064 0 is_stmt 1
 1060 02a4 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1061 02a8 3F2B     		cmp	r3, #63
 1062 02aa 07D9     		bls	.L79
2065:Generated_Source\PSoC5/Bootloader.c ****                                (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1063              		.loc 1 2065 0 discriminator 1
 1064 02ac 97F98D32 		ldrsb	r3, [r7, #653]
2064:Generated_Source\PSoC5/Bootloader.c ****                                (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1065              		.loc 1 2064 0 discriminator 1
 1066 02b0 002B     		cmp	r3, #0
 1067 02b2 03DB     		blt	.L79
2066:Generated_Source\PSoC5/Bootloader.c ****                             {
2067:Generated_Source\PSoC5/Bootloader.c ****                                 /* Size of EEPROM row */
2068:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = CY_EEPROM_SIZEOF_ROW;
 1068              		.loc 1 2068 0
 1069 02b4 1023     		movs	r3, #16
 1070 02b6 A7F89E32 		strh	r3, [r7, #670]	@ movhi
 1071 02ba 03E0     		b	.L80
 1072              	.L79:
2069:Generated_Source\PSoC5/Bootloader.c ****                             }
2070:Generated_Source\PSoC5/Bootloader.c ****                             else
2071:Generated_Source\PSoC5/Bootloader.c ****                             {
2072:Generated_Source\PSoC5/Bootloader.c ****                                 /* Size of flash row (depends on ECC configuration) */
2073:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = Bootloader_FROW_SIZE;
 1073              		.loc 1 2073 0
 1074 02bc 4FF48073 		mov	r3, #256
 1075 02c0 A7F89E32 		strh	r3, [r7, #670]	@ movhi
 1076              	.L80:
2074:Generated_Source\PSoC5/Bootloader.c ****                             }
2075:Generated_Source\PSoC5/Bootloader.c ****                         #else
2076:Generated_Source\PSoC5/Bootloader.c ****                             /* Size of flash row (no ECC available) */
2077:Generated_Source\PSoC5/Bootloader.c ****                             dataOffset = Bootloader_FROW_SIZE;
2078:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2079:Generated_Source\PSoC5/Bootloader.c **** 
2080:Generated_Source\PSoC5/Bootloader.c ****                         #if(CY_PSOC3)
2081:Generated_Source\PSoC5/Bootloader.c ****                             (void) memset(dataBuffer, (char8) 0, (int16) dataOffset);
2082:Generated_Source\PSoC5/Bootloader.c ****                         #else
2083:Generated_Source\PSoC5/Bootloader.c ****                             (void) memset(dataBuffer, 0, (uint32) dataOffset);
 1077              		.loc 1 2083 0
 1078 02c4 B7F89E22 		ldrh	r2, [r7, #670]
 1079 02c8 07F12803 		add	r3, r7, #40
 1080 02cc 0021     		movs	r1, #0
 1081 02ce 1846     		mov	r0, r3
 1082 02d0 FFF7FEFF 		bl	memset
 1083              	.L78:
2084:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (CY_PSOC3) */
2085:Generated_Source\PSoC5/Bootloader.c ****                     }
2086:Generated_Source\PSoC5/Bootloader.c ****                     else
2087:Generated_Source\PSoC5/Bootloader.c ****                     {
2088:Generated_Source\PSoC5/Bootloader.c ****                         break;
2089:Generated_Source\PSoC5/Bootloader.c ****                     }
2090:Generated_Source\PSoC5/Bootloader.c ****                 }
2091:Generated_Source\PSoC5/Bootloader.c **** 
2092:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (0u != Bootloader_CMD_ERASE_ROW_AVAIL) */
2093:Generated_Source\PSoC5/Bootloader.c **** 
2094:Generated_Source\PSoC5/Bootloader.c **** 
2095:Generated_Source\PSoC5/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize >= 3u)
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 57


 1084              		.loc 1 2095 0
 1085 02d4 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1086 02d8 012B     		cmp	r3, #1
 1087 02da 40F0FA81 		bne	.L119
 1088              		.loc 1 2095 0 is_stmt 0 discriminator 1
 1089 02de B7F8A232 		ldrh	r3, [r7, #674]
 1090 02e2 022B     		cmp	r3, #2
 1091 02e4 40F2F581 		bls	.L119
 1092              	.LBB7:
2096:Generated_Source\PSoC5/Bootloader.c ****                 {
2097:Generated_Source\PSoC5/Bootloader.c ****                     uint16 upperRange;
2098:Generated_Source\PSoC5/Bootloader.c **** 
2099:Generated_Source\PSoC5/Bootloader.c ****                     /* Command may be sent along with last block of data, to program row. */
2100:Generated_Source\PSoC5/Bootloader.c ****                     #if(CY_PSOC3)
2101:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&dataBuffer[dataOffset],
2102:Generated_Source\PSoC5/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
2103:Generated_Source\PSoC5/Bootloader.c ****                                       (int16) pktSize - 3);
2104:Generated_Source\PSoC5/Bootloader.c ****                     #else
2105:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&dataBuffer[dataOffset],
 1093              		.loc 1 2105 0 is_stmt 1
 1094 02e8 B7F89E32 		ldrh	r3, [r7, #670]
 1095 02ec 07F12802 		add	r2, r7, #40
 1096 02f0 D018     		adds	r0, r2, r3
2106:Generated_Source\PSoC5/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
2107:Generated_Source\PSoC5/Bootloader.c ****                                       (uint32) pktSize - 3u);
 1097              		.loc 1 2107 0
 1098 02f2 B7F8A232 		ldrh	r3, [r7, #674]
 1099 02f6 DA1E     		subs	r2, r3, #3
2105:Generated_Source\PSoC5/Bootloader.c ****                                       &packetBuffer[Bootloader_DATA_ADDR + 3u],
 1100              		.loc 1 2105 0
 1101 02f8 07F5AA73 		add	r3, r7, #340
 1102 02fc 0733     		adds	r3, r3, #7
 1103 02fe 1946     		mov	r1, r3
 1104 0300 FFF7FEFF 		bl	memcpy
2108:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (CY_PSOC3) */
2109:Generated_Source\PSoC5/Bootloader.c **** 
2110:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset += (pktSize - 3u);
 1105              		.loc 1 2110 0
 1106 0304 B7F89E22 		ldrh	r2, [r7, #670]	@ movhi
 1107 0308 B7F8A232 		ldrh	r3, [r7, #674]	@ movhi
 1108 030c 1344     		add	r3, r3, r2
 1109 030e 9BB2     		uxth	r3, r3
 1110 0310 033B     		subs	r3, r3, #3
 1111 0312 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2111:Generated_Source\PSoC5/Bootloader.c **** 
2112:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4)
2113:Generated_Source\PSoC5/Bootloader.c ****                         if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
 1112              		.loc 1 2113 0
 1113 0316 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1114 031a 3F2B     		cmp	r3, #63
 1115 031c 0CD9     		bls	.L82
2114:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1116              		.loc 1 2114 0 discriminator 1
 1117 031e 97F98D32 		ldrsb	r3, [r7, #653]
2113:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1118              		.loc 1 2113 0 discriminator 1
 1119 0322 002B     		cmp	r3, #0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 58


 1120 0324 08DB     		blt	.L82
2115:Generated_Source\PSoC5/Bootloader.c ****                         {
2116:Generated_Source\PSoC5/Bootloader.c ****                             CyEEPROM_Start();
 1121              		.loc 1 2116 0
 1122 0326 FFF7FEFF 		bl	CyEEPROM_Start
2117:Generated_Source\PSoC5/Bootloader.c **** 
2118:Generated_Source\PSoC5/Bootloader.c ****                             /* Size of EEPROM row */
2119:Generated_Source\PSoC5/Bootloader.c ****                             pktSize = CY_EEPROM_SIZEOF_ROW;                            
 1123              		.loc 1 2119 0
 1124 032a 1023     		movs	r3, #16
 1125 032c A7F8A232 		strh	r3, [r7, #674]	@ movhi
2120:Generated_Source\PSoC5/Bootloader.c ****                             upperRange = Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF
 1126              		.loc 1 2120 0
 1127 0330 8023     		movs	r3, #128
 1128 0332 A7F89A32 		strh	r3, [r7, #666]	@ movhi
 1129 0336 07E0     		b	.L83
 1130              	.L82:
2121:Generated_Source\PSoC5/Bootloader.c ****                         }
2122:Generated_Source\PSoC5/Bootloader.c ****                         else
2123:Generated_Source\PSoC5/Bootloader.c ****                         {
2124:Generated_Source\PSoC5/Bootloader.c ****                             /* Size of flash row (depends on ECC configuration) */
2125:Generated_Source\PSoC5/Bootloader.c ****                             pktSize = Bootloader_FROW_SIZE;                            
 1131              		.loc 1 2125 0
 1132 0338 4FF48073 		mov	r3, #256
 1133 033c A7F8A232 		strh	r3, [r7, #674]	@ movhi
2126:Generated_Source\PSoC5/Bootloader.c ****                             upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
 1134              		.loc 1 2126 0
 1135 0340 4FF48073 		mov	r3, #256
 1136 0344 A7F89A32 		strh	r3, [r7, #666]	@ movhi
 1137              	.L83:
2127:Generated_Source\PSoC5/Bootloader.c ****                         }
2128:Generated_Source\PSoC5/Bootloader.c ****                     #else
2129:Generated_Source\PSoC5/Bootloader.c ****                         /* Size of flash row (no ECC available) */
2130:Generated_Source\PSoC5/Bootloader.c ****                         pktSize = Bootloader_FROW_SIZE;                            
2131:Generated_Source\PSoC5/Bootloader.c ****                         upperRange = Bootloader_NUMBER_OF_ROWS_IN_ARRAY;
2132:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (!CY_PSOC4) */
2133:Generated_Source\PSoC5/Bootloader.c **** 
2134:Generated_Source\PSoC5/Bootloader.c ****                     /* Check if we have all data to program */
2135:Generated_Source\PSoC5/Bootloader.c ****                     if(dataOffset == pktSize)
 1138              		.loc 1 2135 0
 1139 0348 B7F89E22 		ldrh	r2, [r7, #670]
 1140 034c B7F8A232 		ldrh	r3, [r7, #674]
 1141 0350 9A42     		cmp	r2, r3
 1142 0352 5DD1     		bne	.L84
 1143              	.LBB8:
2136:Generated_Source\PSoC5/Bootloader.c ****                     {
2137:Generated_Source\PSoC5/Bootloader.c ****                         uint16 row;
2138:Generated_Source\PSoC5/Bootloader.c ****                         uint16 firstRow;    
2139:Generated_Source\PSoC5/Bootloader.c ****                     #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) && \
2140:Generated_Source\PSoC5/Bootloader.c ****                           (1u == Bootloader_GOLDEN_IMAGE_AVAIL))
2141:Generated_Source\PSoC5/Bootloader.c ****                         cystatus goldenImageValid;
2142:Generated_Source\PSoC5/Bootloader.c ****                     #endif /*(((0u != Bootloader_DUAL_APP_BOOTLOADER) &&
2143:Generated_Source\PSoC5/Bootloader.c ****                                (1u == Bootloader_GOLDEN_IMAGE_AVAIL))*/
2144:Generated_Source\PSoC5/Bootloader.c **** 
2145:Generated_Source\PSoC5/Bootloader.c ****                         /* Get flash/EEPROM row number inside array */
2146:Generated_Source\PSoC5/Bootloader.c ****                         dataOffset = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u] << 8
 1144              		.loc 1 2146 0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 59


 1145 0354 07F5AA73 		add	r3, r7, #340
 1146 0358 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1147 035a 9BB2     		uxth	r3, r3
 1148 035c 1B02     		lsls	r3, r3, #8
 1149 035e 9AB2     		uxth	r2, r3
2147:Generated_Source\PSoC5/Bootloader.c ****                                               packetBuffer[Bootloader_DATA_ADDR + 1u];
 1150              		.loc 1 2147 0
 1151 0360 07F5AA73 		add	r3, r7, #340
 1152 0364 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
2146:Generated_Source\PSoC5/Bootloader.c ****                                               packetBuffer[Bootloader_DATA_ADDR + 1u];
 1153              		.loc 1 2146 0
 1154 0366 9BB2     		uxth	r3, r3
 1155 0368 1343     		orrs	r3, r3, r2
 1156 036a A7F89E32 		strh	r3, [r7, #670]	@ movhi
2148:Generated_Source\PSoC5/Bootloader.c **** 
2149:Generated_Source\PSoC5/Bootloader.c ****                         /*Checking if row number is within array address range*/
2150:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(dataOffset, upperRange);
 1157              		.loc 1 2150 0
 1158 036e B7F89E22 		ldrh	r2, [r7, #670]
 1159 0372 B7F89A32 		ldrh	r3, [r7, #666]
 1160 0376 9A42     		cmp	r2, r3
 1161 0378 01D2     		bcs	.L85
 1162              		.loc 1 2150 0 is_stmt 0 discriminator 1
 1163 037a 0023     		movs	r3, #0
 1164 037c 00E0     		b	.L86
 1165              	.L85:
 1166              		.loc 1 2150 0 discriminator 2
 1167 037e 0A23     		movs	r3, #10
 1168              	.L86:
 1169              		.loc 1 2150 0 discriminator 4
 1170 0380 87F8A532 		strb	r3, [r7, #677]
2151:Generated_Source\PSoC5/Bootloader.c ****                     
2152:Generated_Source\PSoC5/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
 1171              		.loc 1 2152 0 is_stmt 1 discriminator 4
 1172 0384 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1173 0388 002B     		cmp	r3, #0
 1174 038a 40F0A481 		bne	.L120
2153:Generated_Source\PSoC5/Bootloader.c ****                         {
2154:Generated_Source\PSoC5/Bootloader.c ****                             break;
2155:Generated_Source\PSoC5/Bootloader.c ****                         }
2156:Generated_Source\PSoC5/Bootloader.c ****                         
2157:Generated_Source\PSoC5/Bootloader.c ****                         /* Metadata section resides in flash (cannot be in EEPROM). */
2158:Generated_Source\PSoC5/Bootloader.c ****                         #if(!CY_PSOC4)
2159:Generated_Source\PSoC5/Bootloader.c ****                             if(btldrData <= Bootloader_LAST_FLASH_ARRAYID)
 1175              		.loc 1 2159 0
 1176 038e 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1177 0392 3F2B     		cmp	r3, #63
 1178 0394 27D8     		bhi	.L88
2160:Generated_Source\PSoC5/Bootloader.c ****                             {
2161:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2162:Generated_Source\PSoC5/Bootloader.c ****                 
2163:Generated_Source\PSoC5/Bootloader.c ****                         /* btldrData  - holds flash array Id sent by host */
2164:Generated_Source\PSoC5/Bootloader.c ****                         /* dataOffset - holds flash row Id sent by host   */
2165:Generated_Source\PSoC5/Bootloader.c ****                         row = (uint16)(btldrData * Bootloader_NUMBER_OF_ROWS_IN_ARRAY) + dataOffset
 1179              		.loc 1 2165 0
 1180 0396 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1181 039a 9BB2     		uxth	r3, r3
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 60


 1182 039c 1B02     		lsls	r3, r3, #8
 1183 039e 9AB2     		uxth	r2, r3
 1184 03a0 B7F89E32 		ldrh	r3, [r7, #670]	@ movhi
 1185 03a4 1344     		add	r3, r3, r2
 1186 03a6 A7F88A32 		strh	r3, [r7, #650]	@ movhi
2166:Generated_Source\PSoC5/Bootloader.c ****                 
2167:Generated_Source\PSoC5/Bootloader.c ****                         /**************************************************************************
2168:Generated_Source\PSoC5/Bootloader.c ****                         * Refuse to write to the row within range of the bootloader application
2169:Generated_Source\PSoC5/Bootloader.c ****                         ***************************************************************************
2170:Generated_Source\PSoC5/Bootloader.c **** 
2171:Generated_Source\PSoC5/Bootloader.c ****                         /* First empty flash row after Bootloader application */
2172:Generated_Source\PSoC5/Bootloader.c ****                         #if (CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)    
2173:Generated_Source\PSoC5/Bootloader.c ****                             firstRow = (uint16) (*Bootloader_SizeBytesAccess / CYDEV_FLS_ROW_SIZE);
 1187              		.loc 1 2173 0
 1188 03aa 6F4B     		ldr	r3, .L126
 1189 03ac 1B68     		ldr	r3, [r3]
 1190 03ae 1B68     		ldr	r3, [r3]
 1191 03b0 1B0A     		lsrs	r3, r3, #8
 1192 03b2 A7F89832 		strh	r3, [r7, #664]	@ movhi
2174:Generated_Source\PSoC5/Bootloader.c ****                             if ((*Bootloader_SizeBytesAccess % CYDEV_FLS_ROW_SIZE) != 0u)
 1193              		.loc 1 2174 0
 1194 03b6 6C4B     		ldr	r3, .L126
 1195 03b8 1B68     		ldr	r3, [r3]
 1196 03ba 1B68     		ldr	r3, [r3]
 1197 03bc DBB2     		uxtb	r3, r3
 1198 03be 002B     		cmp	r3, #0
 1199 03c0 04D0     		beq	.L89
2175:Generated_Source\PSoC5/Bootloader.c ****                             {
2176:Generated_Source\PSoC5/Bootloader.c ****                                 firstRow++;
 1200              		.loc 1 2176 0
 1201 03c2 B7F89832 		ldrh	r3, [r7, #664]
 1202 03c6 0133     		adds	r3, r3, #1
 1203 03c8 A7F89832 		strh	r3, [r7, #664]	@ movhi
 1204              	.L89:
2177:Generated_Source\PSoC5/Bootloader.c ****                             }
2178:Generated_Source\PSoC5/Bootloader.c ****                         #else /*Combination project type*/                       
2179:Generated_Source\PSoC5/Bootloader.c ****                             
2180:Generated_Source\PSoC5/Bootloader.c ****                             if (Bootloader_RUNNING_APPLICATION_0 == Bootloader_runningApp) 
2181:Generated_Source\PSoC5/Bootloader.c ****                             {
2182:Generated_Source\PSoC5/Bootloader.c ****                                 btldrLastRow = (uint16)Bootloader_GetMetadata(Bootloader_GET_BTLDR_
2183:Generated_Source\PSoC5/Bootloader.c ****                                                                             Bootloader_MD_BTLDB_ACT
2184:Generated_Source\PSoC5/Bootloader.c ****                             }    
2185:Generated_Source\PSoC5/Bootloader.c ****                             else /*(Bootloader_RUNNING_APPLICATION_1 == Bootloader_runningApp)*/
2186:Generated_Source\PSoC5/Bootloader.c ****                             {
2187:Generated_Source\PSoC5/Bootloader.c ****                                 btldrLastRow = (uint16)Bootloader_GetMetadata(Bootloader_GET_BTLDR_
2188:Generated_Source\PSoC5/Bootloader.c ****                                                                             Bootloader_MD_BTLDB_ACT
2189:Generated_Source\PSoC5/Bootloader.c ****                             }
2190:Generated_Source\PSoC5/Bootloader.c ****                                                 
2191:Generated_Source\PSoC5/Bootloader.c ****                             firstRow = (uint16)(btldrLastRow + 1u); 
2192:Generated_Source\PSoC5/Bootloader.c ****                         #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/      
2193:Generated_Source\PSoC5/Bootloader.c **** 
2194:Generated_Source\PSoC5/Bootloader.c ****                             /* Check to see if a row to be programmed will not corrupt the Bootload
2195:Generated_Source\PSoC5/Bootloader.c ****                             if(row < firstRow)
 1205              		.loc 1 2195 0
 1206 03cc B7F88A22 		ldrh	r2, [r7, #650]
 1207 03d0 B7F89832 		ldrh	r3, [r7, #664]
 1208 03d4 9A42     		cmp	r2, r3
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 61


 1209 03d6 06D2     		bcs	.L88
2196:Generated_Source\PSoC5/Bootloader.c ****                             {
2197:Generated_Source\PSoC5/Bootloader.c ****                                 ackCode = Bootloader_ERR_ROW;
 1210              		.loc 1 2197 0
 1211 03d8 0A23     		movs	r3, #10
 1212 03da 87F8A532 		strb	r3, [r7, #677]
2198:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = 0u;
 1213              		.loc 1 2198 0
 1214 03de 0023     		movs	r3, #0
 1215 03e0 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2199:Generated_Source\PSoC5/Bootloader.c ****                                 break;
 1216              		.loc 1 2199 0
 1217 03e4 82E1     		b	.L62
 1218              	.L88:
2200:Generated_Source\PSoC5/Bootloader.c ****                             }
2201:Generated_Source\PSoC5/Bootloader.c ****                         
2202:Generated_Source\PSoC5/Bootloader.c ****                         #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2203:Generated_Source\PSoC5/Bootloader.c ****                              (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
2204:Generated_Source\PSoC5/Bootloader.c ****                             
2205:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
2206:Generated_Source\PSoC5/Bootloader.c ****                             * No check is required in case when there is no app#1 present in Upgrad
2207:Generated_Source\PSoC5/Bootloader.c ****                             * use case (no user application downloaded yet).                       
2208:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
2209:Generated_Source\PSoC5/Bootloader.c ****                             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2210:Generated_Source\PSoC5/Bootloader.c ****                             if (0u != app2StartAddress) 
2211:Generated_Source\PSoC5/Bootloader.c ****                             {
2212:Generated_Source\PSoC5/Bootloader.c ****                             #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
2213:Generated_Source\PSoC5/Bootloader.c ****                             
2214:Generated_Source\PSoC5/Bootloader.c ****                                 if(Bootloader_activeApp < Bootloader_MD_BTLDB_ACTIVE_NONE)    
2215:Generated_Source\PSoC5/Bootloader.c ****                                 {
2216:Generated_Source\PSoC5/Bootloader.c ****                                     /* Refuse to write to active image */
2217:Generated_Source\PSoC5/Bootloader.c ****                                     ackCode = Bootloader_CheckImage(Bootloader_activeApp, 
2218:Generated_Source\PSoC5/Bootloader.c ****                                                                        btldrData, /*array number*/
2219:Generated_Source\PSoC5/Bootloader.c ****                                                                        row,  /*row number*/
2220:Generated_Source\PSoC5/Bootloader.c ****                                                                        dataOffset); /*row number in
2221:Generated_Source\PSoC5/Bootloader.c ****                                 
2222:Generated_Source\PSoC5/Bootloader.c ****                                     if (Bootloader_ERR_ACTIVE == ackCode)
2223:Generated_Source\PSoC5/Bootloader.c ****                                     {
2224:Generated_Source\PSoC5/Bootloader.c ****                                         dataOffset = 0u;
2225:Generated_Source\PSoC5/Bootloader.c ****                                         break;                                
2226:Generated_Source\PSoC5/Bootloader.c ****                                     }
2227:Generated_Source\PSoC5/Bootloader.c ****                                 }
2228:Generated_Source\PSoC5/Bootloader.c ****                             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2229:Generated_Source\PSoC5/Bootloader.c ****                             }
2230:Generated_Source\PSoC5/Bootloader.c ****                             #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/
2231:Generated_Source\PSoC5/Bootloader.c **** 
2232:Generated_Source\PSoC5/Bootloader.c ****                             /*This option is available for classic Dual-app bootloader only*/
2233:Generated_Source\PSoC5/Bootloader.c ****                             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) && \
2234:Generated_Source\PSoC5/Bootloader.c ****                                  (1u == Bootloader_GOLDEN_IMAGE_AVAIL))
2235:Generated_Source\PSoC5/Bootloader.c ****                             /* Check if this is an attempt to overwrite Golden image */
2236:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_CheckImage(Bootloader_GOLDEN_IMAGE, 
2237:Generated_Source\PSoC5/Bootloader.c ****                                                                   btldrData, /*array number*/
2238:Generated_Source\PSoC5/Bootloader.c ****                                                                   row, /*row number*/
2239:Generated_Source\PSoC5/Bootloader.c ****                                                                   dataOffset); /*row number in scop
2240:Generated_Source\PSoC5/Bootloader.c ****                             
2241:Generated_Source\PSoC5/Bootloader.c ****                             
2242:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 62


2243:Generated_Source\PSoC5/Bootloader.c ****                             * If an image to write is intended to update the Golden image and Golde
2244:Generated_Source\PSoC5/Bootloader.c ****                             * itself is valid, then give an error that it is active/Golden, otherwi
2245:Generated_Source\PSoC5/Bootloader.c ****                             * (invalid Golden image) let the Golden image to be overwritten.
2246:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
2247:Generated_Source\PSoC5/Bootloader.c ****                             goldenImageValid = Bootloader_ValidateBootloadable(Bootloader_GOLDEN_IM
2248:Generated_Source\PSoC5/Bootloader.c ****                             if ((Bootloader_ERR_ACTIVE == ackCode) && (CYRET_SUCCESS == goldenImage
2249:Generated_Source\PSoC5/Bootloader.c ****                             {
2250:Generated_Source\PSoC5/Bootloader.c ****                                 dataOffset = 0u;
2251:Generated_Source\PSoC5/Bootloader.c ****                                 break;                                
2252:Generated_Source\PSoC5/Bootloader.c ****                             }
2253:Generated_Source\PSoC5/Bootloader.c ****                             else /* It is OK to overwrite corrupted Golden image */
2254:Generated_Source\PSoC5/Bootloader.c ****                             {
2255:Generated_Source\PSoC5/Bootloader.c ****                                 ackCode = CYRET_SUCCESS;
2256:Generated_Source\PSoC5/Bootloader.c ****                             }
2257:Generated_Source\PSoC5/Bootloader.c ****                             #endif /*((0u != Bootloader_DUAL_APP_BOOTLOADER) &&
2258:Generated_Source\PSoC5/Bootloader.c ****                                       (1u == Bootloader_GOLDEN_IMAGE_AVAIL)) */
2259:Generated_Source\PSoC5/Bootloader.c ****                         #endif /*(0u != Bootloader_DUAL_APP_BOOTLOADER) ||
2260:Generated_Source\PSoC5/Bootloader.c ****                                  (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
2261:Generated_Source\PSoC5/Bootloader.c ****   
2262:Generated_Source\PSoC5/Bootloader.c **** 
2263:Generated_Source\PSoC5/Bootloader.c ****                         /**************************************************************************
2264:Generated_Source\PSoC5/Bootloader.c ****                         * Clear a row that contains metadata, when the "Fast bootloadable applicati
2265:Generated_Source\PSoC5/Bootloader.c ****                         * validation" option is enabled.
2266:Generated_Source\PSoC5/Bootloader.c ****                         *
2267:Generated_Source\PSoC5/Bootloader.c ****                         * If the "Fast bootloadable application validation" option is enabled, the
2268:Generated_Source\PSoC5/Bootloader.c ****                         * bootloader only computes the checksum the first time and assumes that it
2269:Generated_Source\PSoC5/Bootloader.c ****                         * remains valid in each future startup. The metadata row is cleared because
2270:Generated_Source\PSoC5/Bootloader.c ****                         * Bootloadable application might become corrupted during update, while
2271:Generated_Source\PSoC5/Bootloader.c ****                         * the "Bootloadable Application Verification Status" field will still repor
2272:Generated_Source\PSoC5/Bootloader.c ****                         * the application is valid.
2273:Generated_Source\PSoC5/Bootloader.c ****                         ***************************************************************************
2274:Generated_Source\PSoC5/Bootloader.c ****                         #if(0u != Bootloader_FAST_APP_VALIDATION)
2275:Generated_Source\PSoC5/Bootloader.c **** 
2276:Generated_Source\PSoC5/Bootloader.c ****                             if(0u == clearedMetaData)
2277:Generated_Source\PSoC5/Bootloader.c ****                             {
2278:Generated_Source\PSoC5/Bootloader.c ****                                 /* Metadata section must be filled with zeros */
2279:Generated_Source\PSoC5/Bootloader.c **** 
2280:Generated_Source\PSoC5/Bootloader.c ****                                 uint8 erase[Bootloader_FROW_SIZE];
2281:Generated_Source\PSoC5/Bootloader.c ****                                 uint8 Bootloader_notActiveApp;
2282:Generated_Source\PSoC5/Bootloader.c **** 
2283:Generated_Source\PSoC5/Bootloader.c **** 
2284:Generated_Source\PSoC5/Bootloader.c ****                                 #if(CY_PSOC3)
2285:Generated_Source\PSoC5/Bootloader.c ****                                     (void) memset(erase, (char8) 0, (int16) Bootloader_FROW_SIZE);
2286:Generated_Source\PSoC5/Bootloader.c ****                                 #else
2287:Generated_Source\PSoC5/Bootloader.c ****                                     (void) memset(erase, 0, Bootloader_FROW_SIZE);
2288:Generated_Source\PSoC5/Bootloader.c ****                                 #endif  /* (CY_PSOC3) */
2289:Generated_Source\PSoC5/Bootloader.c **** 
2290:Generated_Source\PSoC5/Bootloader.c **** 
2291:Generated_Source\PSoC5/Bootloader.c ****                                 #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2292:Generated_Source\PSoC5/Bootloader.c ****                                      (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))
2293:Generated_Source\PSoC5/Bootloader.c ****                                     if (Bootloader_MD_BTLDB_ACTIVE_0 == Bootloader_activeApp)
2294:Generated_Source\PSoC5/Bootloader.c ****                                     {
2295:Generated_Source\PSoC5/Bootloader.c ****                                         Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_1;
2296:Generated_Source\PSoC5/Bootloader.c ****                                     }
2297:Generated_Source\PSoC5/Bootloader.c ****                                     else
2298:Generated_Source\PSoC5/Bootloader.c ****                                     {
2299:Generated_Source\PSoC5/Bootloader.c ****                                         Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_0;
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 63


2300:Generated_Source\PSoC5/Bootloader.c ****                                     }
2301:Generated_Source\PSoC5/Bootloader.c ****                                 #else
2302:Generated_Source\PSoC5/Bootloader.c ****                                     Bootloader_notActiveApp = Bootloader_MD_BTLDB_ACTIVE_0;
2303:Generated_Source\PSoC5/Bootloader.c ****                                 #endif /* (0u != Bootloader_DUAL_APP_BOOTLOADER) */
2304:Generated_Source\PSoC5/Bootloader.c **** 
2305:Generated_Source\PSoC5/Bootloader.c **** 
2306:Generated_Source\PSoC5/Bootloader.c ****                                 #if(CY_PSOC4)
2307:Generated_Source\PSoC5/Bootloader.c ****                                     (void) CySysFlashWriteRow(
2308:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_MD_ROW_NUM(Bootloader_notActiveApp),
2309:Generated_Source\PSoC5/Bootloader.c ****                                             erase);
2310:Generated_Source\PSoC5/Bootloader.c ****                                 #else
2311:Generated_Source\PSoC5/Bootloader.c ****                                     (void) CyWriteRowFull(
2312:Generated_Source\PSoC5/Bootloader.c ****                                             (uint8)  Bootloader_MD_FLASH_ARRAY_NUM,
2313:Generated_Source\PSoC5/Bootloader.c ****                                             (uint16) Bootloader_MD_ROW_NUM(Bootloader_notActiveApp)
2314:Generated_Source\PSoC5/Bootloader.c ****                                             erase,
2315:Generated_Source\PSoC5/Bootloader.c ****                                             Bootloader_FROW_SIZE);
2316:Generated_Source\PSoC5/Bootloader.c ****                                 #endif  /* (CY_PSOC4) */
2317:Generated_Source\PSoC5/Bootloader.c **** 
2318:Generated_Source\PSoC5/Bootloader.c ****                                 /* PSoC 5: Do not care about flushing cache as flash row has been e
2319:Generated_Source\PSoC5/Bootloader.c **** 
2320:Generated_Source\PSoC5/Bootloader.c ****                                 /* Set up flag that metadata was cleared */
2321:Generated_Source\PSoC5/Bootloader.c ****                                 clearedMetaData = 1u;
2322:Generated_Source\PSoC5/Bootloader.c ****                             }
2323:Generated_Source\PSoC5/Bootloader.c **** 
2324:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (0u != Bootloader_FAST_APP_VALIDATION) */
2325:Generated_Source\PSoC5/Bootloader.c **** 
2326:Generated_Source\PSoC5/Bootloader.c **** 
2327:Generated_Source\PSoC5/Bootloader.c ****                         #if(!CY_PSOC4)
2328:Generated_Source\PSoC5/Bootloader.c ****                             }   /* (btldrData <= Bootloader_LAST_FLASH_ARRAYID) */
2329:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (!CY_PSOC4) */
2330:Generated_Source\PSoC5/Bootloader.c **** 
2331:Generated_Source\PSoC5/Bootloader.c **** 
2332:Generated_Source\PSoC5/Bootloader.c ****                         #if(CY_PSOC4)
2333:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = (CYRET_SUCCESS != CySysFlashWriteRow((uint32) row, dataBuffer
2334:Generated_Source\PSoC5/Bootloader.c ****                                 ? Bootloader_ERR_ROW \
2335:Generated_Source\PSoC5/Bootloader.c ****                                 : CYRET_SUCCESS;
2336:Generated_Source\PSoC5/Bootloader.c ****                         #else
2337:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = (CYRET_SUCCESS != CyWriteRowFull(btldrData, dataOffset, dataB
 1219              		.loc 1 2337 0
 1220 03e6 B7F8A232 		ldrh	r3, [r7, #674]
 1221 03ea 07F12802 		add	r2, r7, #40
 1222 03ee B7F89E12 		ldrh	r1, [r7, #670]
 1223 03f2 97F88D02 		ldrb	r0, [r7, #653]	@ zero_extendqisi2
 1224 03f6 FFF7FEFF 		bl	CyWriteRowFull
 1225 03fa 0346     		mov	r3, r0
 1226 03fc 002B     		cmp	r3, #0
 1227 03fe 01D0     		beq	.L90
 1228              		.loc 1 2337 0 is_stmt 0 discriminator 1
 1229 0400 0A23     		movs	r3, #10
 1230 0402 00E0     		b	.L91
 1231              	.L90:
 1232              		.loc 1 2337 0 discriminator 2
 1233 0404 0023     		movs	r3, #0
 1234              	.L91:
 1235              		.loc 1 2337 0 discriminator 4
 1236 0406 87F8A532 		strb	r3, [r7, #677]
2338:Generated_Source\PSoC5/Bootloader.c ****                                 ? Bootloader_ERR_ROW \
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 64


2339:Generated_Source\PSoC5/Bootloader.c ****                                 : CYRET_SUCCESS;
2340:Generated_Source\PSoC5/Bootloader.c ****                         #endif  /* (CY_PSOC4) */
2341:Generated_Source\PSoC5/Bootloader.c **** 
2342:Generated_Source\PSoC5/Bootloader.c **** 
2343:Generated_Source\PSoC5/Bootloader.c ****                         #if(CY_PSOC5)
2344:Generated_Source\PSoC5/Bootloader.c ****                             /**********************************************************************
2345:Generated_Source\PSoC5/Bootloader.c ****                             * When writing to flash, data in the instruction cache can become stale
2346:Generated_Source\PSoC5/Bootloader.c ****                             * Therefore, the cache data does not correlate to the data just written
2347:Generated_Source\PSoC5/Bootloader.c ****                             * flash. A call to CyFlushCache() is required to invalidate the data in
2348:Generated_Source\PSoC5/Bootloader.c ****                             * cache and force fresh information to be loaded from flash.
2349:Generated_Source\PSoC5/Bootloader.c ****                             ***********************************************************************
2350:Generated_Source\PSoC5/Bootloader.c ****                             CyFlushCache();
 1237              		.loc 1 2350 0 is_stmt 1 discriminator 4
 1238 040a FFF7FEFF 		bl	CyFlushCache
 1239              	.LBE8:
 1240 040e 02E0     		b	.L92
 1241              	.L84:
2351:Generated_Source\PSoC5/Bootloader.c ****                         #endif /* (CY_PSOC5) */
2352:Generated_Source\PSoC5/Bootloader.c **** 
2353:Generated_Source\PSoC5/Bootloader.c ****                     }
2354:Generated_Source\PSoC5/Bootloader.c ****                     else
2355:Generated_Source\PSoC5/Bootloader.c ****                     {
2356:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_LENGTH;
 1242              		.loc 1 2356 0
 1243 0410 0323     		movs	r3, #3
 1244 0412 87F8A532 		strb	r3, [r7, #677]
 1245              	.L92:
2357:Generated_Source\PSoC5/Bootloader.c ****                     }
2358:Generated_Source\PSoC5/Bootloader.c **** 
2359:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset = 0u;
 1246              		.loc 1 2359 0
 1247 0416 0023     		movs	r3, #0
 1248 0418 A7F89E32 		strh	r3, [r7, #670]	@ movhi
 1249              	.LBE7:
2360:Generated_Source\PSoC5/Bootloader.c ****                 }
2361:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1250              		.loc 1 2361 0
 1251 041c 59E1     		b	.L119
 1252              	.L68:
2362:Generated_Source\PSoC5/Bootloader.c **** 
2363:Generated_Source\PSoC5/Bootloader.c **** 
2364:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2365:Generated_Source\PSoC5/Bootloader.c ****             *   Sync bootloader (0x35)
2366:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2367:Generated_Source\PSoC5/Bootloader.c ****             #if(0u != Bootloader_CMD_SYNC_BOOTLOADER_AVAIL)
2368:Generated_Source\PSoC5/Bootloader.c **** 
2369:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_SYNC:
2370:Generated_Source\PSoC5/Bootloader.c **** 
2371:Generated_Source\PSoC5/Bootloader.c ****                 if(Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState)
 1253              		.loc 1 2371 0
 1254 041e 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1255 0422 012B     		cmp	r3, #1
 1256 0424 40F05981 		bne	.L121
2372:Generated_Source\PSoC5/Bootloader.c ****                 {
2373:Generated_Source\PSoC5/Bootloader.c ****                     /* If something failed, Host would send this command to reset Bootloader. */
2374:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset = 0u;
 1257              		.loc 1 2374 0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 65


 1258 0428 0023     		movs	r3, #0
 1259 042a A7F89E32 		strh	r3, [r7, #670]	@ movhi
2375:Generated_Source\PSoC5/Bootloader.c **** 
2376:Generated_Source\PSoC5/Bootloader.c ****                     /* Don't acknowledge the packet, just get ready to accept the next one */
2377:Generated_Source\PSoC5/Bootloader.c ****                     continue;
 1260              		.loc 1 2377 0
 1261 042e 68E1     		b	.L55
 1262              	.L69:
2378:Generated_Source\PSoC5/Bootloader.c ****                 }
2379:Generated_Source\PSoC5/Bootloader.c ****                 break;
2380:Generated_Source\PSoC5/Bootloader.c **** 
2381:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_SYNC_BOOTLOADER_AVAIL) */
2382:Generated_Source\PSoC5/Bootloader.c **** 
2383:Generated_Source\PSoC5/Bootloader.c **** 
2384:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2385:Generated_Source\PSoC5/Bootloader.c ****             *   Set an active application (0x36)
2386:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2387:Generated_Source\PSoC5/Bootloader.c ****             #if ((0u != Bootloader_DUAL_APP_BOOTLOADER) || \
2388:Generated_Source\PSoC5/Bootloader.c ****                  (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER))    
2389:Generated_Source\PSoC5/Bootloader.c **** 
2390:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_APP_ACTIVE:
2391:Generated_Source\PSoC5/Bootloader.c **** 
2392:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize ==
2393:Generated_Source\PSoC5/Bootloader.c ****                     {
2394:Generated_Source\PSoC5/Bootloader.c ****                         if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(btldrData))
2395:Generated_Source\PSoC5/Bootloader.c ****                         {
2396:Generated_Source\PSoC5/Bootloader.c ****                             Bootloader_SetActiveAppInMetadata(btldrData);
2397:Generated_Source\PSoC5/Bootloader.c ****                             Bootloader_activeApp = btldrData;
2398:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
2399:Generated_Source\PSoC5/Bootloader.c ****                         }
2400:Generated_Source\PSoC5/Bootloader.c ****                         else
2401:Generated_Source\PSoC5/Bootloader.c ****                         {
2402:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_APP;
2403:Generated_Source\PSoC5/Bootloader.c ****                         }
2404:Generated_Source\PSoC5/Bootloader.c ****                     }
2405:Generated_Source\PSoC5/Bootloader.c ****                     break;
2406:Generated_Source\PSoC5/Bootloader.c **** 
2407:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_DUAL_APP_BOOTLOADER) || 
2408:Generated_Source\PSoC5/Bootloader.c ****                        (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
2409:Generated_Source\PSoC5/Bootloader.c **** 
2410:Generated_Source\PSoC5/Bootloader.c **** 
2411:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2412:Generated_Source\PSoC5/Bootloader.c ****             *   Send data (0x37)
2413:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2414:Generated_Source\PSoC5/Bootloader.c ****             #if (0u != Bootloader_CMD_SEND_DATA_AVAIL)
2415:Generated_Source\PSoC5/Bootloader.c **** 
2416:Generated_Source\PSoC5/Bootloader.c ****                 case Bootloader_COMMAND_DATA:
2417:Generated_Source\PSoC5/Bootloader.c **** 
2418:Generated_Source\PSoC5/Bootloader.c ****                     if(Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState)
 1263              		.loc 1 2418 0
 1264 0430 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1265 0434 012B     		cmp	r3, #1
 1266 0436 40F05281 		bne	.L122
2419:Generated_Source\PSoC5/Bootloader.c ****                     {
2420:Generated_Source\PSoC5/Bootloader.c ****                         /*  Make sure that dataOffset is valid before copying data */
2421:Generated_Source\PSoC5/Bootloader.c ****                         if((dataOffset + pktSize) <= Bootloader_SIZEOF_COMMAND_BUFFER)
 1267              		.loc 1 2421 0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 66


 1268 043a B7F89E22 		ldrh	r2, [r7, #670]
 1269 043e B7F8A232 		ldrh	r3, [r7, #674]
 1270 0442 1344     		add	r3, r3, r2
 1271 0444 B3F5967F 		cmp	r3, #300
 1272 0448 17D8     		bhi	.L95
2422:Generated_Source\PSoC5/Bootloader.c ****                         {
2423:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = CYRET_SUCCESS;
 1273              		.loc 1 2423 0
 1274 044a 0023     		movs	r3, #0
 1275 044c 87F8A532 		strb	r3, [r7, #677]
2424:Generated_Source\PSoC5/Bootloader.c **** 
2425:Generated_Source\PSoC5/Bootloader.c ****                             #if(CY_PSOC3)
2426:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&dataBuffer[dataOffset],
2427:Generated_Source\PSoC5/Bootloader.c ****                                               &packetBuffer[Bootloader_DATA_ADDR],
2428:Generated_Source\PSoC5/Bootloader.c ****                                               ( int16 )pktSize);
2429:Generated_Source\PSoC5/Bootloader.c ****                             #else
2430:Generated_Source\PSoC5/Bootloader.c ****                                 (void) memcpy(&dataBuffer[dataOffset],
 1276              		.loc 1 2430 0
 1277 0450 B7F89E32 		ldrh	r3, [r7, #670]
 1278 0454 07F12802 		add	r2, r7, #40
 1279 0458 D018     		adds	r0, r2, r3
 1280 045a B7F8A222 		ldrh	r2, [r7, #674]
 1281 045e 07F5AA73 		add	r3, r7, #340
 1282 0462 0433     		adds	r3, r3, #4
 1283 0464 1946     		mov	r1, r3
 1284 0466 FFF7FEFF 		bl	memcpy
2431:Generated_Source\PSoC5/Bootloader.c ****                                               &packetBuffer[Bootloader_DATA_ADDR],
2432:Generated_Source\PSoC5/Bootloader.c ****                                               (uint32) pktSize);
2433:Generated_Source\PSoC5/Bootloader.c ****                             #endif  /* (CY_PSOC3) */
2434:Generated_Source\PSoC5/Bootloader.c **** 
2435:Generated_Source\PSoC5/Bootloader.c ****                             dataOffset += pktSize;
 1285              		.loc 1 2435 0
 1286 046a B7F89E22 		ldrh	r2, [r7, #670]	@ movhi
 1287 046e B7F8A232 		ldrh	r3, [r7, #674]	@ movhi
 1288 0472 1344     		add	r3, r3, r2
 1289 0474 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2436:Generated_Source\PSoC5/Bootloader.c ****                         }
2437:Generated_Source\PSoC5/Bootloader.c ****                         else
2438:Generated_Source\PSoC5/Bootloader.c ****                         {
2439:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_ERR_LENGTH;
2440:Generated_Source\PSoC5/Bootloader.c ****                         }
2441:Generated_Source\PSoC5/Bootloader.c ****                     }
2442:Generated_Source\PSoC5/Bootloader.c **** 
2443:Generated_Source\PSoC5/Bootloader.c ****                     break;
 1290              		.loc 1 2443 0
 1291 0478 31E1     		b	.L122
 1292              	.L95:
2439:Generated_Source\PSoC5/Bootloader.c ****                         }
 1293              		.loc 1 2439 0
 1294 047a 0323     		movs	r3, #3
 1295 047c 87F8A532 		strb	r3, [r7, #677]
 1296              		.loc 1 2443 0
 1297 0480 2DE1     		b	.L122
 1298              	.L70:
2444:Generated_Source\PSoC5/Bootloader.c **** 
2445:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (0u != Bootloader_CMD_SEND_DATA_AVAIL) */
2446:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 67


2447:Generated_Source\PSoC5/Bootloader.c **** 
2448:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2449:Generated_Source\PSoC5/Bootloader.c ****             *   Enter bootloader (0x38)
2450:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2451:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_ENTER:
2452:Generated_Source\PSoC5/Bootloader.c **** 
2453:Generated_Source\PSoC5/Bootloader.c ****         #if (Bootloader_SECURITY_KEY_AVAIL == 1u)    
2454:Generated_Source\PSoC5/Bootloader.c ****             if(pktSize == 6u) /*Security key*/
2455:Generated_Source\PSoC5/Bootloader.c ****         #else    
2456:Generated_Source\PSoC5/Bootloader.c ****             if(pktSize == 0u) /*Security key is not demanded*/
 1299              		.loc 1 2456 0
 1300 0482 B7F8A232 		ldrh	r3, [r7, #674]
 1301 0486 002B     		cmp	r3, #0
 1302 0488 1DD1     		bne	.L96
 1303              	.LBB10:
2457:Generated_Source\PSoC5/Bootloader.c ****         #endif /*(Bootloader_SECURITY_KEY_AVAIL == 1u)*/   
2458:Generated_Source\PSoC5/Bootloader.c ****                 {
2459:Generated_Source\PSoC5/Bootloader.c ****                     #if(CY_PSOC3)
2460:Generated_Source\PSoC5/Bootloader.c **** 
2461:Generated_Source\PSoC5/Bootloader.c ****                         Bootloader_ENTER CYDATA BtldrVersion =
2462:Generated_Source\PSoC5/Bootloader.c ****                             {CYSWAP_ENDIAN32(CYDEV_CHIP_JTAG_ID), CYDEV_CHIP_REV_EXPECT, Bootloader
2463:Generated_Source\PSoC5/Bootloader.c **** 
2464:Generated_Source\PSoC5/Bootloader.c ****                     #else
2465:Generated_Source\PSoC5/Bootloader.c **** 
2466:Generated_Source\PSoC5/Bootloader.c ****                         Bootloader_ENTER CYDATA BtldrVersion =
 1304              		.loc 1 2466 0
 1305 048a 07F12003 		add	r3, r7, #32
 1306 048e 374A     		ldr	r2, .L126+4
 1307 0490 92E80300 		ldmia	r2, {r0, r1}
 1308 0494 83E80300 		stmia	r3, {r0, r1}
2467:Generated_Source\PSoC5/Bootloader.c ****                             {CYDEV_CHIP_JTAG_ID, CYDEV_CHIP_REV_EXPECT, Bootloader_VERSION};
2468:Generated_Source\PSoC5/Bootloader.c ****             #endif  /* (CY_PSOC3) */
2469:Generated_Source\PSoC5/Bootloader.c **** 
2470:Generated_Source\PSoC5/Bootloader.c ****             #if (Bootloader_SECURITY_KEY_AVAIL == 1u)
2471:Generated_Source\PSoC5/Bootloader.c ****                 
2472:Generated_Source\PSoC5/Bootloader.c ****                 /*Security key checking*/
2473:Generated_Source\PSoC5/Bootloader.c ****                 uint8 idx = Bootloader_SECURITY_KEY_LENGTH;
2474:Generated_Source\PSoC5/Bootloader.c ****                 ackCode = CYRET_SUCCESS;
2475:Generated_Source\PSoC5/Bootloader.c ****                 
2476:Generated_Source\PSoC5/Bootloader.c ****                 do
2477:Generated_Source\PSoC5/Bootloader.c ****                 {
2478:Generated_Source\PSoC5/Bootloader.c ****                     idx--;                     
2479:Generated_Source\PSoC5/Bootloader.c ****                     if (Bootloader_securityKey[idx] != packetBuffer[Bootloader_DATA_ADDR + idx])
2480:Generated_Source\PSoC5/Bootloader.c ****                     {
2481:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_DATA;
2482:Generated_Source\PSoC5/Bootloader.c ****                         break;
2483:Generated_Source\PSoC5/Bootloader.c ****                     }
2484:Generated_Source\PSoC5/Bootloader.c ****                     
2485:Generated_Source\PSoC5/Bootloader.c ****                 } while(0u != idx);
2486:Generated_Source\PSoC5/Bootloader.c ****                 
2487:Generated_Source\PSoC5/Bootloader.c ****                 if (Bootloader_ERR_DATA == ackCode)
2488:Generated_Source\PSoC5/Bootloader.c ****                 {
2489:Generated_Source\PSoC5/Bootloader.c ****                     break;
2490:Generated_Source\PSoC5/Bootloader.c ****                 }
2491:Generated_Source\PSoC5/Bootloader.c ****             #endif /*(Bootloader_SECURITY_KEY_AVAIL == 1u)*/
2492:Generated_Source\PSoC5/Bootloader.c ****                 
2493:Generated_Source\PSoC5/Bootloader.c ****                 #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 68


2494:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_isBootloading = Bootloader_BOOTLOADING_IN_PROGRESS;
2495:Generated_Source\PSoC5/Bootloader.c ****                 #endif /*(CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)*/    
2496:Generated_Source\PSoC5/Bootloader.c ****                 
2497:Generated_Source\PSoC5/Bootloader.c ****                     communicationState = Bootloader_COMMUNICATION_STATE_ACTIVE;
 1309              		.loc 1 2497 0
 1310 0498 0123     		movs	r3, #1
 1311 049a 87F8A032 		strb	r3, [r7, #672]
2498:Generated_Source\PSoC5/Bootloader.c **** 
2499:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = sizeof(Bootloader_ENTER);
 1312              		.loc 1 2499 0
 1313 049e 0823     		movs	r3, #8
 1314 04a0 A7F8A632 		strh	r3, [r7, #678]	@ movhi
2500:Generated_Source\PSoC5/Bootloader.c ****                     dataOffset = 0u; 
 1315              		.loc 1 2500 0
 1316 04a4 0023     		movs	r3, #0
 1317 04a6 A7F89E32 		strh	r3, [r7, #670]	@ movhi
2501:Generated_Source\PSoC5/Bootloader.c ****                     
2502:Generated_Source\PSoC5/Bootloader.c ****                     #if(CY_PSOC3)
2503:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
2504:Generated_Source\PSoC5/Bootloader.c ****                                       &BtldrVersion,
2505:Generated_Source\PSoC5/Bootloader.c ****                                       ( int16 )rspSize);
2506:Generated_Source\PSoC5/Bootloader.c ****                     #else
2507:Generated_Source\PSoC5/Bootloader.c ****                         (void) memcpy(&packetBuffer[Bootloader_DATA_ADDR],
 1318              		.loc 1 2507 0
 1319 04aa B7F8A622 		ldrh	r2, [r7, #678]
 1320 04ae 07F12001 		add	r1, r7, #32
 1321 04b2 07F5AA73 		add	r3, r7, #340
 1322 04b6 0433     		adds	r3, r3, #4
 1323 04b8 1846     		mov	r0, r3
 1324 04ba FFF7FEFF 		bl	memcpy
2508:Generated_Source\PSoC5/Bootloader.c ****                                       &BtldrVersion,
2509:Generated_Source\PSoC5/Bootloader.c ****                                       (uint32) rspSize);
2510:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (CY_PSOC3) */
2511:Generated_Source\PSoC5/Bootloader.c **** 
2512:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1325              		.loc 1 2512 0
 1326 04be 0023     		movs	r3, #0
 1327 04c0 87F8A532 		strb	r3, [r7, #677]
 1328              	.LBE10:
2513:Generated_Source\PSoC5/Bootloader.c ****                 }
2514:Generated_Source\PSoC5/Bootloader.c ****                 else /* Packet length does not match*/
2515:Generated_Source\PSoC5/Bootloader.c ****                 {
2516:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_DATA;
2517:Generated_Source\PSoC5/Bootloader.c ****                 }
2518:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1329              		.loc 1 2518 0
 1330 04c4 12E1     		b	.L62
 1331              	.L96:
2516:Generated_Source\PSoC5/Bootloader.c ****                 }
 1332              		.loc 1 2516 0
 1333 04c6 0423     		movs	r3, #4
 1334 04c8 87F8A532 		strb	r3, [r7, #677]
 1335              		.loc 1 2518 0
 1336 04cc 0EE1     		b	.L62
 1337              	.L71:
2519:Generated_Source\PSoC5/Bootloader.c **** 
2520:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 69


2521:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2522:Generated_Source\PSoC5/Bootloader.c ****             *   Get row checksum (0x3A)
2523:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2524:Generated_Source\PSoC5/Bootloader.c ****             #if (0u != Bootloader_CMD_GET_ROW_CHKSUM_AVAIL)
2525:Generated_Source\PSoC5/Bootloader.c **** 
2526:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_GET_ROW_CHKSUM:
2527:Generated_Source\PSoC5/Bootloader.c **** 
2528:Generated_Source\PSoC5/Bootloader.c ****                 if((Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState) && (pktSize == 3u)
 1338              		.loc 1 2528 0
 1339 04ce 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1340 04d2 012B     		cmp	r3, #1
 1341 04d4 40F00581 		bne	.L123
 1342              		.loc 1 2528 0 is_stmt 0 discriminator 1
 1343 04d8 B7F8A232 		ldrh	r3, [r7, #674]
 1344 04dc 032B     		cmp	r3, #3
 1345 04de 40F00081 		bne	.L123
 1346              	.LBB11:
2529:Generated_Source\PSoC5/Bootloader.c ****                 {
2530:Generated_Source\PSoC5/Bootloader.c ****                     /* Get flash/EEPROM row number */
2531:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA rowNum = ((uint16)((uint16)packetBuffer[Bootloader_DATA_ADDR + 2u
 1347              		.loc 1 2531 0 is_stmt 1
 1348 04e2 07F5AA73 		add	r3, r7, #340
 1349 04e6 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 1350 04e8 9BB2     		uxth	r3, r3
 1351 04ea 1B02     		lsls	r3, r3, #8
 1352 04ec 9AB2     		uxth	r2, r3
2532:Generated_Source\PSoC5/Bootloader.c ****                                                     packetBuffer[Bootloader_DATA_ADDR + 1u];
 1353              		.loc 1 2532 0
 1354 04ee 07F5AA73 		add	r3, r7, #340
 1355 04f2 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
2531:Generated_Source\PSoC5/Bootloader.c ****                                                     packetBuffer[Bootloader_DATA_ADDR + 1u];
 1356              		.loc 1 2531 0
 1357 04f4 9BB2     		uxth	r3, r3
 1358 04f6 1343     		orrs	r3, r3, r2
 1359 04f8 A7F88832 		strh	r3, [r7, #648]	@ movhi
2533:Generated_Source\PSoC5/Bootloader.c ****                     
2534:Generated_Source\PSoC5/Bootloader.c ****                     uint16 CYDATA tmpRowNum; 
2535:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4)
2536:Generated_Source\PSoC5/Bootloader.c **** 
2537:Generated_Source\PSoC5/Bootloader.c ****                         uint32 CYDATA rowAddr;
2538:Generated_Source\PSoC5/Bootloader.c ****                         uint8 CYDATA checksum;
2539:Generated_Source\PSoC5/Bootloader.c **** 
2540:Generated_Source\PSoC5/Bootloader.c ****                         if((btldrData >= Bootloader_FIRST_EE_ARRAYID) &&
 1360              		.loc 1 2540 0
 1361 04fc 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1362 0500 3F2B     		cmp	r3, #63
 1363 0502 22D9     		bls	.L99
2541:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1364              		.loc 1 2541 0 discriminator 1
 1365 0504 97F98D32 		ldrsb	r3, [r7, #653]
2540:Generated_Source\PSoC5/Bootloader.c ****                            (btldrData <= Bootloader_LAST_EE_ARRAYID))
 1366              		.loc 1 2540 0 discriminator 1
 1367 0508 002B     		cmp	r3, #0
 1368 050a 1EDB     		blt	.L99
2542:Generated_Source\PSoC5/Bootloader.c ****                         {
2543:Generated_Source\PSoC5/Bootloader.c ****                             /* EEPROM */
2544:Generated_Source\PSoC5/Bootloader.c ****                             CyEEPROM_Start();
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 70


 1369              		.loc 1 2544 0
 1370 050c FFF7FEFF 		bl	CyEEPROM_Start
2545:Generated_Source\PSoC5/Bootloader.c ****                             /* Both PSoC 3 and PSoC 5LP architecture have one EEPROM array. */
2546:Generated_Source\PSoC5/Bootloader.c ****                             rowAddr = (uint32)rowNum * CYDEV_EEPROM_ROW_SIZE;
 1371              		.loc 1 2546 0
 1372 0510 B7F88832 		ldrh	r3, [r7, #648]
 1373 0514 1B01     		lsls	r3, r3, #4
 1374 0516 C7F88432 		str	r3, [r7, #644]
2547:Generated_Source\PSoC5/Bootloader.c ****                             
2548:Generated_Source\PSoC5/Bootloader.c ****                             /* Checking if row number is within array address range */
2549:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
 1375              		.loc 1 2549 0
 1376 051a B7F88832 		ldrh	r3, [r7, #648]
 1377 051e 7F2B     		cmp	r3, #127
 1378 0520 01D8     		bhi	.L100
 1379              		.loc 1 2549 0 is_stmt 0 discriminator 1
 1380 0522 0023     		movs	r3, #0
 1381 0524 00E0     		b	.L101
 1382              	.L100:
 1383              		.loc 1 2549 0 discriminator 2
 1384 0526 0A23     		movs	r3, #10
 1385              	.L101:
 1386              		.loc 1 2549 0 discriminator 4
 1387 0528 87F8A532 		strb	r3, [r7, #677]
2550:Generated_Source\PSoC5/Bootloader.c ****                                 (Bootloader_NUMBER_OF_EEPROM_SECTORS * Bootloader_NUMBER_OF_ROWS_IN
2551:Generated_Source\PSoC5/Bootloader.c ****                     
2552:Generated_Source\PSoC5/Bootloader.c ****                             if (CYRET_SUCCESS != ackCode)
 1388              		.loc 1 2552 0 is_stmt 1 discriminator 4
 1389 052c 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1390 0530 002B     		cmp	r3, #0
 1391 0532 40F0D880 		bne	.L124
2553:Generated_Source\PSoC5/Bootloader.c ****                             {
2554:Generated_Source\PSoC5/Bootloader.c ****                                 break;
2555:Generated_Source\PSoC5/Bootloader.c ****                             }
2556:Generated_Source\PSoC5/Bootloader.c **** 
2557:Generated_Source\PSoC5/Bootloader.c ****                             checksum = Bootloader_Calc8BitSum(CY_EEPROM_BASE, rowAddr, CYDEV_EEPROM
 1392              		.loc 1 2557 0
 1393 0536 1022     		movs	r2, #16
 1394 0538 D7F88412 		ldr	r1, [r7, #644]
 1395 053c 0C48     		ldr	r0, .L126+8
 1396 053e FFF7FEFF 		bl	Bootloader_Calc8BitSum
 1397 0542 0346     		mov	r3, r0
 1398 0544 87F89732 		strb	r3, [r7, #663]
 1399 0548 26E0     		b	.L103
 1400              	.L99:
2558:Generated_Source\PSoC5/Bootloader.c ****                         }
2559:Generated_Source\PSoC5/Bootloader.c ****                         else
2560:Generated_Source\PSoC5/Bootloader.c ****                         {
2561:Generated_Source\PSoC5/Bootloader.c ****                             /* flash */ 
2562:Generated_Source\PSoC5/Bootloader.c ****                             rowAddr = ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
 1401              		.loc 1 2562 0
 1402 054a 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
2563:Generated_Source\PSoC5/Bootloader.c ****                                        + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
 1403              		.loc 1 2563 0
 1404 054e 1A02     		lsls	r2, r3, #8
 1405 0550 B7F88832 		ldrh	r3, [r7, #648]
 1406 0554 1344     		add	r3, r3, r2
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 71


2562:Generated_Source\PSoC5/Bootloader.c ****                                        + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
 1407              		.loc 1 2562 0
 1408 0556 1B02     		lsls	r3, r3, #8
 1409 0558 C7F88432 		str	r3, [r7, #644]
2564:Generated_Source\PSoC5/Bootloader.c **** 
2565:Generated_Source\PSoC5/Bootloader.c ****                             /* Checking if row number is within array address range */
2566:Generated_Source\PSoC5/Bootloader.c ****                             ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
 1410              		.loc 1 2566 0
 1411 055c B7F88832 		ldrh	r3, [r7, #648]
 1412 0560 FF2B     		cmp	r3, #255
 1413 0562 07D8     		bhi	.L104
 1414              		.loc 1 2566 0 is_stmt 0 discriminator 1
 1415 0564 0023     		movs	r3, #0
 1416 0566 06E0     		b	.L105
 1417              	.L127:
 1418              		.align	2
 1419              	.L126:
 1420 0568 00000000 		.word	Bootloader_SizeBytesAccess
 1421 056c 00000000 		.word	.LC0
 1422 0570 00800040 		.word	1073774592
 1423              	.L104:
 1424              		.loc 1 2566 0 discriminator 2
 1425 0574 0A23     		movs	r3, #10
 1426              	.L105:
 1427              		.loc 1 2566 0 discriminator 4
 1428 0576 87F8A532 		strb	r3, [r7, #677]
2567:Generated_Source\PSoC5/Bootloader.c ****                                                        Bootloader_NUMBER_OF_ROWS_IN_ARRAY);
2568:Generated_Source\PSoC5/Bootloader.c ****                     
2569:Generated_Source\PSoC5/Bootloader.c ****                             if (CYRET_SUCCESS != ackCode)
 1429              		.loc 1 2569 0 is_stmt 1 discriminator 4
 1430 057a 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1431 057e 002B     		cmp	r3, #0
 1432 0580 40F0B380 		bne	.L125
2570:Generated_Source\PSoC5/Bootloader.c ****                             {
2571:Generated_Source\PSoC5/Bootloader.c ****                                 break;
2572:Generated_Source\PSoC5/Bootloader.c ****                             }                            
2573:Generated_Source\PSoC5/Bootloader.c **** 
2574:Generated_Source\PSoC5/Bootloader.c ****                             checksum = Bootloader_Calc8BitSum(CY_FLASH_BASE, rowAddr, CYDEV_FLS_ROW
 1433              		.loc 1 2574 0
 1434 0584 4FF48072 		mov	r2, #256
 1435 0588 D7F88412 		ldr	r1, [r7, #644]
 1436 058c 0020     		movs	r0, #0
 1437 058e FFF7FEFF 		bl	Bootloader_Calc8BitSum
 1438 0592 0346     		mov	r3, r0
 1439 0594 87F89732 		strb	r3, [r7, #663]
 1440              	.L103:
2575:Generated_Source\PSoC5/Bootloader.c ****                         }
2576:Generated_Source\PSoC5/Bootloader.c **** 
2577:Generated_Source\PSoC5/Bootloader.c ****                     #else
2578:Generated_Source\PSoC5/Bootloader.c **** 
2579:Generated_Source\PSoC5/Bootloader.c ****                         uint32 CYDATA rowAddr = ((uint32)btldrData * CYDEV_FLS_SECTOR_SIZE)
2580:Generated_Source\PSoC5/Bootloader.c ****                                             + ((uint32)rowNum * CYDEV_FLS_ROW_SIZE);
2581:Generated_Source\PSoC5/Bootloader.c ****                         
2582:Generated_Source\PSoC5/Bootloader.c ****                         uint8 CYDATA checksum;
2583:Generated_Source\PSoC5/Bootloader.c ****                          
2584:Generated_Source\PSoC5/Bootloader.c ****                         /* Checking if row number is within array address range */
2585:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_CHECK_ROW_NUMBER(rowNum, 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 72


2586:Generated_Source\PSoC5/Bootloader.c ****                                                        Bootloader_NUMBER_OF_ROWS_IN_ARRAY);
2587:Generated_Source\PSoC5/Bootloader.c ****                     
2588:Generated_Source\PSoC5/Bootloader.c ****                         if (CYRET_SUCCESS != ackCode)
2589:Generated_Source\PSoC5/Bootloader.c ****                         {
2590:Generated_Source\PSoC5/Bootloader.c ****                             break;
2591:Generated_Source\PSoC5/Bootloader.c ****                         }                     
2592:Generated_Source\PSoC5/Bootloader.c **** 
2593:Generated_Source\PSoC5/Bootloader.c ****                         checksum = Bootloader_Calc8BitSum(CY_FLASH_BASE, rowAddr, CYDEV_FLS_ROW_SIZ
2594:Generated_Source\PSoC5/Bootloader.c **** 
2595:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (!CY_PSOC4) */
2596:Generated_Source\PSoC5/Bootloader.c **** 
2597:Generated_Source\PSoC5/Bootloader.c **** 
2598:Generated_Source\PSoC5/Bootloader.c ****                     /* Calculate checksum on data from ECC */
2599:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u)
2600:Generated_Source\PSoC5/Bootloader.c **** 
2601:Generated_Source\PSoC5/Bootloader.c ****                         if(btldrData <= Bootloader_LAST_FLASH_ARRAYID)
2602:Generated_Source\PSoC5/Bootloader.c ****                         {
2603:Generated_Source\PSoC5/Bootloader.c ****                             uint16 CYDATA tmpIndex;
2604:Generated_Source\PSoC5/Bootloader.c **** 
2605:Generated_Source\PSoC5/Bootloader.c ****                             rowAddr = CYDEV_ECC_BASE + ((uint32)btldrData * (CYDEV_FLS_SECTOR_SIZE 
2606:Generated_Source\PSoC5/Bootloader.c ****                                         + ((uint32)rowNum * CYDEV_ECC_ROW_SIZE);
2607:Generated_Source\PSoC5/Bootloader.c **** 
2608:Generated_Source\PSoC5/Bootloader.c ****                             for(tmpIndex = 0u; tmpIndex < CYDEV_ECC_ROW_SIZE; tmpIndex++)
2609:Generated_Source\PSoC5/Bootloader.c ****                             {
2610:Generated_Source\PSoC5/Bootloader.c ****                                 checksum += CY_GET_XTND_REG8((uint8 CYFAR *)(rowAddr + tmpIndex));
2611:Generated_Source\PSoC5/Bootloader.c ****                             }
2612:Generated_Source\PSoC5/Bootloader.c ****                         }
2613:Generated_Source\PSoC5/Bootloader.c **** 
2614:Generated_Source\PSoC5/Bootloader.c ****                     #endif  /* (!CY_PSOC4) && (CYDEV_ECC_ENABLE == 0u) */
2615:Generated_Source\PSoC5/Bootloader.c **** 
2616:Generated_Source\PSoC5/Bootloader.c **** 
2617:Generated_Source\PSoC5/Bootloader.c ****                     /******************************************************************************
2618:Generated_Source\PSoC5/Bootloader.c ****                     * App Verified & App Active are information updated in flash at the runtime.
2619:Generated_Source\PSoC5/Bootloader.c ****                     * Remove these items from the checksum to allow the host to verify if everythin
2620:Generated_Source\PSoC5/Bootloader.c ****                     * correct.
2621:Generated_Source\PSoC5/Bootloader.c ****                      ******************************************************************************
2622:Generated_Source\PSoC5/Bootloader.c ****                     #if(!CY_PSOC4)
2623:Generated_Source\PSoC5/Bootloader.c ****                         tmpRowNum = rowNum; 
 1441              		.loc 1 2623 0
 1442 0598 B7F88832 		ldrh	r3, [r7, #648]	@ movhi
 1443 059c A7F88232 		strh	r3, [r7, #642]	@ movhi
2624:Generated_Source\PSoC5/Bootloader.c ****                     #else
2625:Generated_Source\PSoC5/Bootloader.c ****                         tmpRowNum = rowNum + ((uint16)(Bootloader_NUMBER_OF_ROWS_IN_ARRAY * btldrDa
2626:Generated_Source\PSoC5/Bootloader.c ****                     #endif
2627:Generated_Source\PSoC5/Bootloader.c ****                     
2628:Generated_Source\PSoC5/Bootloader.c ****                     if((Bootloader_MD_FLASH_ARRAY_NUM == btldrData) && (Bootloader_CONTAIN_METADATA
 1444              		.loc 1 2628 0
 1445 05a0 97F88D32 		ldrb	r3, [r7, #653]	@ zero_extendqisi2
 1446 05a4 032B     		cmp	r3, #3
 1447 05a6 19D1     		bne	.L107
 1448              		.loc 1 2628 0 is_stmt 0 discriminator 1
 1449 05a8 B7F88232 		ldrh	r3, [r7, #642]
 1450 05ac FF2B     		cmp	r3, #255
 1451 05ae 15D1     		bne	.L107
2629:Generated_Source\PSoC5/Bootloader.c ****                     {
2630:Generated_Source\PSoC5/Bootloader.c **** 
2631:Generated_Source\PSoC5/Bootloader.c ****                         checksum -= (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_ACTIVE,
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 73


 1452              		.loc 1 2631 0 is_stmt 1
 1453 05b0 0021     		movs	r1, #0
 1454 05b2 0520     		movs	r0, #5
 1455 05b4 FFF7FEFF 		bl	Bootloader_GetMetadata
 1456 05b8 0346     		mov	r3, r0
 1457 05ba DBB2     		uxtb	r3, r3
 1458 05bc 97F89722 		ldrb	r2, [r7, #663]
 1459 05c0 D31A     		subs	r3, r2, r3
 1460 05c2 87F89732 		strb	r3, [r7, #663]
2632:Generated_Source\PSoC5/Bootloader.c ****                                                                  Bootloader_GET_APP_ID(tmpRowNum));
2633:Generated_Source\PSoC5/Bootloader.c **** 
2634:Generated_Source\PSoC5/Bootloader.c ****                         checksum -= (uint8)Bootloader_GetMetadata(Bootloader_GET_BTLDB_STATUS,
 1461              		.loc 1 2634 0
 1462 05c6 0021     		movs	r1, #0
 1463 05c8 0620     		movs	r0, #6
 1464 05ca FFF7FEFF 		bl	Bootloader_GetMetadata
 1465 05ce 0346     		mov	r3, r0
 1466 05d0 DBB2     		uxtb	r3, r3
 1467 05d2 97F89722 		ldrb	r2, [r7, #663]
 1468 05d6 D31A     		subs	r3, r2, r3
 1469 05d8 87F89732 		strb	r3, [r7, #663]
 1470              	.L107:
2635:Generated_Source\PSoC5/Bootloader.c ****                                                                  Bootloader_GET_APP_ID(tmpRowNum));
2636:Generated_Source\PSoC5/Bootloader.c ****                     }
2637:Generated_Source\PSoC5/Bootloader.c **** 
2638:Generated_Source\PSoC5/Bootloader.c ****                     packetBuffer[Bootloader_DATA_ADDR] = (uint8)1u + (uint8)(~checksum);
 1471              		.loc 1 2638 0
 1472 05dc 97F89732 		ldrb	r3, [r7, #663]
 1473 05e0 5B42     		negs	r3, r3
 1474 05e2 DAB2     		uxtb	r2, r3
 1475 05e4 07F5AA73 		add	r3, r7, #340
 1476 05e8 1A71     		strb	r2, [r3, #4]
2639:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = CYRET_SUCCESS;
 1477              		.loc 1 2639 0
 1478 05ea 0023     		movs	r3, #0
 1479 05ec 87F8A532 		strb	r3, [r7, #677]
2640:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_RSP_SIZE_VERIFY_ROW_CHKSM;
 1480              		.loc 1 2640 0
 1481 05f0 0123     		movs	r3, #1
 1482 05f2 A7F8A632 		strh	r3, [r7, #678]	@ movhi
 1483              	.LBE11:
2641:Generated_Source\PSoC5/Bootloader.c ****                 }
2642:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1484              		.loc 1 2642 0
 1485 05f6 74E0     		b	.L123
 1486              	.L72:
2643:Generated_Source\PSoC5/Bootloader.c **** 
2644:Generated_Source\PSoC5/Bootloader.c ****             #endif /* (0u != Bootloader_CMD_GET_ROW_CHKSUM_AVAIL) */
2645:Generated_Source\PSoC5/Bootloader.c **** 
2646:Generated_Source\PSoC5/Bootloader.c **** 
2647:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2648:Generated_Source\PSoC5/Bootloader.c ****             *   Exit bootloader (0x3B)
2649:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2650:Generated_Source\PSoC5/Bootloader.c ****             case Bootloader_COMMAND_EXIT:
2651:Generated_Source\PSoC5/Bootloader.c **** 
2652:Generated_Source\PSoC5/Bootloader.c ****                 /*******************************************************************************
2653:Generated_Source\PSoC5/Bootloader.c ****                 * Currently the copy flag is checked in the metadata for the second application. 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 74


2654:Generated_Source\PSoC5/Bootloader.c ****                 * If it is set, then the copy operation is required and Launcher (BTLDR) should 
2655:Generated_Source\PSoC5/Bootloader.c ****                 * be scheduled.
2656:Generated_Source\PSoC5/Bootloader.c ****                 *******************************************************************************/
2657:Generated_Source\PSoC5/Bootloader.c ****             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2658:Generated_Source\PSoC5/Bootloader.c ****                 needToCopyFlag = Bootloader_GetMetadata(Bootloader_GET_BTLDB_COPY_FLAG, 
2659:Generated_Source\PSoC5/Bootloader.c ****                                                         Bootloader_MD_BTLDB_ACTIVE_1);             
2660:Generated_Source\PSoC5/Bootloader.c ****         
2661:Generated_Source\PSoC5/Bootloader.c ****                 /* Checking "Need to copy" flag in metadata#1 */
2662:Generated_Source\PSoC5/Bootloader.c ****                 if (0u != (needToCopyFlag & Bootloader_NEED_TO_COPY_MASK))
2663:Generated_Source\PSoC5/Bootloader.c ****                 {  
2664:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDR);
2665:Generated_Source\PSoC5/Bootloader.c ****                 }
2666:Generated_Source\PSoC5/Bootloader.c ****                 else
2667:Generated_Source\PSoC5/Bootloader.c ****             #endif /* (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER) */
2668:Generated_Source\PSoC5/Bootloader.c ****         
2669:Generated_Source\PSoC5/Bootloader.c ****                 if(CYRET_SUCCESS == Bootloader_ValidateBootloadable(Bootloader_activeApp))
 1487              		.loc 1 2669 0
 1488 05f8 0020     		movs	r0, #0
 1489 05fa FFF7FEFF 		bl	Bootloader_ValidateBootloadable
 1490 05fe 0346     		mov	r3, r0
 1491 0600 002B     		cmp	r3, #0
 1492 0602 02D1     		bne	.L108
2670:Generated_Source\PSoC5/Bootloader.c ****                 {
2671:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_SET_RUN_TYPE(Bootloader_SCHEDULE_BTLDB);
 1493              		.loc 1 2671 0
 1494 0604 464B     		ldr	r3, .L128
 1495 0606 8022     		movs	r2, #128
 1496 0608 1A70     		strb	r2, [r3]
 1497              	.L108:
2672:Generated_Source\PSoC5/Bootloader.c ****                 }
2673:Generated_Source\PSoC5/Bootloader.c ****                 
2674:Generated_Source\PSoC5/Bootloader.c ****             #if (CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER)
2675:Generated_Source\PSoC5/Bootloader.c ****                 Bootloader_isBootloading = Bootloader_BOOTLOADING_COMPLETED;
2676:Generated_Source\PSoC5/Bootloader.c ****             #endif /* CYDEV_PROJ_TYPE == CYDEV_PROJ_TYPE_LOADABLEANDBOOTLOADER */    
2677:Generated_Source\PSoC5/Bootloader.c ****             
2678:Generated_Source\PSoC5/Bootloader.c ****                 CyBtldrCommStop();
 1498              		.loc 1 2678 0
 1499 060a FFF7FEFF 		bl	CyBtldrCommStop
2679:Generated_Source\PSoC5/Bootloader.c ****                         
2680:Generated_Source\PSoC5/Bootloader.c ****                 CySoftwareReset();
 1500              		.loc 1 2680 0
 1501 060e FFF7FEFF 		bl	CySoftwareReset
2681:Generated_Source\PSoC5/Bootloader.c **** 
2682:Generated_Source\PSoC5/Bootloader.c ****                 /* Will never get here */
2683:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1502              		.loc 1 2683 0
 1503 0612 6BE0     		b	.L62
 1504              	.L63:
2684:Generated_Source\PSoC5/Bootloader.c **** 
2685:Generated_Source\PSoC5/Bootloader.c **** 
2686:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2687:Generated_Source\PSoC5/Bootloader.c ****             *   Unsupported command
2688:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2689:Generated_Source\PSoC5/Bootloader.c ****             default:
2690:Generated_Source\PSoC5/Bootloader.c ****             
2691:Generated_Source\PSoC5/Bootloader.c ****             #if (!CY_PSOC3)
2692:Generated_Source\PSoC5/Bootloader.c ****                 if ((NULL != Bootloader_callback) && (Bootloader_COMMUNICATION_STATE_ACTIVE == comm
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 75


 1505              		.loc 1 2692 0
 1506 0614 434B     		ldr	r3, .L128+4
 1507 0616 1B68     		ldr	r3, [r3]
 1508 0618 002B     		cmp	r3, #0
 1509 061a 51D0     		beq	.L109
 1510              		.loc 1 2692 0 is_stmt 0 discriminator 1
 1511 061c 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1512 0620 012B     		cmp	r3, #1
 1513 0622 4DD1     		bne	.L109
 1514              	.LBB12:
2693:Generated_Source\PSoC5/Bootloader.c ****                 {
2694:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
2695:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_out_packet_type Bootloader_outPacket;
2696:Generated_Source\PSoC5/Bootloader.c **** 
2697:Generated_Source\PSoC5/Bootloader.c ****                     /* Initializing input packet */
2698:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_inPacket.command = packetBuffer[Bootloader_CMD_ADDR];
 1515              		.loc 1 2698 0 is_stmt 1
 1516 0624 07F5AA73 		add	r3, r7, #340
 1517 0628 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 1518 062a 07F11803 		add	r3, r7, #24
 1519 062e 1A70     		strb	r2, [r3]
2699:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_inPacket.packetLength = pktSize;
 1520              		.loc 1 2699 0
 1521 0630 07F11803 		add	r3, r7, #24
 1522 0634 B7F8A222 		ldrh	r2, [r7, #674]	@ movhi
 1523 0638 5A80     		strh	r2, [r3, #2]	@ movhi
2700:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_inPacket.pInputBuffer = &packetBuffer[Bootloader_DATA_ADDR];
 1524              		.loc 1 2700 0
 1525 063a 07F11803 		add	r3, r7, #24
 1526 063e 07F5AA72 		add	r2, r7, #340
 1527 0642 0432     		adds	r2, r2, #4
 1528 0644 5A60     		str	r2, [r3, #4]
2701:Generated_Source\PSoC5/Bootloader.c ****                                         
2702:Generated_Source\PSoC5/Bootloader.c ****                     /* Clearing and setting output packet */
2703:Generated_Source\PSoC5/Bootloader.c ****                     (void) memset(&Bootloader_outPacket, 0, sizeof(Bootloader_outPacket));
 1529              		.loc 1 2703 0
 1530 0646 07F10C03 		add	r3, r7, #12
 1531 064a 0C22     		movs	r2, #12
 1532 064c 0021     		movs	r1, #0
 1533 064e 1846     		mov	r0, r3
 1534 0650 FFF7FEFF 		bl	memset
2704:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_outPacket.pOutputBuffer = &packetBuffer[Bootloader_DATA_ADDR];
 1535              		.loc 1 2704 0
 1536 0654 07F10C03 		add	r3, r7, #12
 1537 0658 07F5AA72 		add	r2, r7, #340
 1538 065c 0432     		adds	r2, r2, #4
 1539 065e 9A60     		str	r2, [r3, #8]
2705:Generated_Source\PSoC5/Bootloader.c ****                     
2706:Generated_Source\PSoC5/Bootloader.c ****                     /* Callback */
2707:Generated_Source\PSoC5/Bootloader.c ****                     (void) Bootloader_callback(&Bootloader_inPacket, &Bootloader_outPacket);
 1540              		.loc 1 2707 0
 1541 0660 304B     		ldr	r3, .L128+4
 1542 0662 1B68     		ldr	r3, [r3]
 1543 0664 07F10C01 		add	r1, r7, #12
 1544 0668 07F11802 		add	r2, r7, #24
 1545 066c 1046     		mov	r0, r2
 1546 066e 9847     		blx	r3
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 76


2708:Generated_Source\PSoC5/Bootloader.c **** 
2709:Generated_Source\PSoC5/Bootloader.c ****                     rspSize = Bootloader_outPacket.packetLength;
 1547              		.loc 1 2709 0
 1548 0670 07F10C03 		add	r3, r7, #12
 1549 0674 9B88     		ldrh	r3, [r3, #4]	@ movhi
 1550 0676 A7F8A632 		strh	r3, [r7, #678]	@ movhi
2710:Generated_Source\PSoC5/Bootloader.c ****                     if (((rspSize > (Bootloader_SIZEOF_COMMAND_BUFFER - Bootloader_MIN_PKT_SIZE)) &
 1551              		.loc 1 2710 0
 1552 067a B7F8A632 		ldrh	r3, [r7, #678]
 1553 067e B3F5937F 		cmp	r3, #294
 1554 0682 07D3     		bcc	.L110
2711:Generated_Source\PSoC5/Bootloader.c ****                          (Bootloader_outPacket.pOutputBuffer == &packetBuffer[Bootloader_DATA_ADDR]
 1555              		.loc 1 2711 0 discriminator 1
 1556 0684 07F10C03 		add	r3, r7, #12
 1557 0688 9A68     		ldr	r2, [r3, #8]
2710:Generated_Source\PSoC5/Bootloader.c ****                     if (((rspSize > (Bootloader_SIZEOF_COMMAND_BUFFER - Bootloader_MIN_PKT_SIZE)) &
 1558              		.loc 1 2710 0 discriminator 1
 1559 068a 07F5AA73 		add	r3, r7, #340
 1560 068e 0433     		adds	r3, r3, #4
 1561 0690 9A42     		cmp	r2, r3
 1562 0692 08D0     		beq	.L111
 1563              	.L110:
2712:Generated_Source\PSoC5/Bootloader.c ****                         ((NULL == Bootloader_outPacket.pOutputBuffer) && (0u != rspSize)))
 1564              		.loc 1 2712 0
 1565 0694 07F10C03 		add	r3, r7, #12
 1566 0698 9B68     		ldr	r3, [r3, #8]
2711:Generated_Source\PSoC5/Bootloader.c ****                          (Bootloader_outPacket.pOutputBuffer == &packetBuffer[Bootloader_DATA_ADDR]
 1567              		.loc 1 2711 0
 1568 069a 002B     		cmp	r3, #0
 1569 069c 0AD1     		bne	.L112
 1570              		.loc 1 2712 0
 1571 069e B7F8A632 		ldrh	r3, [r7, #678]
 1572 06a2 002B     		cmp	r3, #0
 1573 06a4 06D0     		beq	.L112
 1574              	.L111:
2713:Generated_Source\PSoC5/Bootloader.c ****                     {                    
2714:Generated_Source\PSoC5/Bootloader.c ****                         /* One of returned parameters is wrong */
2715:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = Bootloader_ERR_CALLBACK;
 1575              		.loc 1 2715 0
 1576 06a6 0E23     		movs	r3, #14
 1577 06a8 87F8A532 		strb	r3, [r7, #677]
2716:Generated_Source\PSoC5/Bootloader.c ****                         rspSize = 0u;
 1578              		.loc 1 2716 0
 1579 06ac 0023     		movs	r3, #0
 1580 06ae A7F8A632 		strh	r3, [r7, #678]	@ movhi
 1581              	.LBE12:
2693:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
 1582              		.loc 1 2693 0
 1583 06b2 09E0     		b	.L114
 1584              	.L112:
 1585              	.LBB13:
2717:Generated_Source\PSoC5/Bootloader.c ****                     }
2718:Generated_Source\PSoC5/Bootloader.c ****                     else /* Everything is OK */
2719:Generated_Source\PSoC5/Bootloader.c ****                     {
2720:Generated_Source\PSoC5/Bootloader.c ****                         ackCode = (uint8)Bootloader_outPacket.status;
 1586              		.loc 1 2720 0
 1587 06b4 07F10C03 		add	r3, r7, #12
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 77


 1588 06b8 1B68     		ldr	r3, [r3]
 1589 06ba 87F8A532 		strb	r3, [r7, #677]
 1590              	.LBE13:
2693:Generated_Source\PSoC5/Bootloader.c ****                     Bootloader_in_packet_type Bootloader_inPacket; 
 1591              		.loc 1 2693 0
 1592 06be 03E0     		b	.L114
 1593              	.L109:
2721:Generated_Source\PSoC5/Bootloader.c ****                     }
2722:Generated_Source\PSoC5/Bootloader.c ****                 }    
2723:Generated_Source\PSoC5/Bootloader.c ****                 else /* No callback function defined, so return "Error Command" status */
2724:Generated_Source\PSoC5/Bootloader.c ****             #endif /* (!CY_PSOC3) */
2725:Generated_Source\PSoC5/Bootloader.c ****                 {
2726:Generated_Source\PSoC5/Bootloader.c ****                     ackCode = Bootloader_ERR_CMD;
 1594              		.loc 1 2726 0
 1595 06c0 0523     		movs	r3, #5
 1596 06c2 87F8A532 		strb	r3, [r7, #677]
2727:Generated_Source\PSoC5/Bootloader.c ****                 }    
2728:Generated_Source\PSoC5/Bootloader.c ****                 break;
 1597              		.loc 1 2728 0
 1598 06c6 11E0     		b	.L62
 1599              	.L114:
 1600              		.loc 1 2728 0 is_stmt 0 discriminator 2
 1601 06c8 10E0     		b	.L62
 1602              	.L117:
1828:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (0u != Bootloader_CMD_VERIFY_APP_CHKSUM_AVAIL) */
 1603              		.loc 1 1828 0 is_stmt 1
 1604 06ca 00BF     		nop
 1605 06cc 0EE0     		b	.L62
 1606              	.L118:
2017:Generated_Source\PSoC5/Bootloader.c **** 
 1607              		.loc 1 2017 0
 1608 06ce 00BF     		nop
 1609 06d0 0CE0     		b	.L62
 1610              	.L119:
2361:Generated_Source\PSoC5/Bootloader.c **** 
 1611              		.loc 1 2361 0
 1612 06d2 00BF     		nop
 1613 06d4 0AE0     		b	.L62
 1614              	.L120:
 1615              	.LBB14:
 1616              	.LBB9:
2154:Generated_Source\PSoC5/Bootloader.c ****                         }
 1617              		.loc 1 2154 0
 1618 06d6 00BF     		nop
 1619 06d8 08E0     		b	.L62
 1620              	.L121:
 1621              	.LBE9:
 1622              	.LBE14:
2379:Generated_Source\PSoC5/Bootloader.c **** 
 1623              		.loc 1 2379 0
 1624 06da 00BF     		nop
 1625 06dc 06E0     		b	.L62
 1626              	.L122:
2443:Generated_Source\PSoC5/Bootloader.c **** 
 1627              		.loc 1 2443 0
 1628 06de 00BF     		nop
 1629 06e0 04E0     		b	.L62
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 78


 1630              	.L123:
2642:Generated_Source\PSoC5/Bootloader.c **** 
 1631              		.loc 1 2642 0
 1632 06e2 00BF     		nop
 1633 06e4 02E0     		b	.L62
 1634              	.L124:
 1635              	.LBB15:
2554:Generated_Source\PSoC5/Bootloader.c ****                             }
 1636              		.loc 1 2554 0
 1637 06e6 00BF     		nop
 1638 06e8 00E0     		b	.L62
 1639              	.L125:
2571:Generated_Source\PSoC5/Bootloader.c ****                             }                            
 1640              		.loc 1 2571 0
 1641 06ea 00BF     		nop
 1642              	.L62:
 1643              	.LBE15:
 1644              	.LBE5:
2729:Generated_Source\PSoC5/Bootloader.c ****             }
2730:Generated_Source\PSoC5/Bootloader.c ****         }
2731:Generated_Source\PSoC5/Bootloader.c **** 
2732:Generated_Source\PSoC5/Bootloader.c ****         /* Reply with acknowledge or not acknowledge packet */
2733:Generated_Source\PSoC5/Bootloader.c ****         (void) Bootloader_WritePacket(ackCode, packetBuffer, rspSize);
 1645              		.loc 1 2733 0
 1646 06ec B7F8A622 		ldrh	r2, [r7, #678]
 1647 06f0 07F5AA71 		add	r1, r7, #340
 1648 06f4 97F8A532 		ldrb	r3, [r7, #677]	@ zero_extendqisi2
 1649 06f8 1846     		mov	r0, r3
 1650 06fa FFF7FEFF 		bl	Bootloader_WritePacket
 1651 06fe 00E0     		b	.L55
 1652              	.L116:
1722:Generated_Source\PSoC5/Bootloader.c ****         }
 1653              		.loc 1 1722 0
 1654 0700 00BF     		nop
 1655              	.L55:
2734:Generated_Source\PSoC5/Bootloader.c ****    
2735:Generated_Source\PSoC5/Bootloader.c ****     } while ((0u == timeOut) || (Bootloader_COMMUNICATION_STATE_ACTIVE == communicationState));
 1656              		.loc 1 2735 0
 1657 0702 FB1D     		adds	r3, r7, #7
 1658 0704 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1659 0706 002B     		cmp	r3, #0
 1660 0708 3FF498AC 		beq	.L115
 1661              		.loc 1 2735 0 is_stmt 0 discriminator 1
 1662 070c 97F8A032 		ldrb	r3, [r7, #672]	@ zero_extendqisi2
 1663 0710 012B     		cmp	r3, #1
 1664 0712 3FF493AC 		beq	.L115
2736:Generated_Source\PSoC5/Bootloader.c **** }
 1665              		.loc 1 2736 0 is_stmt 1
 1666 0716 00BF     		nop
 1667 0718 07F52A77 		add	r7, r7, #680
 1668              		.cfi_def_cfa_offset 8
 1669 071c BD46     		mov	sp, r7
 1670              		.cfi_def_cfa_register 13
 1671              		@ sp needed
 1672 071e 80BD     		pop	{r7, pc}
 1673              	.L129:
 1674              		.align	2
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 79


 1675              	.L128:
 1676 0720 FA460040 		.word	1073759994
 1677 0724 00000000 		.word	Bootloader_callback
 1678              		.cfi_endproc
 1679              	.LFE72:
 1680              		.size	Bootloader_HostLink, .-Bootloader_HostLink
 1681              		.section	.text.Bootloader_WritePacket,"ax",%progbits
 1682              		.align	2
 1683              		.thumb
 1684              		.thumb_func
 1685              		.type	Bootloader_WritePacket, %function
 1686              	Bootloader_WritePacket:
 1687              	.LFB73:
2737:Generated_Source\PSoC5/Bootloader.c **** 
2738:Generated_Source\PSoC5/Bootloader.c **** 
2739:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
2740:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_WritePacket
2741:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
2742:Generated_Source\PSoC5/Bootloader.c **** * \internal
2743:Generated_Source\PSoC5/Bootloader.c **** *
2744:Generated_Source\PSoC5/Bootloader.c **** * \brief
2745:Generated_Source\PSoC5/Bootloader.c **** *  Creates a bootloader response packet and transmits it back to the bootloader
2746:Generated_Source\PSoC5/Bootloader.c **** *  host application over the already established communications protocol.
2747:Generated_Source\PSoC5/Bootloader.c **** *
2748:Generated_Source\PSoC5/Bootloader.c **** *  \param status
2749:Generated_Source\PSoC5/Bootloader.c **** *      The status code to pass back as the second byte of the packet.
2750:Generated_Source\PSoC5/Bootloader.c **** *  \param buffer
2751:Generated_Source\PSoC5/Bootloader.c **** *      The buffer containing the data portion of the packet.
2752:Generated_Source\PSoC5/Bootloader.c **** *  \param size
2753:Generated_Source\PSoC5/Bootloader.c **** *      The number of bytes contained within the buffer to pass back.
2754:Generated_Source\PSoC5/Bootloader.c **** *
2755:Generated_Source\PSoC5/Bootloader.c **** * \return
2756:Generated_Source\PSoC5/Bootloader.c **** *   CYRET_SUCCESS if successful. Any other non-zero value if a failure occurred.
2757:Generated_Source\PSoC5/Bootloader.c **** *
2758:Generated_Source\PSoC5/Bootloader.c **** * \endinternal
2759:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
2760:Generated_Source\PSoC5/Bootloader.c **** static cystatus Bootloader_WritePacket(uint8 status, uint8 buffer[], uint16 size) CYSMALL \
2761:Generated_Source\PSoC5/Bootloader.c ****                                             
2762:Generated_Source\PSoC5/Bootloader.c **** {
 1688              		.loc 1 2762 0
 1689              		.cfi_startproc
 1690              		@ args = 0, pretend = 0, frame = 16
 1691              		@ frame_needed = 1, uses_anonymous_args = 0
 1692 0000 80B5     		push	{r7, lr}
 1693              		.cfi_def_cfa_offset 8
 1694              		.cfi_offset 7, -8
 1695              		.cfi_offset 14, -4
 1696 0002 84B0     		sub	sp, sp, #16
 1697              		.cfi_def_cfa_offset 24
 1698 0004 00AF     		add	r7, sp, #0
 1699              		.cfi_def_cfa_register 7
 1700 0006 0346     		mov	r3, r0
 1701 0008 3960     		str	r1, [r7]
 1702 000a FB71     		strb	r3, [r7, #7]
 1703 000c 1346     		mov	r3, r2	@ movhi
 1704 000e BB80     		strh	r3, [r7, #4]	@ movhi
2763:Generated_Source\PSoC5/Bootloader.c ****     uint16 CYDATA checksum;
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 80


2764:Generated_Source\PSoC5/Bootloader.c **** 
2765:Generated_Source\PSoC5/Bootloader.c ****     /* Start of packet. */
2766:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_SOP_ADDR]      = Bootloader_SOP;
 1705              		.loc 1 2766 0
 1706 0010 3B68     		ldr	r3, [r7]
 1707 0012 0122     		movs	r2, #1
 1708 0014 1A70     		strb	r2, [r3]
2767:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_CMD_ADDR]      = status;
 1709              		.loc 1 2767 0
 1710 0016 3B68     		ldr	r3, [r7]
 1711 0018 0133     		adds	r3, r3, #1
 1712 001a FA79     		ldrb	r2, [r7, #7]
 1713 001c 1A70     		strb	r2, [r3]
2768:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_SIZE_ADDR]     = LO8(size);
 1714              		.loc 1 2768 0
 1715 001e 3B68     		ldr	r3, [r7]
 1716 0020 0233     		adds	r3, r3, #2
 1717 0022 BA88     		ldrh	r2, [r7, #4]
 1718 0024 D2B2     		uxtb	r2, r2
 1719 0026 1A70     		strb	r2, [r3]
2769:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_SIZE_ADDR + 1u] = HI8(size);
 1720              		.loc 1 2769 0
 1721 0028 3B68     		ldr	r3, [r7]
 1722 002a 0333     		adds	r3, r3, #3
 1723 002c BA88     		ldrh	r2, [r7, #4]
 1724 002e 120A     		lsrs	r2, r2, #8
 1725 0030 92B2     		uxth	r2, r2
 1726 0032 D2B2     		uxtb	r2, r2
 1727 0034 1A70     		strb	r2, [r3]
2770:Generated_Source\PSoC5/Bootloader.c **** 
2771:Generated_Source\PSoC5/Bootloader.c ****     /* Compute checksum. */
2772:Generated_Source\PSoC5/Bootloader.c ****     checksum = Bootloader_CalcPacketChecksum(buffer, size + Bootloader_DATA_ADDR);
 1728              		.loc 1 2772 0
 1729 0036 BB88     		ldrh	r3, [r7, #4]
 1730 0038 0433     		adds	r3, r3, #4
 1731 003a 9BB2     		uxth	r3, r3
 1732 003c 1946     		mov	r1, r3
 1733 003e 3868     		ldr	r0, [r7]
 1734 0040 FFF7FEFF 		bl	Bootloader_CalcPacketChecksum
 1735 0044 0346     		mov	r3, r0
 1736 0046 FB81     		strh	r3, [r7, #14]	@ movhi
2773:Generated_Source\PSoC5/Bootloader.c **** 
2774:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_CHK_ADDR(size)]     = LO8(checksum);
 1737              		.loc 1 2774 0
 1738 0048 BB88     		ldrh	r3, [r7, #4]
 1739 004a 0433     		adds	r3, r3, #4
 1740 004c 3A68     		ldr	r2, [r7]
 1741 004e 1344     		add	r3, r3, r2
 1742 0050 FA89     		ldrh	r2, [r7, #14]	@ movhi
 1743 0052 D2B2     		uxtb	r2, r2
 1744 0054 1A70     		strb	r2, [r3]
2775:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_CHK_ADDR(1u + size)] = HI8(checksum);
 1745              		.loc 1 2775 0
 1746 0056 BB88     		ldrh	r3, [r7, #4]
 1747 0058 0533     		adds	r3, r3, #5
 1748 005a 3A68     		ldr	r2, [r7]
 1749 005c 1344     		add	r3, r3, r2
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 81


 1750 005e FA89     		ldrh	r2, [r7, #14]
 1751 0060 120A     		lsrs	r2, r2, #8
 1752 0062 92B2     		uxth	r2, r2
 1753 0064 D2B2     		uxtb	r2, r2
 1754 0066 1A70     		strb	r2, [r3]
2776:Generated_Source\PSoC5/Bootloader.c ****     buffer[Bootloader_EOP_ADDR(size)]     = Bootloader_EOP;
 1755              		.loc 1 2776 0
 1756 0068 BB88     		ldrh	r3, [r7, #4]
 1757 006a 0633     		adds	r3, r3, #6
 1758 006c 3A68     		ldr	r2, [r7]
 1759 006e 1344     		add	r3, r3, r2
 1760 0070 1722     		movs	r2, #23
 1761 0072 1A70     		strb	r2, [r3]
2777:Generated_Source\PSoC5/Bootloader.c **** 
2778:Generated_Source\PSoC5/Bootloader.c ****     /* Start packet transmit. */
2779:Generated_Source\PSoC5/Bootloader.c ****     return(CyBtldrCommWrite(buffer, size + Bootloader_MIN_PKT_SIZE, &size, 150u));
 1762              		.loc 1 2779 0
 1763 0074 BB88     		ldrh	r3, [r7, #4]
 1764 0076 0733     		adds	r3, r3, #7
 1765 0078 99B2     		uxth	r1, r3
 1766 007a 3A1D     		adds	r2, r7, #4
 1767 007c 9623     		movs	r3, #150
 1768 007e 3868     		ldr	r0, [r7]
 1769 0080 FFF7FEFF 		bl	CyBtldrCommWrite
 1770 0084 0346     		mov	r3, r0
2780:Generated_Source\PSoC5/Bootloader.c **** }
 1771              		.loc 1 2780 0
 1772 0086 1846     		mov	r0, r3
 1773 0088 1037     		adds	r7, r7, #16
 1774              		.cfi_def_cfa_offset 8
 1775 008a BD46     		mov	sp, r7
 1776              		.cfi_def_cfa_register 13
 1777              		@ sp needed
 1778 008c 80BD     		pop	{r7, pc}
 1779              		.cfi_endproc
 1780              	.LFE73:
 1781              		.size	Bootloader_WritePacket, .-Bootloader_WritePacket
 1782 008e 00BF     		.section	.text.Bootloader_SetFlashByte,"ax",%progbits
 1783              		.align	2
 1784              		.global	Bootloader_SetFlashByte
 1785              		.thumb
 1786              		.thumb_func
 1787              		.type	Bootloader_SetFlashByte, %function
 1788              	Bootloader_SetFlashByte:
 1789              	.LFB74:
2781:Generated_Source\PSoC5/Bootloader.c **** #endif /*(CYDEV_PROJ_TYPE != CYDEV_PROJ_TYPE_LAUNCHER)*/
2782:Generated_Source\PSoC5/Bootloader.c **** 
2783:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
2784:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_SetFlashByte
2785:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
2786:Generated_Source\PSoC5/Bootloader.c **** *
2787:Generated_Source\PSoC5/Bootloader.c **** * \brief
2788:Generated_Source\PSoC5/Bootloader.c **** *  Writes a byte to the specified flash memory location.
2789:Generated_Source\PSoC5/Bootloader.c **** *
2790:Generated_Source\PSoC5/Bootloader.c **** * \param address
2791:Generated_Source\PSoC5/Bootloader.c **** *      The address in flash memory where data will be written.
2792:Generated_Source\PSoC5/Bootloader.c **** * \param runType:
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 82


2793:Generated_Source\PSoC5/Bootloader.c **** *      The byte to be written.
2794:Generated_Source\PSoC5/Bootloader.c **** *
2795:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
2796:Generated_Source\PSoC5/Bootloader.c **** void Bootloader_SetFlashByte(uint32 address, uint8 runType) 
2797:Generated_Source\PSoC5/Bootloader.c **** {
 1790              		.loc 1 2797 0
 1791              		.cfi_startproc
 1792              		@ args = 0, pretend = 0, frame = 280
 1793              		@ frame_needed = 1, uses_anonymous_args = 0
 1794 0000 80B5     		push	{r7, lr}
 1795              		.cfi_def_cfa_offset 8
 1796              		.cfi_offset 7, -8
 1797              		.cfi_offset 14, -4
 1798 0002 C6B0     		sub	sp, sp, #280
 1799              		.cfi_def_cfa_offset 288
 1800 0004 00AF     		add	r7, sp, #0
 1801              		.cfi_def_cfa_register 7
 1802 0006 3B1D     		adds	r3, r7, #4
 1803 0008 1860     		str	r0, [r3]
 1804 000a 0A46     		mov	r2, r1
 1805 000c FB1C     		adds	r3, r7, #3
 1806 000e 1A70     		strb	r2, [r3]
2798:Generated_Source\PSoC5/Bootloader.c ****     uint32 flsAddr = address - CYDEV_FLASH_BASE;
 1807              		.loc 1 2798 0
 1808 0010 3B1D     		adds	r3, r7, #4
 1809 0012 1B68     		ldr	r3, [r3]
 1810 0014 C7F81031 		str	r3, [r7, #272]
2799:Generated_Source\PSoC5/Bootloader.c ****     uint8  rowData[CYDEV_FLS_ROW_SIZE];
2800:Generated_Source\PSoC5/Bootloader.c **** 
2801:Generated_Source\PSoC5/Bootloader.c ****     #if !(CY_PSOC4)
2802:Generated_Source\PSoC5/Bootloader.c ****         uint8 arrayId = ( uint8 )(flsAddr / CYDEV_FLS_SECTOR_SIZE);
 1811              		.loc 1 2802 0
 1812 0018 D7F81031 		ldr	r3, [r7, #272]
 1813 001c 1B0C     		lsrs	r3, r3, #16
 1814 001e 87F80F31 		strb	r3, [r7, #271]
2803:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* !(CY_PSOC4) */
2804:Generated_Source\PSoC5/Bootloader.c **** 
2805:Generated_Source\PSoC5/Bootloader.c ****     #if (CY_PSOC4)
2806:Generated_Source\PSoC5/Bootloader.c ****         uint16 rowNum = ( uint16 )(flsAddr / CYDEV_FLS_ROW_SIZE);
2807:Generated_Source\PSoC5/Bootloader.c ****     #else
2808:Generated_Source\PSoC5/Bootloader.c ****         uint16 rowNum = ( uint16 )((flsAddr % CYDEV_FLS_SECTOR_SIZE) / CYDEV_FLS_ROW_SIZE);
 1815              		.loc 1 2808 0
 1816 0022 D7F81031 		ldr	r3, [r7, #272]
 1817 0026 9BB2     		uxth	r3, r3
 1818 0028 1B0A     		lsrs	r3, r3, #8
 1819 002a A7F80C31 		strh	r3, [r7, #268]	@ movhi
2809:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (CY_PSOC4) */
2810:Generated_Source\PSoC5/Bootloader.c **** 
2811:Generated_Source\PSoC5/Bootloader.c ****     uint32 baseAddr = address - (address % CYDEV_FLS_ROW_SIZE);
 1820              		.loc 1 2811 0
 1821 002e 3B1D     		adds	r3, r7, #4
 1822 0030 1B68     		ldr	r3, [r3]
 1823 0032 23F0FF03 		bic	r3, r3, #255
 1824 0036 C7F80831 		str	r3, [r7, #264]
2812:Generated_Source\PSoC5/Bootloader.c ****     uint16 idx;
2813:Generated_Source\PSoC5/Bootloader.c **** 
2814:Generated_Source\PSoC5/Bootloader.c ****     for(idx = 0u; idx < CYDEV_FLS_ROW_SIZE; idx++)
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 83


 1825              		.loc 1 2814 0
 1826 003a 0023     		movs	r3, #0
 1827 003c A7F81631 		strh	r3, [r7, #278]	@ movhi
 1828 0040 0FE0     		b	.L133
 1829              	.L134:
2815:Generated_Source\PSoC5/Bootloader.c ****     {
2816:Generated_Source\PSoC5/Bootloader.c ****         rowData[idx] = Bootloader_GET_CODE_BYTE(baseAddr + idx);
 1830              		.loc 1 2816 0 discriminator 3
 1831 0042 B7F81631 		ldrh	r3, [r7, #278]
 1832 0046 B7F81611 		ldrh	r1, [r7, #278]
 1833 004a D7F80821 		ldr	r2, [r7, #264]
 1834 004e 0A44     		add	r2, r2, r1
 1835 0050 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 1836 0052 07F10802 		add	r2, r7, #8
 1837 0056 D154     		strb	r1, [r2, r3]
2814:Generated_Source\PSoC5/Bootloader.c ****     {
 1838              		.loc 1 2814 0 discriminator 3
 1839 0058 B7F81631 		ldrh	r3, [r7, #278]
 1840 005c 0133     		adds	r3, r3, #1
 1841 005e A7F81631 		strh	r3, [r7, #278]	@ movhi
 1842              	.L133:
2814:Generated_Source\PSoC5/Bootloader.c ****     {
 1843              		.loc 1 2814 0 is_stmt 0 discriminator 1
 1844 0062 B7F81631 		ldrh	r3, [r7, #278]
 1845 0066 FF2B     		cmp	r3, #255
 1846 0068 EBD9     		bls	.L134
2817:Generated_Source\PSoC5/Bootloader.c ****     }
2818:Generated_Source\PSoC5/Bootloader.c **** 
2819:Generated_Source\PSoC5/Bootloader.c ****     /* Check flash content to avoid unnecessary write to flash */
2820:Generated_Source\PSoC5/Bootloader.c ****     if (rowData[address % CYDEV_FLS_ROW_SIZE] != runType)
 1847              		.loc 1 2820 0 is_stmt 1
 1848 006a 3B1D     		adds	r3, r7, #4
 1849 006c 1B68     		ldr	r3, [r3]
 1850 006e DBB2     		uxtb	r3, r3
 1851 0070 07F10802 		add	r2, r7, #8
 1852 0074 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 1853 0076 FA1C     		adds	r2, r7, #3
 1854 0078 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 1855 007a 9A42     		cmp	r2, r3
 1856 007c 12D0     		beq	.L136
2821:Generated_Source\PSoC5/Bootloader.c ****     {
2822:Generated_Source\PSoC5/Bootloader.c ****         rowData[address % CYDEV_FLS_ROW_SIZE] = runType;
 1857              		.loc 1 2822 0
 1858 007e 3B1D     		adds	r3, r7, #4
 1859 0080 1B68     		ldr	r3, [r3]
 1860 0082 DBB2     		uxtb	r3, r3
 1861 0084 07F10802 		add	r2, r7, #8
 1862 0088 F91C     		adds	r1, r7, #3
 1863 008a 0978     		ldrb	r1, [r1]
 1864 008c D154     		strb	r1, [r2, r3]
2823:Generated_Source\PSoC5/Bootloader.c **** 
2824:Generated_Source\PSoC5/Bootloader.c ****         #if(CY_PSOC4)
2825:Generated_Source\PSoC5/Bootloader.c ****             (void) CySysFlashWriteRow((uint32) rowNum, rowData);
2826:Generated_Source\PSoC5/Bootloader.c ****         #else
2827:Generated_Source\PSoC5/Bootloader.c ****             (void) CyWriteRowData(arrayId, rowNum, rowData);
 1865              		.loc 1 2827 0
 1866 008e 07F10802 		add	r2, r7, #8
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 84


 1867 0092 B7F80C11 		ldrh	r1, [r7, #268]
 1868 0096 97F80F31 		ldrb	r3, [r7, #271]	@ zero_extendqisi2
 1869 009a 1846     		mov	r0, r3
 1870 009c FFF7FEFF 		bl	CyWriteRowData
2828:Generated_Source\PSoC5/Bootloader.c ****         #endif  /* (CY_PSOC4) */
2829:Generated_Source\PSoC5/Bootloader.c **** 
2830:Generated_Source\PSoC5/Bootloader.c ****         #if(CY_PSOC5)
2831:Generated_Source\PSoC5/Bootloader.c ****             /***************************************************************************
2832:Generated_Source\PSoC5/Bootloader.c ****             * When writing to flash, data in the instruction cache can become stale.
2833:Generated_Source\PSoC5/Bootloader.c ****             * Therefore, the cache data does not correlate to the data just written to
2834:Generated_Source\PSoC5/Bootloader.c ****             * flash. A call to CyFlushCache() is required to invalidate the data in the
2835:Generated_Source\PSoC5/Bootloader.c ****             * cache and force fresh information to be loaded from flash.
2836:Generated_Source\PSoC5/Bootloader.c ****             ***************************************************************************/
2837:Generated_Source\PSoC5/Bootloader.c ****             CyFlushCache();
 1871              		.loc 1 2837 0
 1872 00a0 FFF7FEFF 		bl	CyFlushCache
 1873              	.L136:
2838:Generated_Source\PSoC5/Bootloader.c ****         #endif /* (CY_PSOC5) */
2839:Generated_Source\PSoC5/Bootloader.c ****     }
2840:Generated_Source\PSoC5/Bootloader.c **** }
 1874              		.loc 1 2840 0
 1875 00a4 00BF     		nop
 1876 00a6 07F58C77 		add	r7, r7, #280
 1877              		.cfi_def_cfa_offset 8
 1878 00aa BD46     		mov	sp, r7
 1879              		.cfi_def_cfa_register 13
 1880              		@ sp needed
 1881 00ac 80BD     		pop	{r7, pc}
 1882              		.cfi_endproc
 1883              	.LFE74:
 1884              		.size	Bootloader_SetFlashByte, .-Bootloader_SetFlashByte
 1885 00ae 00BF     		.section	.text.Bootloader_GetMetadata,"ax",%progbits
 1886              		.align	2
 1887              		.global	Bootloader_GetMetadata
 1888              		.thumb
 1889              		.thumb_func
 1890              		.type	Bootloader_GetMetadata, %function
 1891              	Bootloader_GetMetadata:
 1892              	.LFB75:
2841:Generated_Source\PSoC5/Bootloader.c **** 
2842:Generated_Source\PSoC5/Bootloader.c **** 
2843:Generated_Source\PSoC5/Bootloader.c **** /*******************************************************************************
2844:Generated_Source\PSoC5/Bootloader.c **** * Function Name: Bootloader_GetMetadata
2845:Generated_Source\PSoC5/Bootloader.c **** ****************************************************************************//**
2846:Generated_Source\PSoC5/Bootloader.c **** *
2847:Generated_Source\PSoC5/Bootloader.c **** * \brief
2848:Generated_Source\PSoC5/Bootloader.c **** *    Returns the value of the specified field of the metadata section.
2849:Generated_Source\PSoC5/Bootloader.c **** *
2850:Generated_Source\PSoC5/Bootloader.c **** * \param field \ref group_metadataFields
2851:Generated_Source\PSoC5/Bootloader.c **** *    Identifies the specific field of metadata.
2852:Generated_Source\PSoC5/Bootloader.c **** *
2853:Generated_Source\PSoC5/Bootloader.c **** * \param appId
2854:Generated_Source\PSoC5/Bootloader.c **** *    The number of the Bootloadable/Combination application. Should be 0 for 
2855:Generated_Source\PSoC5/Bootloader.c **** *    the normal bootloader and 0 or 1 for the Dual-application bootloader.
2856:Generated_Source\PSoC5/Bootloader.c **** *
2857:Generated_Source\PSoC5/Bootloader.c **** * \return
2858:Generated_Source\PSoC5/Bootloader.c **** *    The value of the specified field of the specified application.
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 85


2859:Generated_Source\PSoC5/Bootloader.c **** *
2860:Generated_Source\PSoC5/Bootloader.c **** *******************************************************************************/
2861:Generated_Source\PSoC5/Bootloader.c **** uint32 Bootloader_GetMetadata(uint8 field, uint8 appId)
2862:Generated_Source\PSoC5/Bootloader.c **** {
 1893              		.loc 1 2862 0
 1894              		.cfi_startproc
 1895              		@ args = 0, pretend = 0, frame = 24
 1896              		@ frame_needed = 1, uses_anonymous_args = 0
 1897 0000 80B5     		push	{r7, lr}
 1898              		.cfi_def_cfa_offset 8
 1899              		.cfi_offset 7, -8
 1900              		.cfi_offset 14, -4
 1901 0002 86B0     		sub	sp, sp, #24
 1902              		.cfi_def_cfa_offset 32
 1903 0004 00AF     		add	r7, sp, #0
 1904              		.cfi_def_cfa_register 7
 1905 0006 0346     		mov	r3, r0
 1906 0008 0A46     		mov	r2, r1
 1907 000a FB71     		strb	r3, [r7, #7]
 1908 000c 1346     		mov	r3, r2
 1909 000e BB71     		strb	r3, [r7, #6]
2863:Generated_Source\PSoC5/Bootloader.c ****     uint32 fieldPtr;
2864:Generated_Source\PSoC5/Bootloader.c ****     uint8  fieldSize = 2u;
 1910              		.loc 1 2864 0
 1911 0010 0223     		movs	r3, #2
 1912 0012 FB74     		strb	r3, [r7, #19]
2865:Generated_Source\PSoC5/Bootloader.c ****     uint32 result = 0u;
 1913              		.loc 1 2865 0
 1914 0014 0023     		movs	r3, #0
 1915 0016 FB60     		str	r3, [r7, #12]
2866:Generated_Source\PSoC5/Bootloader.c **** 
2867:Generated_Source\PSoC5/Bootloader.c ****     switch (field)
 1916              		.loc 1 2867 0
 1917 0018 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 1918 001a 013B     		subs	r3, r3, #1
 1919 001c 0B2B     		cmp	r3, #11
 1920 001e 00F2AF80 		bhi	.L138
 1921 0022 01A2     		adr	r2, .L140
 1922 0024 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1923              		.p2align 2
 1924              	.L140:
 1925 0028 59000000 		.word	.L139+1
 1926 002c 73000000 		.word	.L141+1
 1927 0030 8D000000 		.word	.L142+1
 1928 0034 A3000000 		.word	.L143+1
 1929 0038 BD000000 		.word	.L144+1
 1930 003c D7000000 		.word	.L145+1
 1931 0040 07010000 		.word	.L146+1
 1932 0044 F1000000 		.word	.L147+1
 1933 0048 1D010000 		.word	.L148+1
 1934 004c 33010000 		.word	.L149+1
 1935 0050 4D010000 		.word	.L150+1
 1936 0054 67010000 		.word	.L151+1
 1937              		.p2align 1
 1938              	.L139:
2868:Generated_Source\PSoC5/Bootloader.c ****     {
2869:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_CHECKSUM:
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 86


2870:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_CHECKSUM_OFFSET(appId);
 1939              		.loc 1 2870 0
 1940 0058 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 1941 005a 1346     		mov	r3, r2
 1942 005c 1B06     		lsls	r3, r3, #24
 1943 005e 9B1A     		subs	r3, r3, r2
 1944 0060 1B02     		lsls	r3, r3, #8
 1945 0062 03F57F33 		add	r3, r3, #261120
 1946 0066 03F57073 		add	r3, r3, #960
 1947 006a 7B61     		str	r3, [r7, #20]
2871:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 1948              		.loc 1 2871 0
 1949 006c 0123     		movs	r3, #1
 1950 006e FB74     		strb	r3, [r7, #19]
2872:Generated_Source\PSoC5/Bootloader.c ****         break;   
 1951              		.loc 1 2872 0
 1952 0070 8CE0     		b	.L152
 1953              	.L141:
2873:Generated_Source\PSoC5/Bootloader.c **** 
2874:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_ADDR:
2875:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_ADDR_OFFSET(appId);
 1954              		.loc 1 2875 0
 1955 0072 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 1956 0074 1346     		mov	r3, r2
 1957 0076 1B06     		lsls	r3, r3, #24
 1958 0078 9B1A     		subs	r3, r3, r2
 1959 007a 1B02     		lsls	r3, r3, #8
 1960 007c 03F57F33 		add	r3, r3, #261120
 1961 0080 03F2C133 		addw	r3, r3, #961
 1962 0084 7B61     		str	r3, [r7, #20]
2876:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC3)
2877:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 1963              		.loc 1 2877 0
 1964 0086 0423     		movs	r3, #4
 1965 0088 FB74     		strb	r3, [r7, #19]
2878:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC3) */
2879:Generated_Source\PSoC5/Bootloader.c ****         break;
 1966              		.loc 1 2879 0
 1967 008a 7FE0     		b	.L152
 1968              	.L142:
2880:Generated_Source\PSoC5/Bootloader.c **** 
2881:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDR_LAST_ROW:
2882:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDR_LAST_ROW_OFFSET(appId);
 1969              		.loc 1 2882 0
 1970 008c BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 1971 008e 1346     		mov	r3, r2
 1972 0090 1B06     		lsls	r3, r3, #24
 1973 0092 9B1A     		subs	r3, r3, r2
 1974 0094 1B02     		lsls	r3, r3, #8
 1975 0096 03F57F33 		add	r3, r3, #261120
 1976 009a 03F2C533 		addw	r3, r3, #965
 1977 009e 7B61     		str	r3, [r7, #20]
2883:Generated_Source\PSoC5/Bootloader.c ****         break;
 1978              		.loc 1 2883 0
 1979 00a0 74E0     		b	.L152
 1980              	.L143:
2884:Generated_Source\PSoC5/Bootloader.c **** 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 87


2885:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_LENGTH:
2886:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_LENGTH_OFFSET(appId);
 1981              		.loc 1 2886 0
 1982 00a2 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 1983 00a4 1346     		mov	r3, r2
 1984 00a6 1B06     		lsls	r3, r3, #24
 1985 00a8 9B1A     		subs	r3, r3, r2
 1986 00aa 1B02     		lsls	r3, r3, #8
 1987 00ac 03F57F33 		add	r3, r3, #261120
 1988 00b0 03F2C933 		addw	r3, r3, #969
 1989 00b4 7B61     		str	r3, [r7, #20]
2887:Generated_Source\PSoC5/Bootloader.c ****     #if(!CY_PSOC3)
2888:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 1990              		.loc 1 2888 0
 1991 00b6 0423     		movs	r3, #4
 1992 00b8 FB74     		strb	r3, [r7, #19]
2889:Generated_Source\PSoC5/Bootloader.c ****     #endif  /* (!CY_PSOC3) */
2890:Generated_Source\PSoC5/Bootloader.c ****         break;
 1993              		.loc 1 2890 0
 1994 00ba 67E0     		b	.L152
 1995              	.L144:
2891:Generated_Source\PSoC5/Bootloader.c **** 
2892:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_ACTIVE:
2893:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_ACTIVE_OFFSET(appId);
 1996              		.loc 1 2893 0
 1997 00bc BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 1998 00be 1346     		mov	r3, r2
 1999 00c0 1B06     		lsls	r3, r3, #24
 2000 00c2 9B1A     		subs	r3, r3, r2
 2001 00c4 1B02     		lsls	r3, r3, #8
 2002 00c6 03F57F33 		add	r3, r3, #261120
 2003 00ca 03F57473 		add	r3, r3, #976
 2004 00ce 7B61     		str	r3, [r7, #20]
2894:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2005              		.loc 1 2894 0
 2006 00d0 0123     		movs	r3, #1
 2007 00d2 FB74     		strb	r3, [r7, #19]
2895:Generated_Source\PSoC5/Bootloader.c ****         break;
 2008              		.loc 1 2895 0
 2009 00d4 5AE0     		b	.L152
 2010              	.L145:
2896:Generated_Source\PSoC5/Bootloader.c **** 
2897:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_STATUS:
2898:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_VERIFIED_OFFSET(appId);
 2011              		.loc 1 2898 0
 2012 00d6 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2013 00d8 1346     		mov	r3, r2
 2014 00da 1B06     		lsls	r3, r3, #24
 2015 00dc 9B1A     		subs	r3, r3, r2
 2016 00de 1B02     		lsls	r3, r3, #8
 2017 00e0 03F57F33 		add	r3, r3, #261120
 2018 00e4 03F2D133 		addw	r3, r3, #977
 2019 00e8 7B61     		str	r3, [r7, #20]
2899:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2020              		.loc 1 2899 0
 2021 00ea 0123     		movs	r3, #1
 2022 00ec FB74     		strb	r3, [r7, #19]
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 88


2900:Generated_Source\PSoC5/Bootloader.c ****         break;
 2023              		.loc 1 2900 0
 2024 00ee 4DE0     		b	.L152
 2025              	.L147:
2901:Generated_Source\PSoC5/Bootloader.c **** 
2902:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_VERSION:
2903:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_VERSION_OFFSET(appId);
 2026              		.loc 1 2903 0
 2027 00f0 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2028 00f2 1346     		mov	r3, r2
 2029 00f4 1B06     		lsls	r3, r3, #24
 2030 00f6 9B1A     		subs	r3, r3, r2
 2031 00f8 1B02     		lsls	r3, r3, #8
 2032 00fa 03F57F33 		add	r3, r3, #261120
 2033 00fe 03F2D633 		addw	r3, r3, #982
 2034 0102 7B61     		str	r3, [r7, #20]
2904:Generated_Source\PSoC5/Bootloader.c ****         break;
 2035              		.loc 1 2904 0
 2036 0104 42E0     		b	.L152
 2037              	.L146:
2905:Generated_Source\PSoC5/Bootloader.c **** 
2906:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDR_APP_VERSION:
2907:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDR_APP_VERSION_OFFSET(appId);
 2038              		.loc 1 2907 0
 2039 0106 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2040 0108 1346     		mov	r3, r2
 2041 010a 1B06     		lsls	r3, r3, #24
 2042 010c 9B1A     		subs	r3, r3, r2
 2043 010e 1B02     		lsls	r3, r3, #8
 2044 0110 03F57F33 		add	r3, r3, #261120
 2045 0114 03F2D233 		addw	r3, r3, #978
 2046 0118 7B61     		str	r3, [r7, #20]
2908:Generated_Source\PSoC5/Bootloader.c ****         break;
 2047              		.loc 1 2908 0
 2048 011a 37E0     		b	.L152
 2049              	.L148:
2909:Generated_Source\PSoC5/Bootloader.c **** 
2910:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_ID:
2911:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_ID_OFFSET(appId);
 2050              		.loc 1 2911 0
 2051 011c BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2052 011e 1346     		mov	r3, r2
 2053 0120 1B06     		lsls	r3, r3, #24
 2054 0122 9B1A     		subs	r3, r3, r2
 2055 0124 1B02     		lsls	r3, r3, #8
 2056 0126 03F57F33 		add	r3, r3, #261120
 2057 012a 03F57573 		add	r3, r3, #980
 2058 012e 7B61     		str	r3, [r7, #20]
2912:Generated_Source\PSoC5/Bootloader.c ****         break;
 2059              		.loc 1 2912 0
 2060 0130 2CE0     		b	.L152
 2061              	.L149:
2913:Generated_Source\PSoC5/Bootloader.c **** 
2914:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_APP_CUST_ID:
2915:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = Bootloader_MD_BTLDB_APP_CUST_ID_OFFSET(appId);
 2062              		.loc 1 2915 0
 2063 0132 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 89


 2064 0134 1346     		mov	r3, r2
 2065 0136 1B06     		lsls	r3, r3, #24
 2066 0138 9B1A     		subs	r3, r3, r2
 2067 013a 1B02     		lsls	r3, r3, #8
 2068 013c 03F57F33 		add	r3, r3, #261120
 2069 0140 03F57673 		add	r3, r3, #984
 2070 0144 7B61     		str	r3, [r7, #20]
2916:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 2071              		.loc 1 2916 0
 2072 0146 0423     		movs	r3, #4
 2073 0148 FB74     		strb	r3, [r7, #19]
2917:Generated_Source\PSoC5/Bootloader.c ****         break;
 2074              		.loc 1 2917 0
 2075 014a 1FE0     		b	.L152
 2076              	.L150:
2918:Generated_Source\PSoC5/Bootloader.c ****         
2919:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_COPY_FLAG:
2920:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr = Bootloader_MD_BTLDB_COPY_FLAG_OFFSET(appId);
 2077              		.loc 1 2920 0
 2078 014c BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2079 014e 1346     		mov	r3, r2
 2080 0150 1B06     		lsls	r3, r3, #24
 2081 0152 9B1A     		subs	r3, r3, r2
 2082 0154 1B02     		lsls	r3, r3, #8
 2083 0156 03F57F33 		add	r3, r3, #261120
 2084 015a 03F57773 		add	r3, r3, #988
 2085 015e 7B61     		str	r3, [r7, #20]
2921:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 1u;
 2086              		.loc 1 2921 0
 2087 0160 0123     		movs	r3, #1
 2088 0162 FB74     		strb	r3, [r7, #19]
2922:Generated_Source\PSoC5/Bootloader.c ****         break;        
 2089              		.loc 1 2922 0
 2090 0164 12E0     		b	.L152
 2091              	.L151:
2923:Generated_Source\PSoC5/Bootloader.c **** 
2924:Generated_Source\PSoC5/Bootloader.c ****     case Bootloader_GET_BTLDB_USER_DATA:
2925:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr = Bootloader_MD_BTLDB_USER_DATA_OFFSET(appId);
 2092              		.loc 1 2925 0
 2093 0166 BA79     		ldrb	r2, [r7, #6]	@ zero_extendqisi2
 2094 0168 1346     		mov	r3, r2
 2095 016a 1B06     		lsls	r3, r3, #24
 2096 016c 9B1A     		subs	r3, r3, r2
 2097 016e 1B02     		lsls	r3, r3, #8
 2098 0170 03F57F33 		add	r3, r3, #261120
 2099 0174 03F57873 		add	r3, r3, #992
 2100 0178 7B61     		str	r3, [r7, #20]
2926:Generated_Source\PSoC5/Bootloader.c ****         fieldSize = 4u;
 2101              		.loc 1 2926 0
 2102 017a 0423     		movs	r3, #4
 2103 017c FB74     		strb	r3, [r7, #19]
2927:Generated_Source\PSoC5/Bootloader.c ****         break;        
 2104              		.loc 1 2927 0
 2105 017e 05E0     		b	.L152
 2106              	.L138:
2928:Generated_Source\PSoC5/Bootloader.c **** 
2929:Generated_Source\PSoC5/Bootloader.c ****     default:
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 90


2930:Generated_Source\PSoC5/Bootloader.c ****         /* Should never be here */
2931:Generated_Source\PSoC5/Bootloader.c ****         CYASSERT(0u != 0u);
 2107              		.loc 1 2931 0
 2108 0180 0020     		movs	r0, #0
 2109 0182 FFF7FEFF 		bl	CyHalt
2932:Generated_Source\PSoC5/Bootloader.c ****         fieldPtr  = 0u;
 2110              		.loc 1 2932 0
 2111 0186 0023     		movs	r3, #0
 2112 0188 7B61     		str	r3, [r7, #20]
2933:Generated_Source\PSoC5/Bootloader.c ****         break;
 2113              		.loc 1 2933 0
 2114 018a 00BF     		nop
 2115              	.L152:
2934:Generated_Source\PSoC5/Bootloader.c ****     }
2935:Generated_Source\PSoC5/Bootloader.c **** 
2936:Generated_Source\PSoC5/Bootloader.c **** 
2937:Generated_Source\PSoC5/Bootloader.c ****     if (1u == fieldSize)
 2116              		.loc 1 2937 0
 2117 018c FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2118 018e 012B     		cmp	r3, #1
 2119 0190 03D1     		bne	.L153
2938:Generated_Source\PSoC5/Bootloader.c ****     {
2939:Generated_Source\PSoC5/Bootloader.c ****         result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)fieldPtr);
 2120              		.loc 1 2939 0
 2121 0192 7B69     		ldr	r3, [r7, #20]
 2122 0194 1B78     		ldrb	r3, [r3]
 2123 0196 DBB2     		uxtb	r3, r3
 2124 0198 FB60     		str	r3, [r7, #12]
 2125              	.L153:
2940:Generated_Source\PSoC5/Bootloader.c ****     }
2941:Generated_Source\PSoC5/Bootloader.c **** 
2942:Generated_Source\PSoC5/Bootloader.c ****     #if(CY_PSOC3)   /* Big-endian */
2943:Generated_Source\PSoC5/Bootloader.c **** 
2944:Generated_Source\PSoC5/Bootloader.c ****         if (2u == fieldSize)
2945:Generated_Source\PSoC5/Bootloader.c ****         {
2946:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u));
2947:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     )) <<  8u;
2948:Generated_Source\PSoC5/Bootloader.c ****         }
2949:Generated_Source\PSoC5/Bootloader.c **** 
2950:Generated_Source\PSoC5/Bootloader.c ****         if (4u == fieldSize)
2951:Generated_Source\PSoC5/Bootloader.c ****         {
2952:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 3u));
2953:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 2u)) <<  8u;
2954:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u)) << 16u;
2955:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     )) << 24u;
2956:Generated_Source\PSoC5/Bootloader.c ****         }
2957:Generated_Source\PSoC5/Bootloader.c **** 
2958:Generated_Source\PSoC5/Bootloader.c ****     #else   /* PSoC 4 and PSoC 5: Little-endian */
2959:Generated_Source\PSoC5/Bootloader.c **** 
2960:Generated_Source\PSoC5/Bootloader.c ****         if (2u == fieldSize)
 2126              		.loc 1 2960 0
 2127 019a FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2128 019c 022B     		cmp	r3, #2
 2129 019e 0BD1     		bne	.L154
2961:Generated_Source\PSoC5/Bootloader.c ****         {
2962:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *) (fieldPtr     ));
 2130              		.loc 1 2962 0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 91


 2131 01a0 7B69     		ldr	r3, [r7, #20]
 2132 01a2 1B78     		ldrb	r3, [r3]
 2133 01a4 DBB2     		uxtb	r3, r3
 2134 01a6 FB60     		str	r3, [r7, #12]
2963:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *) (fieldPtr + 1u)) <<  8u;
 2135              		.loc 1 2963 0
 2136 01a8 7B69     		ldr	r3, [r7, #20]
 2137 01aa 0133     		adds	r3, r3, #1
 2138 01ac 1B78     		ldrb	r3, [r3]
 2139 01ae DBB2     		uxtb	r3, r3
 2140 01b0 1B02     		lsls	r3, r3, #8
 2141 01b2 FA68     		ldr	r2, [r7, #12]
 2142 01b4 1343     		orrs	r3, r3, r2
 2143 01b6 FB60     		str	r3, [r7, #12]
 2144              	.L154:
2964:Generated_Source\PSoC5/Bootloader.c ****         }
2965:Generated_Source\PSoC5/Bootloader.c **** 
2966:Generated_Source\PSoC5/Bootloader.c ****         if (4u == fieldSize)
 2145              		.loc 1 2966 0
 2146 01b8 FB7C     		ldrb	r3, [r7, #19]	@ zero_extendqisi2
 2147 01ba 042B     		cmp	r3, #4
 2148 01bc 1BD1     		bne	.L155
2967:Generated_Source\PSoC5/Bootloader.c ****         {
2968:Generated_Source\PSoC5/Bootloader.c ****             result =  (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr     ));
 2149              		.loc 1 2968 0
 2150 01be 7B69     		ldr	r3, [r7, #20]
 2151 01c0 1B78     		ldrb	r3, [r3]
 2152 01c2 DBB2     		uxtb	r3, r3
 2153 01c4 FB60     		str	r3, [r7, #12]
2969:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 1u)) <<  8u;
 2154              		.loc 1 2969 0
 2155 01c6 7B69     		ldr	r3, [r7, #20]
 2156 01c8 0133     		adds	r3, r3, #1
 2157 01ca 1B78     		ldrb	r3, [r3]
 2158 01cc DBB2     		uxtb	r3, r3
 2159 01ce 1B02     		lsls	r3, r3, #8
 2160 01d0 FA68     		ldr	r2, [r7, #12]
 2161 01d2 1343     		orrs	r3, r3, r2
 2162 01d4 FB60     		str	r3, [r7, #12]
2970:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 2u)) << 16u;
 2163              		.loc 1 2970 0
 2164 01d6 7B69     		ldr	r3, [r7, #20]
 2165 01d8 0233     		adds	r3, r3, #2
 2166 01da 1B78     		ldrb	r3, [r3]
 2167 01dc DBB2     		uxtb	r3, r3
 2168 01de 1B04     		lsls	r3, r3, #16
 2169 01e0 FA68     		ldr	r2, [r7, #12]
 2170 01e2 1343     		orrs	r3, r3, r2
 2171 01e4 FB60     		str	r3, [r7, #12]
2971:Generated_Source\PSoC5/Bootloader.c ****             result |= (uint32) CY_GET_XTND_REG8((volatile uint8 *)(fieldPtr + 3u)) << 24u;
 2172              		.loc 1 2971 0
 2173 01e6 7B69     		ldr	r3, [r7, #20]
 2174 01e8 0333     		adds	r3, r3, #3
 2175 01ea 1B78     		ldrb	r3, [r3]
 2176 01ec DBB2     		uxtb	r3, r3
 2177 01ee 1B06     		lsls	r3, r3, #24
 2178 01f0 FA68     		ldr	r2, [r7, #12]
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 92


 2179 01f2 1343     		orrs	r3, r3, r2
 2180 01f4 FB60     		str	r3, [r7, #12]
 2181              	.L155:
2972:Generated_Source\PSoC5/Bootloader.c ****         }
2973:Generated_Source\PSoC5/Bootloader.c **** 
2974:Generated_Source\PSoC5/Bootloader.c ****     #endif /* (CY_PSOC3) */
2975:Generated_Source\PSoC5/Bootloader.c **** 
2976:Generated_Source\PSoC5/Bootloader.c ****     return (result);
 2182              		.loc 1 2976 0
 2183 01f6 FB68     		ldr	r3, [r7, #12]
2977:Generated_Source\PSoC5/Bootloader.c **** }
 2184              		.loc 1 2977 0
 2185 01f8 1846     		mov	r0, r3
 2186 01fa 1837     		adds	r7, r7, #24
 2187              		.cfi_def_cfa_offset 8
 2188 01fc BD46     		mov	sp, r7
 2189              		.cfi_def_cfa_register 13
 2190              		@ sp needed
 2191 01fe 80BD     		pop	{r7, pc}
 2192              		.cfi_endproc
 2193              	.LFE75:
 2194              		.size	Bootloader_GetMetadata, .-Bootloader_GetMetadata
 2195              		.text
 2196              	.Letext0:
 2197              		.file 2 "c:\\program files (x86)\\cypress\\psoc creator\\4.4\\psoc creator\\import\\gnu\\arm\\5.4.
 2198              		.file 3 "c:\\program files (x86)\\cypress\\psoc creator\\4.4\\psoc creator\\import\\gnu\\arm\\5.4.
 2199              		.file 4 "Generated_Source\\PSoC5\\cytypes.h"
 2200              		.file 5 "Generated_Source\\PSoC5\\Bootloader.h"
 2201              		.file 6 "Generated_Source\\PSoC5\\Bootloader_PVT.h"
 2202              		.file 7 "Generated_Source\\PSoC5/core_cm3.h"
 2203              		.section	.debug_info,"",%progbits
 2204              	.Ldebug_info0:
 2205 0000 B2070000 		.4byte	0x7b2
 2206 0004 0400     		.2byte	0x4
 2207 0006 00000000 		.4byte	.Ldebug_abbrev0
 2208 000a 04       		.byte	0x4
 2209 000b 01       		.uleb128 0x1
 2210 000c DE000000 		.4byte	.LASF96
 2211 0010 0C       		.byte	0xc
 2212 0011 01040000 		.4byte	.LASF97
 2213 0015 19000000 		.4byte	.LASF98
 2214 0019 60000000 		.4byte	.Ldebug_ranges0+0x60
 2215 001d 00000000 		.4byte	0
 2216 0021 00000000 		.4byte	.Ldebug_line0
 2217 0025 02       		.uleb128 0x2
 2218 0026 01       		.byte	0x1
 2219 0027 06       		.byte	0x6
 2220 0028 54030000 		.4byte	.LASF0
 2221 002c 02       		.uleb128 0x2
 2222 002d 01       		.byte	0x1
 2223 002e 08       		.byte	0x8
 2224 002f 06030000 		.4byte	.LASF1
 2225 0033 02       		.uleb128 0x2
 2226 0034 02       		.byte	0x2
 2227 0035 05       		.byte	0x5
 2228 0036 BA000000 		.4byte	.LASF2
 2229 003a 02       		.uleb128 0x2
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 93


 2230 003b 02       		.byte	0x2
 2231 003c 07       		.byte	0x7
 2232 003d DD040000 		.4byte	.LASF3
 2233 0041 03       		.uleb128 0x3
 2234 0042 7E050000 		.4byte	.LASF9
 2235 0046 02       		.byte	0x2
 2236 0047 3F       		.byte	0x3f
 2237 0048 4C000000 		.4byte	0x4c
 2238 004c 02       		.uleb128 0x2
 2239 004d 04       		.byte	0x4
 2240 004e 05       		.byte	0x5
 2241 004f 51020000 		.4byte	.LASF4
 2242 0053 02       		.uleb128 0x2
 2243 0054 04       		.byte	0x4
 2244 0055 07       		.byte	0x7
 2245 0056 FC040000 		.4byte	.LASF5
 2246 005a 02       		.uleb128 0x2
 2247 005b 08       		.byte	0x8
 2248 005c 05       		.byte	0x5
 2249 005d 2C020000 		.4byte	.LASF6
 2250 0061 02       		.uleb128 0x2
 2251 0062 08       		.byte	0x8
 2252 0063 07       		.byte	0x7
 2253 0064 6D030000 		.4byte	.LASF7
 2254 0068 04       		.uleb128 0x4
 2255 0069 04       		.byte	0x4
 2256 006a 05       		.byte	0x5
 2257 006b 696E7400 		.ascii	"int\000"
 2258 006f 02       		.uleb128 0x2
 2259 0070 04       		.byte	0x4
 2260 0071 07       		.byte	0x7
 2261 0072 1A060000 		.4byte	.LASF8
 2262 0076 03       		.uleb128 0x3
 2263 0077 E4010000 		.4byte	.LASF10
 2264 007b 03       		.byte	0x3
 2265 007c 2C       		.byte	0x2c
 2266 007d 41000000 		.4byte	0x41
 2267 0081 05       		.uleb128 0x5
 2268 0082 DE010000 		.4byte	.LASF11
 2269 0086 04       		.byte	0x4
 2270 0087 E901     		.2byte	0x1e9
 2271 0089 2C000000 		.4byte	0x2c
 2272 008d 05       		.uleb128 0x5
 2273 008e C6010000 		.4byte	.LASF12
 2274 0092 04       		.byte	0x4
 2275 0093 EA01     		.2byte	0x1ea
 2276 0095 3A000000 		.4byte	0x3a
 2277 0099 05       		.uleb128 0x5
 2278 009a F0040000 		.4byte	.LASF13
 2279 009e 04       		.byte	0x4
 2280 009f EB01     		.2byte	0x1eb
 2281 00a1 53000000 		.4byte	0x53
 2282 00a5 02       		.uleb128 0x2
 2283 00a6 04       		.byte	0x4
 2284 00a7 04       		.byte	0x4
 2285 00a8 13000000 		.4byte	.LASF14
 2286 00ac 02       		.uleb128 0x2
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 94


 2287 00ad 08       		.byte	0x8
 2288 00ae 04       		.byte	0x4
 2289 00af 16050000 		.4byte	.LASF15
 2290 00b3 02       		.uleb128 0x2
 2291 00b4 01       		.byte	0x1
 2292 00b5 08       		.byte	0x8
 2293 00b6 62040000 		.4byte	.LASF16
 2294 00ba 05       		.uleb128 0x5
 2295 00bb 74040000 		.4byte	.LASF17
 2296 00bf 04       		.byte	0x4
 2297 00c0 8B02     		.2byte	0x28b
 2298 00c2 53000000 		.4byte	0x53
 2299 00c6 05       		.uleb128 0x5
 2300 00c7 F7040000 		.4byte	.LASF18
 2301 00cb 04       		.byte	0x4
 2302 00cc 9302     		.2byte	0x293
 2303 00ce D2000000 		.4byte	0xd2
 2304 00d2 06       		.uleb128 0x6
 2305 00d3 81000000 		.4byte	0x81
 2306 00d7 02       		.uleb128 0x2
 2307 00d8 08       		.byte	0x8
 2308 00d9 04       		.byte	0x4
 2309 00da F4020000 		.4byte	.LASF19
 2310 00de 02       		.uleb128 0x2
 2311 00df 04       		.byte	0x4
 2312 00e0 07       		.byte	0x7
 2313 00e1 CC000000 		.4byte	.LASF20
 2314 00e5 07       		.uleb128 0x7
 2315 00e6 08       		.byte	0x8
 2316 00e7 05       		.byte	0x5
 2317 00e8 50       		.byte	0x50
 2318 00e9 12010000 		.4byte	0x112
 2319 00ed 08       		.uleb128 0x8
 2320 00ee BA050000 		.4byte	.LASF21
 2321 00f2 05       		.byte	0x5
 2322 00f3 52       		.byte	0x52
 2323 00f4 81000000 		.4byte	0x81
 2324 00f8 00       		.byte	0
 2325 00f9 08       		.uleb128 0x8
 2326 00fa 44020000 		.4byte	.LASF22
 2327 00fe 05       		.byte	0x5
 2328 00ff 53       		.byte	0x53
 2329 0100 8D000000 		.4byte	0x8d
 2330 0104 02       		.byte	0x2
 2331 0105 08       		.uleb128 0x8
 2332 0106 60030000 		.4byte	.LASF23
 2333 010a 05       		.byte	0x5
 2334 010b 54       		.byte	0x54
 2335 010c 12010000 		.4byte	0x112
 2336 0110 04       		.byte	0x4
 2337 0111 00       		.byte	0
 2338 0112 09       		.uleb128 0x9
 2339 0113 04       		.byte	0x4
 2340 0114 81000000 		.4byte	0x81
 2341 0118 03       		.uleb128 0x3
 2342 0119 88050000 		.4byte	.LASF24
 2343 011d 05       		.byte	0x5
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 95


 2344 011e 55       		.byte	0x55
 2345 011f E5000000 		.4byte	0xe5
 2346 0123 07       		.uleb128 0x7
 2347 0124 0C       		.byte	0xc
 2348 0125 05       		.byte	0x5
 2349 0126 57       		.byte	0x57
 2350 0127 50010000 		.4byte	0x150
 2351 012b 08       		.uleb128 0x8
 2352 012c FA030000 		.4byte	.LASF25
 2353 0130 05       		.byte	0x5
 2354 0131 59       		.byte	0x59
 2355 0132 BA000000 		.4byte	0xba
 2356 0136 00       		.byte	0
 2357 0137 08       		.uleb128 0x8
 2358 0138 44020000 		.4byte	.LASF22
 2359 013c 05       		.byte	0x5
 2360 013d 5A       		.byte	0x5a
 2361 013e 8D000000 		.4byte	0x8d
 2362 0142 04       		.byte	0x4
 2363 0143 08       		.uleb128 0x8
 2364 0144 FE010000 		.4byte	.LASF26
 2365 0148 05       		.byte	0x5
 2366 0149 5B       		.byte	0x5b
 2367 014a 12010000 		.4byte	0x112
 2368 014e 08       		.byte	0x8
 2369 014f 00       		.byte	0
 2370 0150 03       		.uleb128 0x3
 2371 0151 25040000 		.4byte	.LASF27
 2372 0155 05       		.byte	0x5
 2373 0156 5C       		.byte	0x5c
 2374 0157 23010000 		.4byte	0x123
 2375 015b 03       		.uleb128 0x3
 2376 015c 86040000 		.4byte	.LASF28
 2377 0160 05       		.byte	0x5
 2378 0161 60       		.byte	0x60
 2379 0162 66010000 		.4byte	0x166
 2380 0166 09       		.uleb128 0x9
 2381 0167 04       		.byte	0x4
 2382 0168 6C010000 		.4byte	0x16c
 2383 016c 0A       		.uleb128 0xa
 2384 016d 7C010000 		.4byte	0x17c
 2385 0171 0B       		.uleb128 0xb
 2386 0172 7C010000 		.4byte	0x17c
 2387 0176 0B       		.uleb128 0xb
 2388 0177 82010000 		.4byte	0x182
 2389 017b 00       		.byte	0
 2390 017c 09       		.uleb128 0x9
 2391 017d 04       		.byte	0x4
 2392 017e 18010000 		.4byte	0x118
 2393 0182 09       		.uleb128 0x9
 2394 0183 04       		.byte	0x4
 2395 0184 50010000 		.4byte	0x150
 2396 0188 07       		.uleb128 0x7
 2397 0189 08       		.byte	0x8
 2398 018a 06       		.byte	0x6
 2399 018b 16       		.byte	0x16
 2400 018c B5010000 		.4byte	0x1b5
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 96


 2401 0190 08       		.uleb128 0x8
 2402 0191 CC040000 		.4byte	.LASF29
 2403 0195 06       		.byte	0x6
 2404 0196 18       		.byte	0x18
 2405 0197 99000000 		.4byte	0x99
 2406 019b 00       		.byte	0
 2407 019c 08       		.uleb128 0x8
 2408 019d C2050000 		.4byte	.LASF30
 2409 01a1 06       		.byte	0x6
 2410 01a2 19       		.byte	0x19
 2411 01a3 81000000 		.4byte	0x81
 2412 01a7 04       		.byte	0x4
 2413 01a8 08       		.uleb128 0x8
 2414 01a9 EC010000 		.4byte	.LASF31
 2415 01ad 06       		.byte	0x6
 2416 01ae 1A       		.byte	0x1a
 2417 01af B5010000 		.4byte	0x1b5
 2418 01b3 05       		.byte	0x5
 2419 01b4 00       		.byte	0
 2420 01b5 0C       		.uleb128 0xc
 2421 01b6 81000000 		.4byte	0x81
 2422 01ba C5010000 		.4byte	0x1c5
 2423 01be 0D       		.uleb128 0xd
 2424 01bf DE000000 		.4byte	0xde
 2425 01c3 02       		.byte	0x2
 2426 01c4 00       		.byte	0
 2427 01c5 03       		.uleb128 0x3
 2428 01c6 27060000 		.4byte	.LASF32
 2429 01ca 06       		.byte	0x6
 2430 01cb 1C       		.byte	0x1c
 2431 01cc 88010000 		.4byte	0x188
 2432 01d0 0E       		.uleb128 0xe
 2433 01d1 36030000 		.4byte	.LASF77
 2434 01d5 01       		.byte	0x1
 2435 01d6 8A01     		.2byte	0x18a
 2436 01d8 8D000000 		.4byte	0x8d
 2437 01dc 00000000 		.4byte	.LFB63
 2438 01e0 40000000 		.4byte	.LFE63-.LFB63
 2439 01e4 01       		.uleb128 0x1
 2440 01e5 9C       		.byte	0x9c
 2441 01e6 18020000 		.4byte	0x218
 2442 01ea 0F       		.uleb128 0xf
 2443 01eb D6040000 		.4byte	.LASF33
 2444 01ef 01       		.byte	0x1
 2445 01f0 8A01     		.2byte	0x18a
 2446 01f2 18020000 		.4byte	0x218
 2447 01f6 02       		.uleb128 0x2
 2448 01f7 91       		.byte	0x91
 2449 01f8 6C       		.sleb128 -20
 2450 01f9 0F       		.uleb128 0xf
 2451 01fa 39050000 		.4byte	.LASF34
 2452 01fe 01       		.byte	0x1
 2453 01ff 8A01     		.2byte	0x18a
 2454 0201 8D000000 		.4byte	0x8d
 2455 0205 02       		.uleb128 0x2
 2456 0206 91       		.byte	0x91
 2457 0207 6A       		.sleb128 -22
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 97


 2458 0208 10       		.uleb128 0x10
 2459 0209 73756D00 		.ascii	"sum\000"
 2460 020d 01       		.byte	0x1
 2461 020e B901     		.2byte	0x1b9
 2462 0210 8D000000 		.4byte	0x8d
 2463 0214 02       		.uleb128 0x2
 2464 0215 91       		.byte	0x91
 2465 0216 76       		.sleb128 -10
 2466 0217 00       		.byte	0
 2467 0218 09       		.uleb128 0x9
 2468 0219 04       		.byte	0x4
 2469 021a 1E020000 		.4byte	0x21e
 2470 021e 11       		.uleb128 0x11
 2471 021f 81000000 		.4byte	0x81
 2472 0223 12       		.uleb128 0x12
 2473 0224 D8030000 		.4byte	.LASF38
 2474 0228 01       		.byte	0x1
 2475 0229 D201     		.2byte	0x1d2
 2476 022b 00000000 		.4byte	.LFB64
 2477 022f 1C000000 		.4byte	.LFE64-.LFB64
 2478 0233 01       		.uleb128 0x1
 2479 0234 9C       		.byte	0x9c
 2480 0235 49020000 		.4byte	0x249
 2481 0239 0F       		.uleb128 0xf
 2482 023a 67040000 		.4byte	.LASF35
 2483 023e 01       		.byte	0x1
 2484 023f D201     		.2byte	0x1d2
 2485 0241 5B010000 		.4byte	0x15b
 2486 0245 02       		.uleb128 0x2
 2487 0246 91       		.byte	0x91
 2488 0247 74       		.sleb128 -12
 2489 0248 00       		.byte	0
 2490 0249 13       		.uleb128 0x13
 2491 024a 5C050000 		.4byte	.LASF47
 2492 024e 01       		.byte	0x1
 2493 024f 1C02     		.2byte	0x21c
 2494 0251 81000000 		.4byte	0x81
 2495 0255 00000000 		.4byte	.LFB65
 2496 0259 54000000 		.4byte	.LFE65-.LFB65
 2497 025d 01       		.uleb128 0x1
 2498 025e 9C       		.byte	0x9c
 2499 025f A0020000 		.4byte	0x2a0
 2500 0263 0F       		.uleb128 0xf
 2501 0264 8F000000 		.4byte	.LASF36
 2502 0268 01       		.byte	0x1
 2503 0269 1C02     		.2byte	0x21c
 2504 026b 99000000 		.4byte	0x99
 2505 026f 02       		.uleb128 0x2
 2506 0270 91       		.byte	0x91
 2507 0271 6C       		.sleb128 -20
 2508 0272 0F       		.uleb128 0xf
 2509 0273 00030000 		.4byte	.LASF37
 2510 0277 01       		.byte	0x1
 2511 0278 1C02     		.2byte	0x21c
 2512 027a 99000000 		.4byte	0x99
 2513 027e 02       		.uleb128 0x2
 2514 027f 91       		.byte	0x91
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 98


 2515 0280 68       		.sleb128 -24
 2516 0281 0F       		.uleb128 0xf
 2517 0282 39050000 		.4byte	.LASF34
 2518 0286 01       		.byte	0x1
 2519 0287 1C02     		.2byte	0x21c
 2520 0289 99000000 		.4byte	0x99
 2521 028d 02       		.uleb128 0x2
 2522 028e 91       		.byte	0x91
 2523 028f 64       		.sleb128 -28
 2524 0290 10       		.uleb128 0x10
 2525 0291 73756D00 		.ascii	"sum\000"
 2526 0295 01       		.byte	0x1
 2527 0296 1F02     		.2byte	0x21f
 2528 0298 81000000 		.4byte	0x81
 2529 029c 02       		.uleb128 0x2
 2530 029d 91       		.byte	0x91
 2531 029e 77       		.sleb128 -9
 2532 029f 00       		.byte	0
 2533 02a0 14       		.uleb128 0x14
 2534 02a1 8B020000 		.4byte	.LASF39
 2535 02a5 01       		.byte	0x1
 2536 02a6 4C03     		.2byte	0x34c
 2537 02a8 00000000 		.4byte	.LFB66
 2538 02ac 94000000 		.4byte	.LFE66-.LFB66
 2539 02b0 01       		.uleb128 0x1
 2540 02b1 9C       		.byte	0x9c
 2541 02b2 D5020000 		.4byte	0x2d5
 2542 02b6 15       		.uleb128 0x15
 2543 02b7 BB040000 		.4byte	.LASF40
 2544 02bb 01       		.byte	0x1
 2545 02bc 5603     		.2byte	0x356
 2546 02be BA000000 		.4byte	0xba
 2547 02c2 02       		.uleb128 0x2
 2548 02c3 91       		.byte	0x91
 2549 02c4 74       		.sleb128 -12
 2550 02c5 15       		.uleb128 0x15
 2551 02c6 A7020000 		.4byte	.LASF41
 2552 02ca 01       		.byte	0x1
 2553 02cb 5903     		.2byte	0x359
 2554 02cd 81000000 		.4byte	0x81
 2555 02d1 02       		.uleb128 0x2
 2556 02d2 91       		.byte	0x91
 2557 02d3 73       		.sleb128 -13
 2558 02d4 00       		.byte	0
 2559 02d5 16       		.uleb128 0x16
 2560 02d6 A9010000 		.4byte	.LASF99
 2561 02da 01       		.byte	0x1
 2562 02db 6C04     		.2byte	0x46c
 2563 02dd 00000000 		.4byte	.LFB67
 2564 02e1 18000000 		.4byte	.LFE67-.LFB67
 2565 02e5 01       		.uleb128 0x1
 2566 02e6 9C       		.byte	0x9c
 2567 02e7 14       		.uleb128 0x14
 2568 02e8 A2050000 		.4byte	.LASF42
 2569 02ec 01       		.byte	0x1
 2570 02ed 9104     		.2byte	0x491
 2571 02ef 00000000 		.4byte	.LFB68
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 99


 2572 02f3 80000000 		.4byte	.LFE68-.LFB68
 2573 02f7 01       		.uleb128 0x1
 2574 02f8 9C       		.byte	0x9c
 2575 02f9 26030000 		.4byte	0x326
 2576 02fd 0F       		.uleb128 0xf
 2577 02fe 06000000 		.4byte	.LASF43
 2578 0302 01       		.byte	0x1
 2579 0303 9104     		.2byte	0x491
 2580 0305 81000000 		.4byte	0x81
 2581 0309 02       		.uleb128 0x2
 2582 030a 91       		.byte	0x91
 2583 030b 6F       		.sleb128 -17
 2584 030c 17       		.uleb128 0x17
 2585 030d 26000000 		.4byte	.LBB2
 2586 0311 40000000 		.4byte	.LBE2-.LBB2
 2587 0315 10       		.uleb128 0x10
 2588 0316 69647800 		.ascii	"idx\000"
 2589 031a 01       		.byte	0x1
 2590 031b 9C04     		.2byte	0x49c
 2591 031d 81000000 		.4byte	0x81
 2592 0321 02       		.uleb128 0x2
 2593 0322 91       		.byte	0x91
 2594 0323 77       		.sleb128 -9
 2595 0324 00       		.byte	0
 2596 0325 00       		.byte	0
 2597 0326 14       		.uleb128 0x14
 2598 0327 A4030000 		.4byte	.LASF44
 2599 032b 01       		.byte	0x1
 2600 032c C604     		.2byte	0x4c6
 2601 032e 00000000 		.4byte	.LFB69
 2602 0332 4C000000 		.4byte	.LFE69-.LFB69
 2603 0336 01       		.uleb128 0x1
 2604 0337 9C       		.byte	0x9c
 2605 0338 56030000 		.4byte	0x356
 2606 033c 17       		.uleb128 0x17
 2607 033d 14000000 		.4byte	.LBB3
 2608 0341 2C000000 		.4byte	.LBE3-.LBB3
 2609 0345 15       		.uleb128 0x15
 2610 0346 9F010000 		.4byte	.LASF45
 2611 034a 01       		.byte	0x1
 2612 034b E204     		.2byte	0x4e2
 2613 034d 81000000 		.4byte	0x81
 2614 0351 02       		.uleb128 0x2
 2615 0352 91       		.byte	0x91
 2616 0353 77       		.sleb128 -9
 2617 0354 00       		.byte	0
 2618 0355 00       		.byte	0
 2619 0356 18       		.uleb128 0x18
 2620 0357 3E050000 		.4byte	.LASF51
 2621 035b 01       		.byte	0x1
 2622 035c 1A05     		.2byte	0x51a
 2623 035e 00000000 		.4byte	.LFB70
 2624 0362 04000000 		.4byte	.LFE70-.LFB70
 2625 0366 01       		.uleb128 0x1
 2626 0367 9C       		.byte	0x9c
 2627 0368 7B030000 		.4byte	0x37b
 2628 036c 0F       		.uleb128 0xf
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 100


 2629 036d A0000000 		.4byte	.LASF46
 2630 0371 01       		.byte	0x1
 2631 0372 1A05     		.2byte	0x51a
 2632 0374 99000000 		.4byte	0x99
 2633 0378 01       		.uleb128 0x1
 2634 0379 50       		.byte	0x50
 2635 037a 00       		.byte	0
 2636 037b 13       		.uleb128 0x13
 2637 037c 0C020000 		.4byte	.LASF48
 2638 0380 01       		.byte	0x1
 2639 0381 4505     		.2byte	0x545
 2640 0383 BA000000 		.4byte	0xba
 2641 0387 00000000 		.4byte	.LFB71
 2642 038b 9E000000 		.4byte	.LFE71-.LFB71
 2643 038f 01       		.uleb128 0x1
 2644 0390 9C       		.byte	0x9c
 2645 0391 FA030000 		.4byte	0x3fa
 2646 0395 0F       		.uleb128 0xf
 2647 0396 06000000 		.4byte	.LASF43
 2648 039a 01       		.byte	0x1
 2649 039b 4505     		.2byte	0x545
 2650 039d 81000000 		.4byte	0x81
 2651 03a1 02       		.uleb128 0x2
 2652 03a2 91       		.byte	0x91
 2653 03a3 5F       		.sleb128 -33
 2654 03a4 10       		.uleb128 0x10
 2655 03a5 69647800 		.ascii	"idx\000"
 2656 03a9 01       		.byte	0x1
 2657 03aa 4805     		.2byte	0x548
 2658 03ac 99000000 		.4byte	0x99
 2659 03b0 02       		.uleb128 0x2
 2660 03b1 91       		.byte	0x91
 2661 03b2 6C       		.sleb128 -20
 2662 03b3 10       		.uleb128 0x10
 2663 03b4 656E6400 		.ascii	"end\000"
 2664 03b8 01       		.byte	0x1
 2665 03b9 4A05     		.2byte	0x54a
 2666 03bb 99000000 		.4byte	0x99
 2667 03bf 02       		.uleb128 0x2
 2668 03c0 91       		.byte	0x91
 2669 03c1 64       		.sleb128 -28
 2670 03c2 15       		.uleb128 0x15
 2671 03c3 00000000 		.4byte	.LASF49
 2672 03c7 01       		.byte	0x1
 2673 03c8 4D05     		.2byte	0x54d
 2674 03ca 81000000 		.4byte	0x81
 2675 03ce 02       		.uleb128 0x2
 2676 03cf 91       		.byte	0x91
 2677 03d0 6B       		.sleb128 -21
 2678 03d1 15       		.uleb128 0x15
 2679 03d2 A7020000 		.4byte	.LASF41
 2680 03d6 01       		.byte	0x1
 2681 03d7 4E05     		.2byte	0x54e
 2682 03d9 81000000 		.4byte	0x81
 2683 03dd 02       		.uleb128 0x2
 2684 03de 91       		.byte	0x91
 2685 03df 6A       		.sleb128 -22
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 101


 2686 03e0 17       		.uleb128 0x17
 2687 03e1 46000000 		.4byte	.LBB4
 2688 03e5 1E000000 		.4byte	.LBE4-.LBB4
 2689 03e9 15       		.uleb128 0x15
 2690 03ea 83020000 		.4byte	.LASF50
 2691 03ee 01       		.byte	0x1
 2692 03ef 6705     		.2byte	0x567
 2693 03f1 81000000 		.4byte	0x81
 2694 03f5 02       		.uleb128 0x2
 2695 03f6 91       		.byte	0x91
 2696 03f7 63       		.sleb128 -29
 2697 03f8 00       		.byte	0
 2698 03f9 00       		.byte	0
 2699 03fa 19       		.uleb128 0x19
 2700 03fb 9F040000 		.4byte	.LASF52
 2701 03ff 01       		.byte	0x1
 2702 0400 6206     		.2byte	0x662
 2703 0402 00000000 		.4byte	.LFB72
 2704 0406 28070000 		.4byte	.LFE72-.LFB72
 2705 040a 01       		.uleb128 0x1
 2706 040b 9C       		.byte	0x9c
 2707 040c D4050000 		.4byte	0x5d4
 2708 0410 0F       		.uleb128 0xf
 2709 0411 B3040000 		.4byte	.LASF53
 2710 0415 01       		.byte	0x1
 2711 0416 6206     		.2byte	0x662
 2712 0418 81000000 		.4byte	0x81
 2713 041c 03       		.uleb128 0x3
 2714 041d 91       		.byte	0x91
 2715 041e D77A     		.sleb128 -681
 2716 0420 15       		.uleb128 0x15
 2717 0421 9C020000 		.4byte	.LASF54
 2718 0425 01       		.byte	0x1
 2719 0426 6906     		.2byte	0x669
 2720 0428 8D000000 		.4byte	0x8d
 2721 042c 02       		.uleb128 0x2
 2722 042d 91       		.byte	0x91
 2723 042e 50       		.sleb128 -48
 2724 042f 15       		.uleb128 0x15
 2725 0430 C4040000 		.4byte	.LASF55
 2726 0434 01       		.byte	0x1
 2727 0435 6A06     		.2byte	0x66a
 2728 0437 8D000000 		.4byte	0x8d
 2729 043b 02       		.uleb128 0x2
 2730 043c 91       		.byte	0x91
 2731 043d 76       		.sleb128 -10
 2732 043e 15       		.uleb128 0x15
 2733 043f C4000000 		.4byte	.LASF56
 2734 0443 01       		.byte	0x1
 2735 0444 6B06     		.2byte	0x66b
 2736 0446 81000000 		.4byte	0x81
 2737 044a 02       		.uleb128 0x2
 2738 044b 91       		.byte	0x91
 2739 044c 75       		.sleb128 -11
 2740 044d 15       		.uleb128 0x15
 2741 044e 84030000 		.4byte	.LASF57
 2742 0452 01       		.byte	0x1
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 102


 2743 0453 6C06     		.2byte	0x66c
 2744 0455 8D000000 		.4byte	0x8d
 2745 0459 02       		.uleb128 0x2
 2746 045a 91       		.byte	0x91
 2747 045b 5E       		.sleb128 -34
 2748 045c 15       		.uleb128 0x15
 2749 045d 7D040000 		.4byte	.LASF58
 2750 0461 01       		.byte	0x1
 2751 0462 6D06     		.2byte	0x66d
 2752 0464 BA000000 		.4byte	0xba
 2753 0468 02       		.uleb128 0x2
 2754 0469 91       		.byte	0x91
 2755 046a 60       		.sleb128 -32
 2756 046b 15       		.uleb128 0x15
 2757 046c 98000000 		.4byte	.LASF59
 2758 0470 01       		.byte	0x1
 2759 0471 6E06     		.2byte	0x66e
 2760 0473 8D000000 		.4byte	0x8d
 2761 0477 02       		.uleb128 0x2
 2762 0478 91       		.byte	0x91
 2763 0479 72       		.sleb128 -14
 2764 047a 15       		.uleb128 0x15
 2765 047b E9020000 		.4byte	.LASF60
 2766 047f 01       		.byte	0x1
 2767 0480 6F06     		.2byte	0x66f
 2768 0482 81000000 		.4byte	0x81
 2769 0486 02       		.uleb128 0x2
 2770 0487 91       		.byte	0x91
 2771 0488 71       		.sleb128 -15
 2772 0489 15       		.uleb128 0x15
 2773 048a 77010000 		.4byte	.LASF61
 2774 048e 01       		.byte	0x1
 2775 048f 7D06     		.2byte	0x67d
 2776 0491 81000000 		.4byte	0x81
 2777 0495 02       		.uleb128 0x2
 2778 0496 91       		.byte	0x91
 2779 0497 70       		.sleb128 -16
 2780 0498 15       		.uleb128 0x15
 2781 0499 6C010000 		.4byte	.LASF62
 2782 049d 01       		.byte	0x1
 2783 049e 7E06     		.2byte	0x67e
 2784 04a0 8D000000 		.4byte	0x8d
 2785 04a4 02       		.uleb128 0x2
 2786 04a5 91       		.byte	0x91
 2787 04a6 6E       		.sleb128 -18
 2788 04a7 15       		.uleb128 0x15
 2789 04a8 40040000 		.4byte	.LASF63
 2790 04ac 01       		.byte	0x1
 2791 04ad 8106     		.2byte	0x681
 2792 04af D4050000 		.4byte	0x5d4
 2793 04b3 03       		.uleb128 0x3
 2794 04b4 91       		.byte	0x91
 2795 04b5 A47D     		.sleb128 -348
 2796 04b7 15       		.uleb128 0x15
 2797 04b8 2B030000 		.4byte	.LASF64
 2798 04bc 01       		.byte	0x1
 2799 04bd 8206     		.2byte	0x682
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 103


 2800 04bf D4050000 		.4byte	0x5d4
 2801 04c3 03       		.uleb128 0x3
 2802 04c4 91       		.byte	0x91
 2803 04c5 F87A     		.sleb128 -648
 2804 04c7 17       		.uleb128 0x17
 2805 04c8 5C010000 		.4byte	.LBB5
 2806 04cc 90050000 		.4byte	.LBE5-.LBB5
 2807 04d0 15       		.uleb128 0x15
 2808 04d1 B0000000 		.4byte	.LASF65
 2809 04d5 01       		.byte	0x1
 2810 04d6 E906     		.2byte	0x6e9
 2811 04d8 81000000 		.4byte	0x81
 2812 04dc 02       		.uleb128 0x2
 2813 04dd 91       		.byte	0x91
 2814 04de 5D       		.sleb128 -35
 2815 04df 1A       		.uleb128 0x1a
 2816 04e0 06020000 		.4byte	.LBB6
 2817 04e4 7E000000 		.4byte	.LBE6-.LBB6
 2818 04e8 0B050000 		.4byte	0x50b
 2819 04ec 15       		.uleb128 0x15
 2820 04ed D5000000 		.4byte	.LASF66
 2821 04f1 01       		.byte	0x1
 2822 04f2 A707     		.2byte	0x7a7
 2823 04f4 8D000000 		.4byte	0x8d
 2824 04f8 02       		.uleb128 0x2
 2825 04f9 91       		.byte	0x91
 2826 04fa 6C       		.sleb128 -20
 2827 04fb 15       		.uleb128 0x15
 2828 04fc 71020000 		.4byte	.LASF67
 2829 0500 01       		.byte	0x1
 2830 0501 A807     		.2byte	0x7a8
 2831 0503 81000000 		.4byte	0x81
 2832 0507 02       		.uleb128 0x2
 2833 0508 91       		.byte	0x91
 2834 0509 5C       		.sleb128 -36
 2835 050a 00       		.byte	0
 2836 050b 1B       		.uleb128 0x1b
 2837 050c 00000000 		.4byte	.Ldebug_ranges0+0
 2838 0510 48050000 		.4byte	0x548
 2839 0514 15       		.uleb128 0x15
 2840 0515 73050000 		.4byte	.LASF68
 2841 0519 01       		.byte	0x1
 2842 051a 3108     		.2byte	0x831
 2843 051c 8D000000 		.4byte	0x8d
 2844 0520 02       		.uleb128 0x2
 2845 0521 91       		.byte	0x91
 2846 0522 6A       		.sleb128 -22
 2847 0523 1C       		.uleb128 0x1c
 2848 0524 18000000 		.4byte	.Ldebug_ranges0+0x18
 2849 0528 10       		.uleb128 0x10
 2850 0529 726F7700 		.ascii	"row\000"
 2851 052d 01       		.byte	0x1
 2852 052e 5908     		.2byte	0x859
 2853 0530 8D000000 		.4byte	0x8d
 2854 0534 02       		.uleb128 0x2
 2855 0535 91       		.byte	0x91
 2856 0536 5A       		.sleb128 -38
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 104


 2857 0537 15       		.uleb128 0x15
 2858 0538 FB050000 		.4byte	.LASF69
 2859 053c 01       		.byte	0x1
 2860 053d 5A08     		.2byte	0x85a
 2861 053f 8D000000 		.4byte	0x8d
 2862 0543 02       		.uleb128 0x2
 2863 0544 91       		.byte	0x91
 2864 0545 68       		.sleb128 -24
 2865 0546 00       		.byte	0
 2866 0547 00       		.byte	0
 2867 0548 1A       		.uleb128 0x1a
 2868 0549 8A040000 		.4byte	.LBB10
 2869 054d 3A000000 		.4byte	.LBE10-.LBB10
 2870 0551 66050000 		.4byte	0x566
 2871 0555 15       		.uleb128 0x15
 2872 0556 8A010000 		.4byte	.LASF70
 2873 055a 01       		.byte	0x1
 2874 055b A209     		.2byte	0x9a2
 2875 055d C5010000 		.4byte	0x1c5
 2876 0561 03       		.uleb128 0x3
 2877 0562 91       		.byte	0x91
 2878 0563 F07A     		.sleb128 -656
 2879 0565 00       		.byte	0
 2880 0566 1B       		.uleb128 0x1b
 2881 0567 30000000 		.4byte	.Ldebug_ranges0+0x30
 2882 056b AC050000 		.4byte	0x5ac
 2883 056f 15       		.uleb128 0x15
 2884 0570 CA020000 		.4byte	.LASF71
 2885 0574 01       		.byte	0x1
 2886 0575 E309     		.2byte	0x9e3
 2887 0577 8D000000 		.4byte	0x8d
 2888 057b 02       		.uleb128 0x2
 2889 057c 91       		.byte	0x91
 2890 057d 58       		.sleb128 -40
 2891 057e 15       		.uleb128 0x15
 2892 057f 3A020000 		.4byte	.LASF72
 2893 0583 01       		.byte	0x1
 2894 0584 E609     		.2byte	0x9e6
 2895 0586 8D000000 		.4byte	0x8d
 2896 058a 02       		.uleb128 0x2
 2897 058b 91       		.byte	0x91
 2898 058c 52       		.sleb128 -46
 2899 058d 15       		.uleb128 0x15
 2900 058e 0E050000 		.4byte	.LASF73
 2901 0592 01       		.byte	0x1
 2902 0593 E909     		.2byte	0x9e9
 2903 0595 99000000 		.4byte	0x99
 2904 0599 02       		.uleb128 0x2
 2905 059a 91       		.byte	0x91
 2906 059b 54       		.sleb128 -44
 2907 059c 15       		.uleb128 0x15
 2908 059d D5010000 		.4byte	.LASF74
 2909 05a1 01       		.byte	0x1
 2910 05a2 EA09     		.2byte	0x9ea
 2911 05a4 81000000 		.4byte	0x81
 2912 05a8 02       		.uleb128 0x2
 2913 05a9 91       		.byte	0x91
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 105


 2914 05aa 67       		.sleb128 -25
 2915 05ab 00       		.byte	0
 2916 05ac 1C       		.uleb128 0x1c
 2917 05ad 48000000 		.4byte	.Ldebug_ranges0+0x48
 2918 05b1 15       		.uleb128 0x15
 2919 05b2 B6020000 		.4byte	.LASF75
 2920 05b6 01       		.byte	0x1
 2921 05b7 860A     		.2byte	0xa86
 2922 05b9 18010000 		.4byte	0x118
 2923 05bd 03       		.uleb128 0x3
 2924 05be 91       		.byte	0x91
 2925 05bf E87A     		.sleb128 -664
 2926 05c1 15       		.uleb128 0x15
 2927 05c2 4D040000 		.4byte	.LASF76
 2928 05c6 01       		.byte	0x1
 2929 05c7 870A     		.2byte	0xa87
 2930 05c9 50010000 		.4byte	0x150
 2931 05cd 03       		.uleb128 0x3
 2932 05ce 91       		.byte	0x91
 2933 05cf DC7A     		.sleb128 -676
 2934 05d1 00       		.byte	0
 2935 05d2 00       		.byte	0
 2936 05d3 00       		.byte	0
 2937 05d4 0C       		.uleb128 0xc
 2938 05d5 81000000 		.4byte	0x81
 2939 05d9 E5050000 		.4byte	0x5e5
 2940 05dd 1D       		.uleb128 0x1d
 2941 05de DE000000 		.4byte	0xde
 2942 05e2 2B01     		.2byte	0x12b
 2943 05e4 00       		.byte	0
 2944 05e5 1E       		.uleb128 0x1e
 2945 05e6 5A020000 		.4byte	.LASF78
 2946 05ea 01       		.byte	0x1
 2947 05eb C80A     		.2byte	0xac8
 2948 05ed BA000000 		.4byte	0xba
 2949 05f1 00000000 		.4byte	.LFB73
 2950 05f5 8E000000 		.4byte	.LFE73-.LFB73
 2951 05f9 01       		.uleb128 0x1
 2952 05fa 9C       		.byte	0x9c
 2953 05fb 3C060000 		.4byte	0x63c
 2954 05ff 0F       		.uleb128 0xf
 2955 0600 FA030000 		.4byte	.LASF25
 2956 0604 01       		.byte	0x1
 2957 0605 C80A     		.2byte	0xac8
 2958 0607 81000000 		.4byte	0x81
 2959 060b 02       		.uleb128 0x2
 2960 060c 91       		.byte	0x91
 2961 060d 6F       		.sleb128 -17
 2962 060e 0F       		.uleb128 0xf
 2963 060f D6040000 		.4byte	.LASF33
 2964 0613 01       		.byte	0x1
 2965 0614 C80A     		.2byte	0xac8
 2966 0616 12010000 		.4byte	0x112
 2967 061a 02       		.uleb128 0x2
 2968 061b 91       		.byte	0x91
 2969 061c 68       		.sleb128 -24
 2970 061d 0F       		.uleb128 0xf
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 106


 2971 061e 39050000 		.4byte	.LASF34
 2972 0622 01       		.byte	0x1
 2973 0623 C80A     		.2byte	0xac8
 2974 0625 8D000000 		.4byte	0x8d
 2975 0629 02       		.uleb128 0x2
 2976 062a 91       		.byte	0x91
 2977 062b 6C       		.sleb128 -20
 2978 062c 15       		.uleb128 0x15
 2979 062d D5010000 		.4byte	.LASF74
 2980 0631 01       		.byte	0x1
 2981 0632 CB0A     		.2byte	0xacb
 2982 0634 8D000000 		.4byte	0x8d
 2983 0638 02       		.uleb128 0x2
 2984 0639 91       		.byte	0x91
 2985 063a 76       		.sleb128 -10
 2986 063b 00       		.byte	0
 2987 063c 14       		.uleb128 0x14
 2988 063d D1020000 		.4byte	.LASF79
 2989 0641 01       		.byte	0x1
 2990 0642 EC0A     		.2byte	0xaec
 2991 0644 00000000 		.4byte	.LFB74
 2992 0648 AE000000 		.4byte	.LFE74-.LFB74
 2993 064c 01       		.uleb128 0x1
 2994 064d 9C       		.byte	0x9c
 2995 064e CE060000 		.4byte	0x6ce
 2996 0652 0F       		.uleb128 0xf
 2997 0653 CD010000 		.4byte	.LASF80
 2998 0657 01       		.byte	0x1
 2999 0658 EC0A     		.2byte	0xaec
 3000 065a 99000000 		.4byte	0x99
 3001 065e 03       		.uleb128 0x3
 3002 065f 91       		.byte	0x91
 3003 0660 E47D     		.sleb128 -284
 3004 0662 0F       		.uleb128 0xf
 3005 0663 97010000 		.4byte	.LASF81
 3006 0667 01       		.byte	0x1
 3007 0668 EC0A     		.2byte	0xaec
 3008 066a 81000000 		.4byte	0x81
 3009 066e 03       		.uleb128 0x3
 3010 066f 91       		.byte	0x91
 3011 0670 E37D     		.sleb128 -285
 3012 0672 15       		.uleb128 0x15
 3013 0673 1D050000 		.4byte	.LASF82
 3014 0677 01       		.byte	0x1
 3015 0678 EE0A     		.2byte	0xaee
 3016 067a 99000000 		.4byte	0x99
 3017 067e 02       		.uleb128 0x2
 3018 067f 91       		.byte	0x91
 3019 0680 70       		.sleb128 -16
 3020 0681 15       		.uleb128 0x15
 3021 0682 A8000000 		.4byte	.LASF83
 3022 0686 01       		.byte	0x1
 3023 0687 EF0A     		.2byte	0xaef
 3024 0689 CE060000 		.4byte	0x6ce
 3025 068d 03       		.uleb128 0x3
 3026 068e 91       		.byte	0x91
 3027 068f E87D     		.sleb128 -280
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 107


 3028 0691 15       		.uleb128 0x15
 3029 0692 B2050000 		.4byte	.LASF84
 3030 0696 01       		.byte	0x1
 3031 0697 F20A     		.2byte	0xaf2
 3032 0699 81000000 		.4byte	0x81
 3033 069d 02       		.uleb128 0x2
 3034 069e 91       		.byte	0x91
 3035 069f 6F       		.sleb128 -17
 3036 06a0 15       		.uleb128 0x15
 3037 06a1 CA020000 		.4byte	.LASF71
 3038 06a5 01       		.byte	0x1
 3039 06a6 F80A     		.2byte	0xaf8
 3040 06a8 8D000000 		.4byte	0x8d
 3041 06ac 02       		.uleb128 0x2
 3042 06ad 91       		.byte	0x91
 3043 06ae 6C       		.sleb128 -20
 3044 06af 15       		.uleb128 0x15
 3045 06b0 8F000000 		.4byte	.LASF36
 3046 06b4 01       		.byte	0x1
 3047 06b5 FB0A     		.2byte	0xafb
 3048 06b7 99000000 		.4byte	0x99
 3049 06bb 02       		.uleb128 0x2
 3050 06bc 91       		.byte	0x91
 3051 06bd 68       		.sleb128 -24
 3052 06be 10       		.uleb128 0x10
 3053 06bf 69647800 		.ascii	"idx\000"
 3054 06c3 01       		.byte	0x1
 3055 06c4 FC0A     		.2byte	0xafc
 3056 06c6 8D000000 		.4byte	0x8d
 3057 06ca 02       		.uleb128 0x2
 3058 06cb 91       		.byte	0x91
 3059 06cc 76       		.sleb128 -10
 3060 06cd 00       		.byte	0
 3061 06ce 0C       		.uleb128 0xc
 3062 06cf 81000000 		.4byte	0x81
 3063 06d3 DE060000 		.4byte	0x6de
 3064 06d7 0D       		.uleb128 0xd
 3065 06d8 DE000000 		.4byte	0xde
 3066 06dc FF       		.byte	0xff
 3067 06dd 00       		.byte	0
 3068 06de 13       		.uleb128 0x13
 3069 06df 14030000 		.4byte	.LASF85
 3070 06e3 01       		.byte	0x1
 3071 06e4 2D0B     		.2byte	0xb2d
 3072 06e6 99000000 		.4byte	0x99
 3073 06ea 00000000 		.4byte	.LFB75
 3074 06ee 00020000 		.4byte	.LFE75-.LFB75
 3075 06f2 01       		.uleb128 0x1
 3076 06f3 9C       		.byte	0x9c
 3077 06f4 44070000 		.4byte	0x744
 3078 06f8 0F       		.uleb128 0xf
 3079 06f9 B8030000 		.4byte	.LASF86
 3080 06fd 01       		.byte	0x1
 3081 06fe 2D0B     		.2byte	0xb2d
 3082 0700 81000000 		.4byte	0x81
 3083 0704 02       		.uleb128 0x2
 3084 0705 91       		.byte	0x91
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 108


 3085 0706 67       		.sleb128 -25
 3086 0707 0F       		.uleb128 0xf
 3087 0708 06000000 		.4byte	.LASF43
 3088 070c 01       		.byte	0x1
 3089 070d 2D0B     		.2byte	0xb2d
 3090 070f 81000000 		.4byte	0x81
 3091 0713 02       		.uleb128 0x2
 3092 0714 91       		.byte	0x91
 3093 0715 66       		.sleb128 -26
 3094 0716 15       		.uleb128 0x15
 3095 0717 11060000 		.4byte	.LASF87
 3096 071b 01       		.byte	0x1
 3097 071c 2F0B     		.2byte	0xb2f
 3098 071e 99000000 		.4byte	0x99
 3099 0722 02       		.uleb128 0x2
 3100 0723 91       		.byte	0x91
 3101 0724 74       		.sleb128 -12
 3102 0725 15       		.uleb128 0x15
 3103 0726 F0030000 		.4byte	.LASF88
 3104 072a 01       		.byte	0x1
 3105 072b 300B     		.2byte	0xb30
 3106 072d 81000000 		.4byte	0x81
 3107 0731 02       		.uleb128 0x2
 3108 0732 91       		.byte	0x91
 3109 0733 73       		.sleb128 -13
 3110 0734 15       		.uleb128 0x15
 3111 0735 0C000000 		.4byte	.LASF89
 3112 0739 01       		.byte	0x1
 3113 073a 310B     		.2byte	0xb31
 3114 073c 99000000 		.4byte	0x99
 3115 0740 02       		.uleb128 0x2
 3116 0741 91       		.byte	0x91
 3117 0742 6C       		.sleb128 -20
 3118 0743 00       		.byte	0
 3119 0744 1F       		.uleb128 0x1f
 3120 0745 25050000 		.4byte	.LASF90
 3121 0749 01       		.byte	0x1
 3122 074a 72       		.byte	0x72
 3123 074b 5B010000 		.4byte	0x15b
 3124 074f 05       		.uleb128 0x5
 3125 0750 03       		.byte	0x3
 3126 0751 00000000 		.4byte	Bootloader_callback
 3127 0755 20       		.uleb128 0x20
 3128 0756 90030000 		.4byte	.LASF91
 3129 075a 01       		.byte	0x1
 3130 075b 2E       		.byte	0x2e
 3131 075c 1E020000 		.4byte	0x21e
 3132 0760 05       		.uleb128 0x5
 3133 0761 03       		.byte	0x3
 3134 0762 00000000 		.4byte	Bootloader_Checksum
 3135 0766 20       		.uleb128 0x20
 3136 0767 BE030000 		.4byte	.LASF92
 3137 076b 01       		.byte	0x1
 3138 076c 32       		.byte	0x32
 3139 076d 18020000 		.4byte	0x218
 3140 0771 05       		.uleb128 0x5
 3141 0772 03       		.byte	0x3
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 109


 3142 0773 00000000 		.4byte	Bootloader_ChecksumAccess
 3143 0777 20       		.uleb128 0x20
 3144 0778 CB050000 		.4byte	.LASF93
 3145 077c 01       		.byte	0x1
 3146 077d 36       		.byte	0x36
 3147 077e 88070000 		.4byte	0x788
 3148 0782 05       		.uleb128 0x5
 3149 0783 03       		.byte	0x3
 3150 0784 00000000 		.4byte	Bootloader_SizeBytes
 3151 0788 11       		.uleb128 0x11
 3152 0789 99000000 		.4byte	0x99
 3153 078d 20       		.uleb128 0x20
 3154 078e E0050000 		.4byte	.LASF94
 3155 0792 01       		.byte	0x1
 3156 0793 3E       		.byte	0x3e
 3157 0794 9E070000 		.4byte	0x79e
 3158 0798 05       		.uleb128 0x5
 3159 0799 03       		.byte	0x3
 3160 079a 00000000 		.4byte	Bootloader_SizeBytesAccess
 3161 079e 09       		.uleb128 0x9
 3162 079f 04       		.byte	0x4
 3163 07a0 88070000 		.4byte	0x788
 3164 07a4 21       		.uleb128 0x21
 3165 07a5 04060000 		.4byte	.LASF95
 3166 07a9 07       		.byte	0x7
 3167 07aa 1207     		.2byte	0x712
 3168 07ac B0070000 		.4byte	0x7b0
 3169 07b0 06       		.uleb128 0x6
 3170 07b1 76000000 		.4byte	0x76
 3171 07b5 00       		.byte	0
 3172              		.section	.debug_abbrev,"",%progbits
 3173              	.Ldebug_abbrev0:
 3174 0000 01       		.uleb128 0x1
 3175 0001 11       		.uleb128 0x11
 3176 0002 01       		.byte	0x1
 3177 0003 25       		.uleb128 0x25
 3178 0004 0E       		.uleb128 0xe
 3179 0005 13       		.uleb128 0x13
 3180 0006 0B       		.uleb128 0xb
 3181 0007 03       		.uleb128 0x3
 3182 0008 0E       		.uleb128 0xe
 3183 0009 1B       		.uleb128 0x1b
 3184 000a 0E       		.uleb128 0xe
 3185 000b 55       		.uleb128 0x55
 3186 000c 17       		.uleb128 0x17
 3187 000d 11       		.uleb128 0x11
 3188 000e 01       		.uleb128 0x1
 3189 000f 10       		.uleb128 0x10
 3190 0010 17       		.uleb128 0x17
 3191 0011 00       		.byte	0
 3192 0012 00       		.byte	0
 3193 0013 02       		.uleb128 0x2
 3194 0014 24       		.uleb128 0x24
 3195 0015 00       		.byte	0
 3196 0016 0B       		.uleb128 0xb
 3197 0017 0B       		.uleb128 0xb
 3198 0018 3E       		.uleb128 0x3e
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 110


 3199 0019 0B       		.uleb128 0xb
 3200 001a 03       		.uleb128 0x3
 3201 001b 0E       		.uleb128 0xe
 3202 001c 00       		.byte	0
 3203 001d 00       		.byte	0
 3204 001e 03       		.uleb128 0x3
 3205 001f 16       		.uleb128 0x16
 3206 0020 00       		.byte	0
 3207 0021 03       		.uleb128 0x3
 3208 0022 0E       		.uleb128 0xe
 3209 0023 3A       		.uleb128 0x3a
 3210 0024 0B       		.uleb128 0xb
 3211 0025 3B       		.uleb128 0x3b
 3212 0026 0B       		.uleb128 0xb
 3213 0027 49       		.uleb128 0x49
 3214 0028 13       		.uleb128 0x13
 3215 0029 00       		.byte	0
 3216 002a 00       		.byte	0
 3217 002b 04       		.uleb128 0x4
 3218 002c 24       		.uleb128 0x24
 3219 002d 00       		.byte	0
 3220 002e 0B       		.uleb128 0xb
 3221 002f 0B       		.uleb128 0xb
 3222 0030 3E       		.uleb128 0x3e
 3223 0031 0B       		.uleb128 0xb
 3224 0032 03       		.uleb128 0x3
 3225 0033 08       		.uleb128 0x8
 3226 0034 00       		.byte	0
 3227 0035 00       		.byte	0
 3228 0036 05       		.uleb128 0x5
 3229 0037 16       		.uleb128 0x16
 3230 0038 00       		.byte	0
 3231 0039 03       		.uleb128 0x3
 3232 003a 0E       		.uleb128 0xe
 3233 003b 3A       		.uleb128 0x3a
 3234 003c 0B       		.uleb128 0xb
 3235 003d 3B       		.uleb128 0x3b
 3236 003e 05       		.uleb128 0x5
 3237 003f 49       		.uleb128 0x49
 3238 0040 13       		.uleb128 0x13
 3239 0041 00       		.byte	0
 3240 0042 00       		.byte	0
 3241 0043 06       		.uleb128 0x6
 3242 0044 35       		.uleb128 0x35
 3243 0045 00       		.byte	0
 3244 0046 49       		.uleb128 0x49
 3245 0047 13       		.uleb128 0x13
 3246 0048 00       		.byte	0
 3247 0049 00       		.byte	0
 3248 004a 07       		.uleb128 0x7
 3249 004b 13       		.uleb128 0x13
 3250 004c 01       		.byte	0x1
 3251 004d 0B       		.uleb128 0xb
 3252 004e 0B       		.uleb128 0xb
 3253 004f 3A       		.uleb128 0x3a
 3254 0050 0B       		.uleb128 0xb
 3255 0051 3B       		.uleb128 0x3b
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 111


 3256 0052 0B       		.uleb128 0xb
 3257 0053 01       		.uleb128 0x1
 3258 0054 13       		.uleb128 0x13
 3259 0055 00       		.byte	0
 3260 0056 00       		.byte	0
 3261 0057 08       		.uleb128 0x8
 3262 0058 0D       		.uleb128 0xd
 3263 0059 00       		.byte	0
 3264 005a 03       		.uleb128 0x3
 3265 005b 0E       		.uleb128 0xe
 3266 005c 3A       		.uleb128 0x3a
 3267 005d 0B       		.uleb128 0xb
 3268 005e 3B       		.uleb128 0x3b
 3269 005f 0B       		.uleb128 0xb
 3270 0060 49       		.uleb128 0x49
 3271 0061 13       		.uleb128 0x13
 3272 0062 38       		.uleb128 0x38
 3273 0063 0B       		.uleb128 0xb
 3274 0064 00       		.byte	0
 3275 0065 00       		.byte	0
 3276 0066 09       		.uleb128 0x9
 3277 0067 0F       		.uleb128 0xf
 3278 0068 00       		.byte	0
 3279 0069 0B       		.uleb128 0xb
 3280 006a 0B       		.uleb128 0xb
 3281 006b 49       		.uleb128 0x49
 3282 006c 13       		.uleb128 0x13
 3283 006d 00       		.byte	0
 3284 006e 00       		.byte	0
 3285 006f 0A       		.uleb128 0xa
 3286 0070 15       		.uleb128 0x15
 3287 0071 01       		.byte	0x1
 3288 0072 27       		.uleb128 0x27
 3289 0073 19       		.uleb128 0x19
 3290 0074 01       		.uleb128 0x1
 3291 0075 13       		.uleb128 0x13
 3292 0076 00       		.byte	0
 3293 0077 00       		.byte	0
 3294 0078 0B       		.uleb128 0xb
 3295 0079 05       		.uleb128 0x5
 3296 007a 00       		.byte	0
 3297 007b 49       		.uleb128 0x49
 3298 007c 13       		.uleb128 0x13
 3299 007d 00       		.byte	0
 3300 007e 00       		.byte	0
 3301 007f 0C       		.uleb128 0xc
 3302 0080 01       		.uleb128 0x1
 3303 0081 01       		.byte	0x1
 3304 0082 49       		.uleb128 0x49
 3305 0083 13       		.uleb128 0x13
 3306 0084 01       		.uleb128 0x1
 3307 0085 13       		.uleb128 0x13
 3308 0086 00       		.byte	0
 3309 0087 00       		.byte	0
 3310 0088 0D       		.uleb128 0xd
 3311 0089 21       		.uleb128 0x21
 3312 008a 00       		.byte	0
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 112


 3313 008b 49       		.uleb128 0x49
 3314 008c 13       		.uleb128 0x13
 3315 008d 2F       		.uleb128 0x2f
 3316 008e 0B       		.uleb128 0xb
 3317 008f 00       		.byte	0
 3318 0090 00       		.byte	0
 3319 0091 0E       		.uleb128 0xe
 3320 0092 2E       		.uleb128 0x2e
 3321 0093 01       		.byte	0x1
 3322 0094 03       		.uleb128 0x3
 3323 0095 0E       		.uleb128 0xe
 3324 0096 3A       		.uleb128 0x3a
 3325 0097 0B       		.uleb128 0xb
 3326 0098 3B       		.uleb128 0x3b
 3327 0099 05       		.uleb128 0x5
 3328 009a 27       		.uleb128 0x27
 3329 009b 19       		.uleb128 0x19
 3330 009c 49       		.uleb128 0x49
 3331 009d 13       		.uleb128 0x13
 3332 009e 11       		.uleb128 0x11
 3333 009f 01       		.uleb128 0x1
 3334 00a0 12       		.uleb128 0x12
 3335 00a1 06       		.uleb128 0x6
 3336 00a2 40       		.uleb128 0x40
 3337 00a3 18       		.uleb128 0x18
 3338 00a4 9742     		.uleb128 0x2117
 3339 00a6 19       		.uleb128 0x19
 3340 00a7 01       		.uleb128 0x1
 3341 00a8 13       		.uleb128 0x13
 3342 00a9 00       		.byte	0
 3343 00aa 00       		.byte	0
 3344 00ab 0F       		.uleb128 0xf
 3345 00ac 05       		.uleb128 0x5
 3346 00ad 00       		.byte	0
 3347 00ae 03       		.uleb128 0x3
 3348 00af 0E       		.uleb128 0xe
 3349 00b0 3A       		.uleb128 0x3a
 3350 00b1 0B       		.uleb128 0xb
 3351 00b2 3B       		.uleb128 0x3b
 3352 00b3 05       		.uleb128 0x5
 3353 00b4 49       		.uleb128 0x49
 3354 00b5 13       		.uleb128 0x13
 3355 00b6 02       		.uleb128 0x2
 3356 00b7 18       		.uleb128 0x18
 3357 00b8 00       		.byte	0
 3358 00b9 00       		.byte	0
 3359 00ba 10       		.uleb128 0x10
 3360 00bb 34       		.uleb128 0x34
 3361 00bc 00       		.byte	0
 3362 00bd 03       		.uleb128 0x3
 3363 00be 08       		.uleb128 0x8
 3364 00bf 3A       		.uleb128 0x3a
 3365 00c0 0B       		.uleb128 0xb
 3366 00c1 3B       		.uleb128 0x3b
 3367 00c2 05       		.uleb128 0x5
 3368 00c3 49       		.uleb128 0x49
 3369 00c4 13       		.uleb128 0x13
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 113


 3370 00c5 02       		.uleb128 0x2
 3371 00c6 18       		.uleb128 0x18
 3372 00c7 00       		.byte	0
 3373 00c8 00       		.byte	0
 3374 00c9 11       		.uleb128 0x11
 3375 00ca 26       		.uleb128 0x26
 3376 00cb 00       		.byte	0
 3377 00cc 49       		.uleb128 0x49
 3378 00cd 13       		.uleb128 0x13
 3379 00ce 00       		.byte	0
 3380 00cf 00       		.byte	0
 3381 00d0 12       		.uleb128 0x12
 3382 00d1 2E       		.uleb128 0x2e
 3383 00d2 01       		.byte	0x1
 3384 00d3 3F       		.uleb128 0x3f
 3385 00d4 19       		.uleb128 0x19
 3386 00d5 03       		.uleb128 0x3
 3387 00d6 0E       		.uleb128 0xe
 3388 00d7 3A       		.uleb128 0x3a
 3389 00d8 0B       		.uleb128 0xb
 3390 00d9 3B       		.uleb128 0x3b
 3391 00da 05       		.uleb128 0x5
 3392 00db 27       		.uleb128 0x27
 3393 00dc 19       		.uleb128 0x19
 3394 00dd 11       		.uleb128 0x11
 3395 00de 01       		.uleb128 0x1
 3396 00df 12       		.uleb128 0x12
 3397 00e0 06       		.uleb128 0x6
 3398 00e1 40       		.uleb128 0x40
 3399 00e2 18       		.uleb128 0x18
 3400 00e3 9742     		.uleb128 0x2117
 3401 00e5 19       		.uleb128 0x19
 3402 00e6 01       		.uleb128 0x1
 3403 00e7 13       		.uleb128 0x13
 3404 00e8 00       		.byte	0
 3405 00e9 00       		.byte	0
 3406 00ea 13       		.uleb128 0x13
 3407 00eb 2E       		.uleb128 0x2e
 3408 00ec 01       		.byte	0x1
 3409 00ed 3F       		.uleb128 0x3f
 3410 00ee 19       		.uleb128 0x19
 3411 00ef 03       		.uleb128 0x3
 3412 00f0 0E       		.uleb128 0xe
 3413 00f1 3A       		.uleb128 0x3a
 3414 00f2 0B       		.uleb128 0xb
 3415 00f3 3B       		.uleb128 0x3b
 3416 00f4 05       		.uleb128 0x5
 3417 00f5 27       		.uleb128 0x27
 3418 00f6 19       		.uleb128 0x19
 3419 00f7 49       		.uleb128 0x49
 3420 00f8 13       		.uleb128 0x13
 3421 00f9 11       		.uleb128 0x11
 3422 00fa 01       		.uleb128 0x1
 3423 00fb 12       		.uleb128 0x12
 3424 00fc 06       		.uleb128 0x6
 3425 00fd 40       		.uleb128 0x40
 3426 00fe 18       		.uleb128 0x18
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 114


 3427 00ff 9642     		.uleb128 0x2116
 3428 0101 19       		.uleb128 0x19
 3429 0102 01       		.uleb128 0x1
 3430 0103 13       		.uleb128 0x13
 3431 0104 00       		.byte	0
 3432 0105 00       		.byte	0
 3433 0106 14       		.uleb128 0x14
 3434 0107 2E       		.uleb128 0x2e
 3435 0108 01       		.byte	0x1
 3436 0109 3F       		.uleb128 0x3f
 3437 010a 19       		.uleb128 0x19
 3438 010b 03       		.uleb128 0x3
 3439 010c 0E       		.uleb128 0xe
 3440 010d 3A       		.uleb128 0x3a
 3441 010e 0B       		.uleb128 0xb
 3442 010f 3B       		.uleb128 0x3b
 3443 0110 05       		.uleb128 0x5
 3444 0111 27       		.uleb128 0x27
 3445 0112 19       		.uleb128 0x19
 3446 0113 11       		.uleb128 0x11
 3447 0114 01       		.uleb128 0x1
 3448 0115 12       		.uleb128 0x12
 3449 0116 06       		.uleb128 0x6
 3450 0117 40       		.uleb128 0x40
 3451 0118 18       		.uleb128 0x18
 3452 0119 9642     		.uleb128 0x2116
 3453 011b 19       		.uleb128 0x19
 3454 011c 01       		.uleb128 0x1
 3455 011d 13       		.uleb128 0x13
 3456 011e 00       		.byte	0
 3457 011f 00       		.byte	0
 3458 0120 15       		.uleb128 0x15
 3459 0121 34       		.uleb128 0x34
 3460 0122 00       		.byte	0
 3461 0123 03       		.uleb128 0x3
 3462 0124 0E       		.uleb128 0xe
 3463 0125 3A       		.uleb128 0x3a
 3464 0126 0B       		.uleb128 0xb
 3465 0127 3B       		.uleb128 0x3b
 3466 0128 05       		.uleb128 0x5
 3467 0129 49       		.uleb128 0x49
 3468 012a 13       		.uleb128 0x13
 3469 012b 02       		.uleb128 0x2
 3470 012c 18       		.uleb128 0x18
 3471 012d 00       		.byte	0
 3472 012e 00       		.byte	0
 3473 012f 16       		.uleb128 0x16
 3474 0130 2E       		.uleb128 0x2e
 3475 0131 00       		.byte	0
 3476 0132 03       		.uleb128 0x3
 3477 0133 0E       		.uleb128 0xe
 3478 0134 3A       		.uleb128 0x3a
 3479 0135 0B       		.uleb128 0xb
 3480 0136 3B       		.uleb128 0x3b
 3481 0137 05       		.uleb128 0x5
 3482 0138 27       		.uleb128 0x27
 3483 0139 19       		.uleb128 0x19
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 115


 3484 013a 11       		.uleb128 0x11
 3485 013b 01       		.uleb128 0x1
 3486 013c 12       		.uleb128 0x12
 3487 013d 06       		.uleb128 0x6
 3488 013e 40       		.uleb128 0x40
 3489 013f 18       		.uleb128 0x18
 3490 0140 9642     		.uleb128 0x2116
 3491 0142 19       		.uleb128 0x19
 3492 0143 00       		.byte	0
 3493 0144 00       		.byte	0
 3494 0145 17       		.uleb128 0x17
 3495 0146 0B       		.uleb128 0xb
 3496 0147 01       		.byte	0x1
 3497 0148 11       		.uleb128 0x11
 3498 0149 01       		.uleb128 0x1
 3499 014a 12       		.uleb128 0x12
 3500 014b 06       		.uleb128 0x6
 3501 014c 00       		.byte	0
 3502 014d 00       		.byte	0
 3503 014e 18       		.uleb128 0x18
 3504 014f 2E       		.uleb128 0x2e
 3505 0150 01       		.byte	0x1
 3506 0151 03       		.uleb128 0x3
 3507 0152 0E       		.uleb128 0xe
 3508 0153 3A       		.uleb128 0x3a
 3509 0154 0B       		.uleb128 0xb
 3510 0155 3B       		.uleb128 0x3b
 3511 0156 05       		.uleb128 0x5
 3512 0157 27       		.uleb128 0x27
 3513 0158 19       		.uleb128 0x19
 3514 0159 11       		.uleb128 0x11
 3515 015a 01       		.uleb128 0x1
 3516 015b 12       		.uleb128 0x12
 3517 015c 06       		.uleb128 0x6
 3518 015d 40       		.uleb128 0x40
 3519 015e 18       		.uleb128 0x18
 3520 015f 9742     		.uleb128 0x2117
 3521 0161 19       		.uleb128 0x19
 3522 0162 01       		.uleb128 0x1
 3523 0163 13       		.uleb128 0x13
 3524 0164 00       		.byte	0
 3525 0165 00       		.byte	0
 3526 0166 19       		.uleb128 0x19
 3527 0167 2E       		.uleb128 0x2e
 3528 0168 01       		.byte	0x1
 3529 0169 03       		.uleb128 0x3
 3530 016a 0E       		.uleb128 0xe
 3531 016b 3A       		.uleb128 0x3a
 3532 016c 0B       		.uleb128 0xb
 3533 016d 3B       		.uleb128 0x3b
 3534 016e 05       		.uleb128 0x5
 3535 016f 27       		.uleb128 0x27
 3536 0170 19       		.uleb128 0x19
 3537 0171 11       		.uleb128 0x11
 3538 0172 01       		.uleb128 0x1
 3539 0173 12       		.uleb128 0x12
 3540 0174 06       		.uleb128 0x6
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 116


 3541 0175 40       		.uleb128 0x40
 3542 0176 18       		.uleb128 0x18
 3543 0177 9642     		.uleb128 0x2116
 3544 0179 19       		.uleb128 0x19
 3545 017a 01       		.uleb128 0x1
 3546 017b 13       		.uleb128 0x13
 3547 017c 00       		.byte	0
 3548 017d 00       		.byte	0
 3549 017e 1A       		.uleb128 0x1a
 3550 017f 0B       		.uleb128 0xb
 3551 0180 01       		.byte	0x1
 3552 0181 11       		.uleb128 0x11
 3553 0182 01       		.uleb128 0x1
 3554 0183 12       		.uleb128 0x12
 3555 0184 06       		.uleb128 0x6
 3556 0185 01       		.uleb128 0x1
 3557 0186 13       		.uleb128 0x13
 3558 0187 00       		.byte	0
 3559 0188 00       		.byte	0
 3560 0189 1B       		.uleb128 0x1b
 3561 018a 0B       		.uleb128 0xb
 3562 018b 01       		.byte	0x1
 3563 018c 55       		.uleb128 0x55
 3564 018d 17       		.uleb128 0x17
 3565 018e 01       		.uleb128 0x1
 3566 018f 13       		.uleb128 0x13
 3567 0190 00       		.byte	0
 3568 0191 00       		.byte	0
 3569 0192 1C       		.uleb128 0x1c
 3570 0193 0B       		.uleb128 0xb
 3571 0194 01       		.byte	0x1
 3572 0195 55       		.uleb128 0x55
 3573 0196 17       		.uleb128 0x17
 3574 0197 00       		.byte	0
 3575 0198 00       		.byte	0
 3576 0199 1D       		.uleb128 0x1d
 3577 019a 21       		.uleb128 0x21
 3578 019b 00       		.byte	0
 3579 019c 49       		.uleb128 0x49
 3580 019d 13       		.uleb128 0x13
 3581 019e 2F       		.uleb128 0x2f
 3582 019f 05       		.uleb128 0x5
 3583 01a0 00       		.byte	0
 3584 01a1 00       		.byte	0
 3585 01a2 1E       		.uleb128 0x1e
 3586 01a3 2E       		.uleb128 0x2e
 3587 01a4 01       		.byte	0x1
 3588 01a5 03       		.uleb128 0x3
 3589 01a6 0E       		.uleb128 0xe
 3590 01a7 3A       		.uleb128 0x3a
 3591 01a8 0B       		.uleb128 0xb
 3592 01a9 3B       		.uleb128 0x3b
 3593 01aa 05       		.uleb128 0x5
 3594 01ab 27       		.uleb128 0x27
 3595 01ac 19       		.uleb128 0x19
 3596 01ad 49       		.uleb128 0x49
 3597 01ae 13       		.uleb128 0x13
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 117


 3598 01af 11       		.uleb128 0x11
 3599 01b0 01       		.uleb128 0x1
 3600 01b1 12       		.uleb128 0x12
 3601 01b2 06       		.uleb128 0x6
 3602 01b3 40       		.uleb128 0x40
 3603 01b4 18       		.uleb128 0x18
 3604 01b5 9642     		.uleb128 0x2116
 3605 01b7 19       		.uleb128 0x19
 3606 01b8 01       		.uleb128 0x1
 3607 01b9 13       		.uleb128 0x13
 3608 01ba 00       		.byte	0
 3609 01bb 00       		.byte	0
 3610 01bc 1F       		.uleb128 0x1f
 3611 01bd 34       		.uleb128 0x34
 3612 01be 00       		.byte	0
 3613 01bf 03       		.uleb128 0x3
 3614 01c0 0E       		.uleb128 0xe
 3615 01c1 3A       		.uleb128 0x3a
 3616 01c2 0B       		.uleb128 0xb
 3617 01c3 3B       		.uleb128 0x3b
 3618 01c4 0B       		.uleb128 0xb
 3619 01c5 49       		.uleb128 0x49
 3620 01c6 13       		.uleb128 0x13
 3621 01c7 02       		.uleb128 0x2
 3622 01c8 18       		.uleb128 0x18
 3623 01c9 00       		.byte	0
 3624 01ca 00       		.byte	0
 3625 01cb 20       		.uleb128 0x20
 3626 01cc 34       		.uleb128 0x34
 3627 01cd 00       		.byte	0
 3628 01ce 03       		.uleb128 0x3
 3629 01cf 0E       		.uleb128 0xe
 3630 01d0 3A       		.uleb128 0x3a
 3631 01d1 0B       		.uleb128 0xb
 3632 01d2 3B       		.uleb128 0x3b
 3633 01d3 0B       		.uleb128 0xb
 3634 01d4 49       		.uleb128 0x49
 3635 01d5 13       		.uleb128 0x13
 3636 01d6 3F       		.uleb128 0x3f
 3637 01d7 19       		.uleb128 0x19
 3638 01d8 02       		.uleb128 0x2
 3639 01d9 18       		.uleb128 0x18
 3640 01da 00       		.byte	0
 3641 01db 00       		.byte	0
 3642 01dc 21       		.uleb128 0x21
 3643 01dd 34       		.uleb128 0x34
 3644 01de 00       		.byte	0
 3645 01df 03       		.uleb128 0x3
 3646 01e0 0E       		.uleb128 0xe
 3647 01e1 3A       		.uleb128 0x3a
 3648 01e2 0B       		.uleb128 0xb
 3649 01e3 3B       		.uleb128 0x3b
 3650 01e4 05       		.uleb128 0x5
 3651 01e5 49       		.uleb128 0x49
 3652 01e6 13       		.uleb128 0x13
 3653 01e7 3F       		.uleb128 0x3f
 3654 01e8 19       		.uleb128 0x19
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 118


 3655 01e9 3C       		.uleb128 0x3c
 3656 01ea 19       		.uleb128 0x19
 3657 01eb 00       		.byte	0
 3658 01ec 00       		.byte	0
 3659 01ed 00       		.byte	0
 3660              		.section	.debug_aranges,"",%progbits
 3661 0000 7C000000 		.4byte	0x7c
 3662 0004 0200     		.2byte	0x2
 3663 0006 00000000 		.4byte	.Ldebug_info0
 3664 000a 04       		.byte	0x4
 3665 000b 00       		.byte	0
 3666 000c 0000     		.2byte	0
 3667 000e 0000     		.2byte	0
 3668 0010 00000000 		.4byte	.LFB63
 3669 0014 40000000 		.4byte	.LFE63-.LFB63
 3670 0018 00000000 		.4byte	.LFB64
 3671 001c 1C000000 		.4byte	.LFE64-.LFB64
 3672 0020 00000000 		.4byte	.LFB65
 3673 0024 54000000 		.4byte	.LFE65-.LFB65
 3674 0028 00000000 		.4byte	.LFB66
 3675 002c 94000000 		.4byte	.LFE66-.LFB66
 3676 0030 00000000 		.4byte	.LFB67
 3677 0034 18000000 		.4byte	.LFE67-.LFB67
 3678 0038 00000000 		.4byte	.LFB68
 3679 003c 80000000 		.4byte	.LFE68-.LFB68
 3680 0040 00000000 		.4byte	.LFB69
 3681 0044 4C000000 		.4byte	.LFE69-.LFB69
 3682 0048 00000000 		.4byte	.LFB70
 3683 004c 04000000 		.4byte	.LFE70-.LFB70
 3684 0050 00000000 		.4byte	.LFB71
 3685 0054 9E000000 		.4byte	.LFE71-.LFB71
 3686 0058 00000000 		.4byte	.LFB72
 3687 005c 28070000 		.4byte	.LFE72-.LFB72
 3688 0060 00000000 		.4byte	.LFB73
 3689 0064 8E000000 		.4byte	.LFE73-.LFB73
 3690 0068 00000000 		.4byte	.LFB74
 3691 006c AE000000 		.4byte	.LFE74-.LFB74
 3692 0070 00000000 		.4byte	.LFB75
 3693 0074 00020000 		.4byte	.LFE75-.LFB75
 3694 0078 00000000 		.4byte	0
 3695 007c 00000000 		.4byte	0
 3696              		.section	.debug_ranges,"",%progbits
 3697              	.Ldebug_ranges0:
 3698 0000 E8020000 		.4byte	.LBB7
 3699 0004 1C040000 		.4byte	.LBE7
 3700 0008 D6060000 		.4byte	.LBB14
 3701 000c DA060000 		.4byte	.LBE14
 3702 0010 00000000 		.4byte	0
 3703 0014 00000000 		.4byte	0
 3704 0018 54030000 		.4byte	.LBB8
 3705 001c 0E040000 		.4byte	.LBE8
 3706 0020 D6060000 		.4byte	.LBB9
 3707 0024 DA060000 		.4byte	.LBE9
 3708 0028 00000000 		.4byte	0
 3709 002c 00000000 		.4byte	0
 3710 0030 E2040000 		.4byte	.LBB11
 3711 0034 F6050000 		.4byte	.LBE11
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 119


 3712 0038 E6060000 		.4byte	.LBB15
 3713 003c EC060000 		.4byte	.LBE15
 3714 0040 00000000 		.4byte	0
 3715 0044 00000000 		.4byte	0
 3716 0048 24060000 		.4byte	.LBB12
 3717 004c B2060000 		.4byte	.LBE12
 3718 0050 B4060000 		.4byte	.LBB13
 3719 0054 BE060000 		.4byte	.LBE13
 3720 0058 00000000 		.4byte	0
 3721 005c 00000000 		.4byte	0
 3722 0060 00000000 		.4byte	.LFB63
 3723 0064 40000000 		.4byte	.LFE63
 3724 0068 00000000 		.4byte	.LFB64
 3725 006c 1C000000 		.4byte	.LFE64
 3726 0070 00000000 		.4byte	.LFB65
 3727 0074 54000000 		.4byte	.LFE65
 3728 0078 00000000 		.4byte	.LFB66
 3729 007c 94000000 		.4byte	.LFE66
 3730 0080 00000000 		.4byte	.LFB67
 3731 0084 18000000 		.4byte	.LFE67
 3732 0088 00000000 		.4byte	.LFB68
 3733 008c 80000000 		.4byte	.LFE68
 3734 0090 00000000 		.4byte	.LFB69
 3735 0094 4C000000 		.4byte	.LFE69
 3736 0098 00000000 		.4byte	.LFB70
 3737 009c 04000000 		.4byte	.LFE70
 3738 00a0 00000000 		.4byte	.LFB71
 3739 00a4 9E000000 		.4byte	.LFE71
 3740 00a8 00000000 		.4byte	.LFB72
 3741 00ac 28070000 		.4byte	.LFE72
 3742 00b0 00000000 		.4byte	.LFB73
 3743 00b4 8E000000 		.4byte	.LFE73
 3744 00b8 00000000 		.4byte	.LFB74
 3745 00bc AE000000 		.4byte	.LFE74
 3746 00c0 00000000 		.4byte	.LFB75
 3747 00c4 00020000 		.4byte	.LFE75
 3748 00c8 00000000 		.4byte	0
 3749 00cc 00000000 		.4byte	0
 3750              		.section	.debug_line,"",%progbits
 3751              	.Ldebug_line0:
 3752 0000 4C050000 		.section	.debug_str,"MS",%progbits,1
 3752      02007601 
 3752      00000201 
 3752      FB0E0D00 
 3752      01010101 
 3753              	.LASF49:
 3754 0000 76616C69 		.ascii	"valid\000"
 3754      6400
 3755              	.LASF43:
 3756 0006 61707049 		.ascii	"appId\000"
 3756      6400
 3757              	.LASF89:
 3758 000c 72657375 		.ascii	"result\000"
 3758      6C7400
 3759              	.LASF14:
 3760 0013 666C6F61 		.ascii	"float\000"
 3760      7400
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 120


 3761              	.LASF98:
 3762 0019 433A5C55 		.ascii	"C:\\Users\\Taha\\Creative Cloud Files\\Desktop\\Iro"
 3762      73657273 
 3762      5C546168 
 3762      615C4372 
 3762      65617469 
 3763 0047 5465616D 		.ascii	"Team\\#Sina_IroTeam_CM_embOS_FOTA\\IroTeam_CM_Bootl"
 3763      5C235369 
 3763      6E615F49 
 3763      726F5465 
 3763      616D5F43 
 3764 0078 6F616465 		.ascii	"oader\\Bootloader.cydsn\000"
 3764      725C426F 
 3764      6F746C6F 
 3764      61646572 
 3764      2E637964 
 3765              	.LASF36:
 3766 008f 62617365 		.ascii	"baseAddr\000"
 3766      41646472 
 3766      00
 3767              	.LASF59:
 3768 0098 706B7453 		.ascii	"pktSize\000"
 3768      697A6500 
 3769              	.LASF46:
 3770 00a0 61707041 		.ascii	"appAddr\000"
 3770      64647200 
 3771              	.LASF83:
 3772 00a8 726F7744 		.ascii	"rowData\000"
 3772      61746100 
 3773              	.LASF65:
 3774 00b0 62746C64 		.ascii	"btldrData\000"
 3774      72446174 
 3774      6100
 3775              	.LASF2:
 3776 00ba 73686F72 		.ascii	"short int\000"
 3776      7420696E 
 3776      7400
 3777              	.LASF56:
 3778 00c4 61636B43 		.ascii	"ackCode\000"
 3778      6F646500 
 3779              	.LASF20:
 3780 00cc 73697A65 		.ascii	"sizetype\000"
 3780      74797065 
 3780      00
 3781              	.LASF66:
 3782 00d5 73746172 		.ascii	"startRow\000"
 3782      74526F77 
 3782      00
 3783              	.LASF96:
 3784 00de 474E5520 		.ascii	"GNU C11 5.4.1 20160609 (release) [ARM/embedded-5-br"
 3784      43313120 
 3784      352E342E 
 3784      31203230 
 3784      31363036 
 3785 0111 616E6368 		.ascii	"anch revision 237715] -mcpu=cortex-m3 -mthumb -g -O"
 3785      20726576 
 3785      6973696F 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 121


 3785      6E203233 
 3785      37373135 
 3786 0144 30202D66 		.ascii	"0 -ffunction-sections -ffat-lto-objects\000"
 3786      66756E63 
 3786      74696F6E 
 3786      2D736563 
 3786      74696F6E 
 3787              	.LASF62:
 3788 016c 64617461 		.ascii	"dataOffset\000"
 3788      4F666673 
 3788      657400
 3789              	.LASF61:
 3790 0177 636F6D6D 		.ascii	"communicationState\000"
 3790      756E6963 
 3790      6174696F 
 3790      6E537461 
 3790      746500
 3791              	.LASF70:
 3792 018a 42746C64 		.ascii	"BtldrVersion\000"
 3792      72566572 
 3792      73696F6E 
 3792      00
 3793              	.LASF81:
 3794 0197 72756E54 		.ascii	"runType\000"
 3794      79706500 
 3795              	.LASF45:
 3796 019f 61637469 		.ascii	"activeApp\000"
 3796      76654170 
 3796      7000
 3797              	.LASF99:
 3798 01a9 426F6F74 		.ascii	"Bootloader_LaunchApplication\000"
 3798      6C6F6164 
 3798      65725F4C 
 3798      61756E63 
 3798      68417070 
 3799              	.LASF12:
 3800 01c6 75696E74 		.ascii	"uint16\000"
 3800      313600
 3801              	.LASF80:
 3802 01cd 61646472 		.ascii	"address\000"
 3802      65737300 
 3803              	.LASF74:
 3804 01d5 63686563 		.ascii	"checksum\000"
 3804      6B73756D 
 3804      00
 3805              	.LASF11:
 3806 01de 75696E74 		.ascii	"uint8\000"
 3806      3800
 3807              	.LASF10:
 3808 01e4 696E7433 		.ascii	"int32_t\000"
 3808      325F7400 
 3809              	.LASF31:
 3810 01ec 426F6F74 		.ascii	"BootLoaderVersion\000"
 3810      4C6F6164 
 3810      65725665 
 3810      7273696F 
 3810      6E00
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 122


 3811              	.LASF26:
 3812 01fe 704F7574 		.ascii	"pOutputBuffer\000"
 3812      70757442 
 3812      75666665 
 3812      7200
 3813              	.LASF48:
 3814 020c 426F6F74 		.ascii	"Bootloader_ValidateBootloadable\000"
 3814      6C6F6164 
 3814      65725F56 
 3814      616C6964 
 3814      61746542 
 3815              	.LASF6:
 3816 022c 6C6F6E67 		.ascii	"long long int\000"
 3816      206C6F6E 
 3816      6720696E 
 3816      7400
 3817              	.LASF72:
 3818 023a 746D7052 		.ascii	"tmpRowNum\000"
 3818      6F774E75 
 3818      6D00
 3819              	.LASF22:
 3820 0244 7061636B 		.ascii	"packetLength\000"
 3820      65744C65 
 3820      6E677468 
 3820      00
 3821              	.LASF4:
 3822 0251 6C6F6E67 		.ascii	"long int\000"
 3822      20696E74 
 3822      00
 3823              	.LASF78:
 3824 025a 426F6F74 		.ascii	"Bootloader_WritePacket\000"
 3824      6C6F6164 
 3824      65725F57 
 3824      72697465 
 3824      5061636B 
 3825              	.LASF67:
 3826 0271 61727261 		.ascii	"arrayIdBtlderEnds\000"
 3826      79496442 
 3826      746C6465 
 3826      72456E64 
 3826      7300
 3827              	.LASF50:
 3828 0283 63757242 		.ascii	"curByte\000"
 3828      79746500 
 3829              	.LASF39:
 3830 028b 426F6F74 		.ascii	"Bootloader_Start\000"
 3830      6C6F6164 
 3830      65725F53 
 3830      74617274 
 3830      00
 3831              	.LASF54:
 3832 029c 6E756D62 		.ascii	"numberRead\000"
 3832      65725265 
 3832      616400
 3833              	.LASF41:
 3834 02a7 63616C63 		.ascii	"calcedChecksum\000"
 3834      65644368 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 123


 3834      65636B73 
 3834      756D00
 3835              	.LASF75:
 3836 02b6 426F6F74 		.ascii	"Bootloader_inPacket\000"
 3836      6C6F6164 
 3836      65725F69 
 3836      6E506163 
 3836      6B657400 
 3837              	.LASF71:
 3838 02ca 726F774E 		.ascii	"rowNum\000"
 3838      756D00
 3839              	.LASF79:
 3840 02d1 426F6F74 		.ascii	"Bootloader_SetFlashByte\000"
 3840      6C6F6164 
 3840      65725F53 
 3840      6574466C 
 3840      61736842 
 3841              	.LASF60:
 3842 02e9 74696D65 		.ascii	"timeOutCnt\000"
 3842      4F757443 
 3842      6E7400
 3843              	.LASF19:
 3844 02f4 6C6F6E67 		.ascii	"long double\000"
 3844      20646F75 
 3844      626C6500 
 3845              	.LASF37:
 3846 0300 73746172 		.ascii	"start\000"
 3846      7400
 3847              	.LASF1:
 3848 0306 756E7369 		.ascii	"unsigned char\000"
 3848      676E6564 
 3848      20636861 
 3848      7200
 3849              	.LASF85:
 3850 0314 426F6F74 		.ascii	"Bootloader_GetMetadata\000"
 3850      6C6F6164 
 3850      65725F47 
 3850      65744D65 
 3850      74616461 
 3851              	.LASF64:
 3852 032b 64617461 		.ascii	"dataBuffer\000"
 3852      42756666 
 3852      657200
 3853              	.LASF77:
 3854 0336 426F6F74 		.ascii	"Bootloader_CalcPacketChecksum\000"
 3854      6C6F6164 
 3854      65725F43 
 3854      616C6350 
 3854      61636B65 
 3855              	.LASF0:
 3856 0354 7369676E 		.ascii	"signed char\000"
 3856      65642063 
 3856      68617200 
 3857              	.LASF23:
 3858 0360 70496E70 		.ascii	"pInputBuffer\000"
 3858      75744275 
 3858      66666572 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 124


 3858      00
 3859              	.LASF7:
 3860 036d 6C6F6E67 		.ascii	"long long unsigned int\000"
 3860      206C6F6E 
 3860      6720756E 
 3860      7369676E 
 3860      65642069 
 3861              	.LASF57:
 3862 0384 706B7443 		.ascii	"pktChecksum\000"
 3862      6865636B 
 3862      73756D00 
 3863              	.LASF91:
 3864 0390 426F6F74 		.ascii	"Bootloader_Checksum\000"
 3864      6C6F6164 
 3864      65725F43 
 3864      6865636B 
 3864      73756D00 
 3865              	.LASF44:
 3866 03a4 43794274 		.ascii	"CyBtldr_CheckLaunch\000"
 3866      6C64725F 
 3866      43686563 
 3866      6B4C6175 
 3866      6E636800 
 3867              	.LASF86:
 3868 03b8 6669656C 		.ascii	"field\000"
 3868      6400
 3869              	.LASF92:
 3870 03be 426F6F74 		.ascii	"Bootloader_ChecksumAccess\000"
 3870      6C6F6164 
 3870      65725F43 
 3870      6865636B 
 3870      73756D41 
 3871              	.LASF38:
 3872 03d8 426F6F74 		.ascii	"Bootloader_InitCallback\000"
 3872      6C6F6164 
 3872      65725F49 
 3872      6E697443 
 3872      616C6C62 
 3873              	.LASF88:
 3874 03f0 6669656C 		.ascii	"fieldSize\000"
 3874      6453697A 
 3874      6500
 3875              	.LASF25:
 3876 03fa 73746174 		.ascii	"status\000"
 3876      757300
 3877              	.LASF97:
 3878 0401 47656E65 		.ascii	"Generated_Source\\PSoC5\\Bootloader.c\000"
 3878      72617465 
 3878      645F536F 
 3878      75726365 
 3878      5C50536F 
 3879              	.LASF27:
 3880 0425 426F6F74 		.ascii	"Bootloader_out_packet_type\000"
 3880      6C6F6164 
 3880      65725F6F 
 3880      75745F70 
 3880      61636B65 
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 125


 3881              	.LASF63:
 3882 0440 7061636B 		.ascii	"packetBuffer\000"
 3882      65744275 
 3882      66666572 
 3882      00
 3883              	.LASF76:
 3884 044d 426F6F74 		.ascii	"Bootloader_outPacket\000"
 3884      6C6F6164 
 3884      65725F6F 
 3884      75745061 
 3884      636B6574 
 3885              	.LASF16:
 3886 0462 63686172 		.ascii	"char\000"
 3886      00
 3887              	.LASF35:
 3888 0467 75736572 		.ascii	"userCallback\000"
 3888      43616C6C 
 3888      6261636B 
 3888      00
 3889              	.LASF17:
 3890 0474 63797374 		.ascii	"cystatus\000"
 3890      61747573 
 3890      00
 3891              	.LASF58:
 3892 047d 72656164 		.ascii	"readStat\000"
 3892      53746174 
 3892      00
 3893              	.LASF28:
 3894 0486 426F6F74 		.ascii	"Bootloader_callback_type\000"
 3894      6C6F6164 
 3894      65725F63 
 3894      616C6C62 
 3894      61636B5F 
 3895              	.LASF52:
 3896 049f 426F6F74 		.ascii	"Bootloader_HostLink\000"
 3896      6C6F6164 
 3896      65725F48 
 3896      6F73744C 
 3896      696E6B00 
 3897              	.LASF53:
 3898 04b3 74696D65 		.ascii	"timeOut\000"
 3898      4F757400 
 3899              	.LASF40:
 3900 04bb 76616C69 		.ascii	"validApp\000"
 3900      64417070 
 3900      00
 3901              	.LASF55:
 3902 04c4 72737053 		.ascii	"rspSize\000"
 3902      697A6500 
 3903              	.LASF29:
 3904 04cc 53696C69 		.ascii	"SiliconId\000"
 3904      636F6E49 
 3904      6400
 3905              	.LASF33:
 3906 04d6 62756666 		.ascii	"buffer\000"
 3906      657200
 3907              	.LASF3:
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 126


 3908 04dd 73686F72 		.ascii	"short unsigned int\000"
 3908      7420756E 
 3908      7369676E 
 3908      65642069 
 3908      6E7400
 3909              	.LASF13:
 3910 04f0 75696E74 		.ascii	"uint32\000"
 3910      333200
 3911              	.LASF18:
 3912 04f7 72656738 		.ascii	"reg8\000"
 3912      00
 3913              	.LASF5:
 3914 04fc 6C6F6E67 		.ascii	"long unsigned int\000"
 3914      20756E73 
 3914      69676E65 
 3914      6420696E 
 3914      7400
 3915              	.LASF73:
 3916 050e 726F7741 		.ascii	"rowAddr\000"
 3916      64647200 
 3917              	.LASF15:
 3918 0516 646F7562 		.ascii	"double\000"
 3918      6C6500
 3919              	.LASF82:
 3920 051d 666C7341 		.ascii	"flsAddr\000"
 3920      64647200 
 3921              	.LASF90:
 3922 0525 426F6F74 		.ascii	"Bootloader_callback\000"
 3922      6C6F6164 
 3922      65725F63 
 3922      616C6C62 
 3922      61636B00 
 3923              	.LASF34:
 3924 0539 73697A65 		.ascii	"size\000"
 3924      00
 3925              	.LASF51:
 3926 053e 426F6F74 		.ascii	"Bootloader_LaunchBootloadable\000"
 3926      6C6F6164 
 3926      65725F4C 
 3926      61756E63 
 3926      68426F6F 
 3927              	.LASF47:
 3928 055c 426F6F74 		.ascii	"Bootloader_Calc8BitSum\000"
 3928      6C6F6164 
 3928      65725F43 
 3928      616C6338 
 3928      42697453 
 3929              	.LASF68:
 3930 0573 75707065 		.ascii	"upperRange\000"
 3930      7252616E 
 3930      676500
 3931              	.LASF9:
 3932 057e 5F5F696E 		.ascii	"__int32_t\000"
 3932      7433325F 
 3932      7400
 3933              	.LASF24:
 3934 0588 426F6F74 		.ascii	"Bootloader_in_packet_type\000"
ARM GAS  C:\Users\Taha\AppData\Local\Temp\ccVqc67j.s 			page 127


 3934      6C6F6164 
 3934      65725F69 
 3934      6E5F7061 
 3934      636B6574 
 3935              	.LASF42:
 3936 05a2 426F6F74 		.ascii	"Bootloader_Exit\000"
 3936      6C6F6164 
 3936      65725F45 
 3936      78697400 
 3937              	.LASF84:
 3938 05b2 61727261 		.ascii	"arrayId\000"
 3938      79496400 
 3939              	.LASF21:
 3940 05ba 636F6D6D 		.ascii	"command\000"
 3940      616E6400 
 3941              	.LASF30:
 3942 05c2 52657669 		.ascii	"Revision\000"
 3942      73696F6E 
 3942      00
 3943              	.LASF93:
 3944 05cb 426F6F74 		.ascii	"Bootloader_SizeBytes\000"
 3944      6C6F6164 
 3944      65725F53 
 3944      697A6542 
 3944      79746573 
 3945              	.LASF94:
 3946 05e0 426F6F74 		.ascii	"Bootloader_SizeBytesAccess\000"
 3946      6C6F6164 
 3946      65725F53 
 3946      697A6542 
 3946      79746573 
 3947              	.LASF69:
 3948 05fb 66697273 		.ascii	"firstRow\000"
 3948      74526F77 
 3948      00
 3949              	.LASF95:
 3950 0604 49544D5F 		.ascii	"ITM_RxBuffer\000"
 3950      52784275 
 3950      66666572 
 3950      00
 3951              	.LASF87:
 3952 0611 6669656C 		.ascii	"fieldPtr\000"
 3952      64507472 
 3952      00
 3953              	.LASF8:
 3954 061a 756E7369 		.ascii	"unsigned int\000"
 3954      676E6564 
 3954      20696E74 
 3954      00
 3955              	.LASF32:
 3956 0627 426F6F74 		.ascii	"Bootloader_ENTER\000"
 3956      6C6F6164 
 3956      65725F45 
 3956      4E544552 
 3956      00
 3957              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 5.4.1 20160609 (release) [ARM/embedded-5-bran
